---
title: Progettare con tipi riferimento nullable
description: Questa esercitazione avanzata fornisce un'introduzione ai tipi riferimento nullable. Si imparerà a esprimere le finalità della progettazione in merito a quando i valori di riferimento possono essere Null e a configurare il compilatore in modo che stabilisca quando non possono essere Null.
ms.date: 02/19/2019
ms.technology: csharp-null-safety
ms.custom: mvc
ms.openlocfilehash: d0faea19ac1c7c7f28d9775fc3b69c71a752fbcb
ms.sourcegitcommit: f348c84443380a1959294cdf12babcb804cfa987
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/12/2019
ms.locfileid: "73969353"
---
# <a name="tutorial-migrate-existing-code-with-nullable-reference-types"></a><span data-ttu-id="732f1-104">Esercitazione: eseguire la migrazione di codice esistente con tipi di riferimento Nullable</span><span class="sxs-lookup"><span data-stu-id="732f1-104">Tutorial: Migrate existing code with nullable reference types</span></span>

<span data-ttu-id="732f1-105">In C# 8 sono ora disponibili i **tipi riferimento nullable**, che completano i tipi riferimento allo stesso modo in cui i tipi valore nullable completano i tipi valore.</span><span class="sxs-lookup"><span data-stu-id="732f1-105">C# 8 introduces **nullable reference types**, which complement reference types the same way nullable value types complement value types.</span></span> <span data-ttu-id="732f1-106">Per dichiarare una variabile come **tipo riferimento nullable** basta aggiungere un `?` alla fine del tipo.</span><span class="sxs-lookup"><span data-stu-id="732f1-106">You declare a variable to be a **nullable reference type** by appending a `?` to the type.</span></span> <span data-ttu-id="732f1-107">Ad esempio, `string?` rappresenta un tipo `string` nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-107">For example, `string?` represents a nullable `string`.</span></span> <span data-ttu-id="732f1-108">È possibile usare questi nuovi tipi per esprimere più chiaramente le finalità della progettazione: alcune variabili *devono avere sempre un valore*, mentre in altre *un valore può mancare*.</span><span class="sxs-lookup"><span data-stu-id="732f1-108">You can use these new types to more clearly express your design intent: some variables *must always have a value*, others *may be missing a value*.</span></span> <span data-ttu-id="732f1-109">Tutte le variabili esistenti di un tipo riferimento verrebbero interpretate come un tipo riferimento non nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-109">Any existing variables of a reference type would be interpreted as a non-nullable reference type.</span></span> 

<span data-ttu-id="732f1-110">In questa esercitazione si imparerà a:</span><span class="sxs-lookup"><span data-stu-id="732f1-110">In this tutorial, you'll learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="732f1-111">Abilitare i controlli dei riferimenti Null mentre si lavora con il codice.</span><span class="sxs-lookup"><span data-stu-id="732f1-111">Enable null reference checks as you work with code.</span></span>
> - <span data-ttu-id="732f1-112">Diagnosticare e correggere i diversi avvisi correlati ai valori Null.</span><span class="sxs-lookup"><span data-stu-id="732f1-112">Diagnose and correct different warnings related to null values.</span></span>
> - <span data-ttu-id="732f1-113">Gestire l'interfaccia tra contesti abilitati per nullable e contesti disabilitati per nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-113">Manage the interface between nullable enabled and nullable disabled contexts.</span></span>
> - <span data-ttu-id="732f1-114">Controllare i contesti delle annotazioni nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-114">Control nullable annotation contexts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="732f1-115">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="732f1-115">Prerequisites</span></span>

<span data-ttu-id="732f1-116">È necessario configurare il computer per l'esecuzione di .NET Core, incluso il C# compilatore 8,0.</span><span class="sxs-lookup"><span data-stu-id="732f1-116">You’ll need to set up your machine to run .NET Core, including the C# 8.0 compiler.</span></span> <span data-ttu-id="732f1-117">Il C# compilatore 8 è disponibile a partire da [Visual Studio 2019 versione 16,3](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019) o [.NET Core 3,0 SDK](https://dotnet.microsoft.com/download).</span><span class="sxs-lookup"><span data-stu-id="732f1-117">The C# 8 compiler is available starting with [Visual Studio 2019 version 16.3](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019) or [.NET Core 3.0 SDK](https://dotnet.microsoft.com/download).</span></span>

<span data-ttu-id="732f1-118">Per questa esercitazione si presuppone che l'utente abbia familiarità con C# e .NET, inclusa l'interfaccia della riga di comando di .NET Core o Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="732f1-118">This tutorial assumes you're familiar with C# and .NET, including either Visual Studio or the .NET Core CLI.</span></span>

## <a name="explore-the-sample-application"></a><span data-ttu-id="732f1-119">Esplorare l'applicazione di esempio</span><span class="sxs-lookup"><span data-stu-id="732f1-119">Explore the sample application</span></span>

<span data-ttu-id="732f1-120">L'applicazione di esempio di cui verrà eseguita la migrazione è un'app Web lettore di feed RSS.</span><span class="sxs-lookup"><span data-stu-id="732f1-120">The sample application that you'll migrate is an RSS feed reader web app.</span></span> <span data-ttu-id="732f1-121">L'app consente di leggere da un singolo feed RSS e visualizzare riassunti per gli articoli più recenti.</span><span class="sxs-lookup"><span data-stu-id="732f1-121">It reads from a single RSS feed and displays summaries for the most recent articles.</span></span> <span data-ttu-id="732f1-122">È possibile selezionare uno degli articoli per visitare il sito.</span><span class="sxs-lookup"><span data-stu-id="732f1-122">You can select any of the articles to visit the site.</span></span> <span data-ttu-id="732f1-123">L'applicazione è relativamente nuova, ma è stata scritta prima che diventassero disponibili i tipi riferimento nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-123">The application is relatively new but was written before nullable reference types were available.</span></span> <span data-ttu-id="732f1-124">Pur essendo rappresentative di solidi principi, le decisioni di progettazione non sfruttano questa importante funzionalità del linguaggio.</span><span class="sxs-lookup"><span data-stu-id="732f1-124">The design decisions for the application represented sound principles, but don't take advantage of this important language feature.</span></span>

<span data-ttu-id="732f1-125">L'applicazione di esempio include una libreria di unit test che convalida le funzionalità principali dell'app.</span><span class="sxs-lookup"><span data-stu-id="732f1-125">The sample application includes a unit test library that validates the major functionality of the app.</span></span> <span data-ttu-id="732f1-126">Tale progetto renderà più facile eseguire l'aggiornamento in modo sicuro, se si modifica qualsiasi implementazione in base agli avvisi generati.</span><span class="sxs-lookup"><span data-stu-id="732f1-126">That project will make it easier to upgrade safely, if you change any of the implementation based on the warnings generated.</span></span> <span data-ttu-id="732f1-127">È possibile scaricare il codice iniziale dal repository GitHub [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start).</span><span class="sxs-lookup"><span data-stu-id="732f1-127">You can download the starter code from the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start) GitHub repository.</span></span>

<span data-ttu-id="732f1-128">L'obiettivo di migrazione del progetto dovrebbe essere di sfruttare le nuove funzionalità del linguaggio in modo da esprimere chiaramente le finalità per il supporto dei valori Null delle variabili e farlo in modo tale che il compilatore non generi avvisi quando il contesto delle annotazioni nullable e il contesto degli avvisi nullable è impostato su `enabled`.</span><span class="sxs-lookup"><span data-stu-id="732f1-128">Your goal migrating a project should be to leverage the new language features so that you clearly express your intent on the nullability of variables, and do so in such a way that the compiler doesn't generate warnings when you have the nullable annotation context and nullable warning context set to `enabled`.</span></span>

## <a name="upgrade-the-projects-to-c-8"></a><span data-ttu-id="732f1-129">Aggiornare i progetti a C# 8</span><span class="sxs-lookup"><span data-stu-id="732f1-129">Upgrade the projects to C# 8</span></span>

<span data-ttu-id="732f1-130">Un buon primo passo è determinare l'ambito dell'attività di migrazione.</span><span class="sxs-lookup"><span data-stu-id="732f1-130">A good first step is to determine the scope of the migration task.</span></span> <span data-ttu-id="732f1-131">Per iniziare, aggiornare il progetto a C# 8.0 (o versione successiva).</span><span class="sxs-lookup"><span data-stu-id="732f1-131">Start by upgrading the project to C# 8.0 (or newer).</span></span> <span data-ttu-id="732f1-132">Aggiungere l'elemento `LangVersion` sia ai file csproj per il progetto Web che al progetto di unit test:</span><span class="sxs-lookup"><span data-stu-id="732f1-132">Add the `LangVersion` element to both csproj files for the web project and the unit test project:</span></span>

```xml
<LangVersion>8.0</LangVersion>
```

<span data-ttu-id="732f1-133">L'aggiornamento della versione del linguaggio seleziona C# 8.0, ma non abilita il contesto delle annotazioni nullable e il contesto degli avvisi nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-133">Upgrading the language version selects C# 8.0, but does not enable the nullable annotation context or the nullable warning context.</span></span> <span data-ttu-id="732f1-134">Ricompilare il progetto per assicurarsi che venga compilato senza avvisi.</span><span class="sxs-lookup"><span data-stu-id="732f1-134">Rebuild the project to ensure that it builds without warnings.</span></span>

<span data-ttu-id="732f1-135">Un buon passo successivo è attivare il contesto delle annotazioni nullable e vedere quanti avvisi vengono generati.</span><span class="sxs-lookup"><span data-stu-id="732f1-135">A good next step is to turn on the nullable annotation context and see how many warnings are generated.</span></span> <span data-ttu-id="732f1-136">Aggiungere l'elemento seguente sia ai file csproj nella soluzione, che direttamente nell'elemento `LangVersion`:</span><span class="sxs-lookup"><span data-stu-id="732f1-136">Add the following element to both csproj files in the solution, directly under the `LangVersion` element:</span></span>

```xml
<Nullable>enable</Nullable>
```

<span data-ttu-id="732f1-137">Eseguire una compilazione di prova ed esaminare l'elenco degli avvisi.</span><span class="sxs-lookup"><span data-stu-id="732f1-137">Do a test build, and notice the warning list.</span></span> <span data-ttu-id="732f1-138">In questa piccola applicazione, il compilatore genera cinque avvisi, dunque è probabile che in un caso come questo si lasci abilitato il contesto delle annotazioni nullable e si inizi a risolvere gli avvisi per l'intero progetto.</span><span class="sxs-lookup"><span data-stu-id="732f1-138">In this small application, the compiler generates five warnings, so it's likely you'd leave the nullable annotation context enabled and start fixing warnings for the entire project.</span></span>

<span data-ttu-id="732f1-139">Questa strategia funziona solo per i progetti più piccoli.</span><span class="sxs-lookup"><span data-stu-id="732f1-139">That strategy works only for smaller projects.</span></span> <span data-ttu-id="732f1-140">Per qualsiasi progetto di dimensioni più grandi, il numero di avvisi generati abilitando il contesto delle annotazioni nullable per l'intera base di codice rende più difficile risolvere gli avvisi in modo sistematico.</span><span class="sxs-lookup"><span data-stu-id="732f1-140">For any larger projects, the number of warnings generated by enabling the nullable annotation context for the entire codebase makes it harder to fix the warnings systematically.</span></span> <span data-ttu-id="732f1-141">Per progetti aziendali più grandi, è spesso opportuno eseguire la migrazione di un progetto alla volta.</span><span class="sxs-lookup"><span data-stu-id="732f1-141">For larger enterprise projects, you'll often want to migrate one project at a time.</span></span> <span data-ttu-id="732f1-142">In ogni progetto, eseguire la migrazione di una classe o un file alla volta.</span><span class="sxs-lookup"><span data-stu-id="732f1-142">In each project, migrate one class or file at a time.</span></span>

## <a name="warnings-help-discover-original-design-intent"></a><span data-ttu-id="732f1-143">Gli avvisi sono utili per individuare le finalità di progettazione originali</span><span class="sxs-lookup"><span data-stu-id="732f1-143">Warnings help discover original design intent</span></span>

<span data-ttu-id="732f1-144">Esistono due classi che generano più avvisi.</span><span class="sxs-lookup"><span data-stu-id="732f1-144">There are two classes that generate multiple warnings.</span></span> <span data-ttu-id="732f1-145">Prima di tutto la classe `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="732f1-145">Start with the `NewsStoryViewModel` class.</span></span> <span data-ttu-id="732f1-146">Rimuovere l'elemento `Nullable` da entrambi i file csproj in modo da poter limitare l'ambito degli avvisi alle sezioni del codice su cui si sta lavorando.</span><span class="sxs-lookup"><span data-stu-id="732f1-146">Remove the `Nullable` element from both csproj files so that you can limit the scope of warnings to the sections of code you're working with.</span></span> <span data-ttu-id="732f1-147">Aprire il file *NewsStoryViewModel.cs* e aggiungere le direttive seguenti per abilitare il contesto delle annotazioni nullable per `NewsStoryViewModel` e ripristinarlo seguendo tale definizione di classe:</span><span class="sxs-lookup"><span data-stu-id="732f1-147">Open the *NewsStoryViewModel.cs* file and add the following directives to enable the nullable annotation context for the `NewsStoryViewModel` and restore it following that class definition:</span></span>

```csharp
#nullable enable
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; }
    public string Uri { get; set; }
}
#nullable restore
```

<span data-ttu-id="732f1-148">Queste due direttive consentono di focalizzare le operazioni di migrazione.</span><span class="sxs-lookup"><span data-stu-id="732f1-148">These two directives help you focus your migration efforts.</span></span> <span data-ttu-id="732f1-149">Gli avvisi nullable vengono generati per l'area del codice su cui si sta lavorando attivamente.</span><span class="sxs-lookup"><span data-stu-id="732f1-149">The nullable warnings are generated for the area of code you're actively working on.</span></span> <span data-ttu-id="732f1-150">Verranno lasciati attivi fino a quando non si è pronti per attivare gli avvisi per l'intero progetto.</span><span class="sxs-lookup"><span data-stu-id="732f1-150">You'll leave them on until you're ready to turn on the warnings for the entire project.</span></span> <span data-ttu-id="732f1-151">È consigliabile usare il valore `restore` invece di `disable`, in modo da evitare di disabilitare inavvertitamente il contesto in un secondo momento quando si attivano le annotazioni nullable per l'intero progetto.</span><span class="sxs-lookup"><span data-stu-id="732f1-151">You should use the `restore` rather than `disable` value so that you don't accidentally disable the context later when you've turned on nullable annotations for the entire project.</span></span> <span data-ttu-id="732f1-152">Dopo avere attivato il contesto delle annotazioni nullable per l'intero progetto, è possibile rimuovere tutti i pragma `#nullable` da tale progetto.</span><span class="sxs-lookup"><span data-stu-id="732f1-152">Once you've turned on the nullable annotation context for the entire project, you can remove all the `#nullable` pragmas from that project.</span></span>

<span data-ttu-id="732f1-153">La classe `NewsStoryViewModel` è un oggetto di trasferimento dei dati (DTO) e due delle proprietà sono stringhe di lettura/scrittura:</span><span class="sxs-lookup"><span data-stu-id="732f1-153">The `NewsStoryViewModel` class is a data transfer object (DTO) and two of the properties are read/write strings:</span></span>

[!code-csharp[InitialViewModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#StarterViewModel)]

<span data-ttu-id="732f1-154">Queste due proprietà causano l'avviso `CS8618` "Non-nullable property is uninitialized" (Proprietà non nullable non inizializzata).</span><span class="sxs-lookup"><span data-stu-id="732f1-154">These two properties cause `CS8618`, "Non-nullable property is uninitialized".</span></span> <span data-ttu-id="732f1-155">Il messaggio è chiaro: entrambe le proprietà `string` hanno il valore predefinito `null` quando viene costruito un `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="732f1-155">That's clear enough: both `string` properties have the default value of `null` when a `NewsStoryViewModel` is constructed.</span></span> <span data-ttu-id="732f1-156">Quello che è importante scoprire è come vengono costruiti gli oggetti `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="732f1-156">What's important to discover is how `NewsStoryViewModel` objects are constructed.</span></span> <span data-ttu-id="732f1-157">Esaminando questa classe non è possibile stabilire se il valore `null` fa parte della progettazione o se questi oggetti sono impostati su valori non Null ogni volta che ne viene creato uno.</span><span class="sxs-lookup"><span data-stu-id="732f1-157">Looking at this class, you can't tell if the `null` value is part of the design, or if these objects are set to non-null values whenever one is created.</span></span> <span data-ttu-id="732f1-158">Le storie delle notizie vengono create nel metodo `GetNews` della classe `NewsService`:</span><span class="sxs-lookup"><span data-stu-id="732f1-158">The news stories are created in the `GetNews` method of the `NewsService` class:</span></span>

[!code-csharp[StarterCreateNewsItem](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#CreateNewsItem)]

<span data-ttu-id="732f1-159">Sono tanti gli aspetti interessanti nel blocco di codice precedente.</span><span class="sxs-lookup"><span data-stu-id="732f1-159">There's quite a bit going on in the preceding block of code.</span></span> <span data-ttu-id="732f1-160">Questa applicazione usa il pacchetto NuGet [AutoMapper](https://automapper.org/) per costruire un elemento di notizie da un `ISyndicationItem`.</span><span class="sxs-lookup"><span data-stu-id="732f1-160">This application uses the [AutoMapper](https://automapper.org/) NuGet package to construct a news item from an `ISyndicationItem`.</span></span> <span data-ttu-id="732f1-161">Si è scoperto che gli elementi della storia delle notizie vengono costruiti e le proprietà vengono impostate in tale singola istruzione.</span><span class="sxs-lookup"><span data-stu-id="732f1-161">You've discovered that the news story items are constructed and the properties are set in that one statement.</span></span> <span data-ttu-id="732f1-162">Questo significa che la progettazione per `NewsStoryViewModel` indica che queste proprietà non devono mai avere il valore `null`.</span><span class="sxs-lookup"><span data-stu-id="732f1-162">That means the design for the `NewsStoryViewModel` indicates that these properties should never have the `null` value.</span></span> <span data-ttu-id="732f1-163">Queste proprietà devono essere **tipi riferimento non nullable**.</span><span class="sxs-lookup"><span data-stu-id="732f1-163">These properties should be **nonnullable reference types**.</span></span> <span data-ttu-id="732f1-164">Questa è la migliore espressione della finalità di progettazione originale.</span><span class="sxs-lookup"><span data-stu-id="732f1-164">That best expresses the original design intent.</span></span> <span data-ttu-id="732f1-165">In effetti, per qualsiasi `NewsStoryViewModel` *viene* correttamente creata un'istanza con valori non Null.</span><span class="sxs-lookup"><span data-stu-id="732f1-165">In fact, any `NewsStoryViewModel` *is* correctly instantiated with non-null values.</span></span> <span data-ttu-id="732f1-166">Il codice di inizializzazione seguente rappresenta quindi una correzione valida:</span><span class="sxs-lookup"><span data-stu-id="732f1-166">That makes the following initialization code a valid fix:</span></span>

```csharp
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; } = default!;
    public string Uri { get; set; } = default!;
}
```

<span data-ttu-id="732f1-167">L'assegnazione di `Title` e `Uri` a `default`, ovvero `null` per il tipo `string`, non cambia il comportamento di runtime del programma.</span><span class="sxs-lookup"><span data-stu-id="732f1-167">The assignment of `Title` and `Uri` to `default` which is `null` for the `string` type doesn't change the runtime behavior of the program.</span></span> <span data-ttu-id="732f1-168">`NewsStoryViewModel` viene ancora costruito con valori Null, ma ora il compilatore non segnala alcun avviso.</span><span class="sxs-lookup"><span data-stu-id="732f1-168">The `NewsStoryViewModel` is still constructed with null values, but now the compiler reports no warnings.</span></span> <span data-ttu-id="732f1-169">L'**operatore per la tolleranza per i valori Null**, ovvero il carattere `!` dopo l'espressione `default`, indica al compilatore che l'espressione precedente non è Null.</span><span class="sxs-lookup"><span data-stu-id="732f1-169">The **null-forgiving operator**, the `!` character following the `default` expression tells the compiler that the preceding expression is not null.</span></span> <span data-ttu-id="732f1-170">Questa tecnica può essere utile quando altre modifiche forzano modifiche molto più grandi in una codebase, ma in questa applicazione esiste una soluzione relativamente rapida e migliore: rendere il `NewsStoryViewModel` un tipo non modificabile in cui tutte le proprietà vengono impostate nel costruttore.</span><span class="sxs-lookup"><span data-stu-id="732f1-170">This technique may be expedient when other changes force much larger changes to a code base, but in this application there is a relatively quick and better solution: Make the `NewsStoryViewModel` an immutable type where all the properties are set in the constructor.</span></span> <span data-ttu-id="732f1-171">Modificare `NewsStoryViewModel` nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="732f1-171">Make the following changes to the `NewsStoryViewModel`:</span></span>

[!code-csharp[FinishedViewModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#FinishedViewModel)]

<span data-ttu-id="732f1-172">Al termine, è necessario aggiornare il codice che configura AutoMapper in modo che usi il costruttore anziché impostare proprietà.</span><span class="sxs-lookup"><span data-stu-id="732f1-172">Once that's done, you need to update the code that configures the AutoMapper so that it uses the constructor rather than setting properties.</span></span> <span data-ttu-id="732f1-173">Aprire `NewsService.cs` e cercare il codice seguente nella parte inferiore del file:</span><span class="sxs-lookup"><span data-stu-id="732f1-173">Open `NewsService.cs` and look for the following code at the bottom of the file:</span></span>

[!code-csharp[StarterAutoMapper](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="732f1-174">Tale codice esegue il mapping delle proprietà dell'oggetto `ISyndicationItem` con le proprietà `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="732f1-174">That code maps properties of the `ISyndicationItem` object to the `NewsStoryViewModel` properties.</span></span> <span data-ttu-id="732f1-175">Si vuole invece che AutoMapper fornisca il mapping usando un costruttore.</span><span class="sxs-lookup"><span data-stu-id="732f1-175">You want the AutoMapper to provide the mapping using a constructor instead.</span></span> <span data-ttu-id="732f1-176">Sostituire il codice precedente con la configurazione di AutoMapper seguente:</span><span class="sxs-lookup"><span data-stu-id="732f1-176">Replace the above code with the following automapper configuration:</span></span>

[!code-csharp[FinishedViewModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="732f1-177">Si noti che poiché questa classe è piccola e il codice è stato esaminato con attenzione, è necessario attivare la direttiva `#nullable enable` sopra questa dichiarazione di classe.</span><span class="sxs-lookup"><span data-stu-id="732f1-177">Notice that because this class is small, and you've examined carefully, you should turn on the `#nullable enable` directive above this class declaration.</span></span> <span data-ttu-id="732f1-178">La modifica al costruttore potrebbe aver introdotto errori, quindi è opportuno eseguire tutti i test e verificare l'applicazione prima di procedere.</span><span class="sxs-lookup"><span data-stu-id="732f1-178">The change to the constructor could have broken something, so it's worthwhile to run all the tests and test the application before moving on.</span></span>

<span data-ttu-id="732f1-179">Il primo set di modifiche ha illustrato come scoprire quando il progetto originale indica che le variabili non devono essere impostate su `null`.</span><span class="sxs-lookup"><span data-stu-id="732f1-179">The first set of changes showed you how to discover when the original design indicated that variables shouldn't be set to `null`.</span></span> <span data-ttu-id="732f1-180">Questa tecnica è nota come **corretta per costruzione**.</span><span class="sxs-lookup"><span data-stu-id="732f1-180">The technique is referred to as **correct by construction**.</span></span> <span data-ttu-id="732f1-181">Si dichiara che un oggetto e le relative proprietà non possono essere `null` quando vengono costruiti.</span><span class="sxs-lookup"><span data-stu-id="732f1-181">You declare that an object and its properties cannot be `null` when it's constructed.</span></span> <span data-ttu-id="732f1-182">L'analisi di flusso del compilatore garantisce che tali proprietà non vengano impostate su `null` dopo la costruzione.</span><span class="sxs-lookup"><span data-stu-id="732f1-182">The compiler's flow analysis provides assurance that those properties aren't set to `null` after construction.</span></span> <span data-ttu-id="732f1-183">Si noti che questo costruttore viene chiamato da codice esterno e che tale codice è **incurante dei valori Null**.</span><span class="sxs-lookup"><span data-stu-id="732f1-183">Note that this constructor is called by external code, and that code is **nullable oblivious**.</span></span> <span data-ttu-id="732f1-184">La nuova sintassi non prevede controlli di runtime.</span><span class="sxs-lookup"><span data-stu-id="732f1-184">The new syntax doesn't provide runtime checking.</span></span> <span data-ttu-id="732f1-185">Il codice esterno potrebbe aggirare l'analisi di flusso del compilatore.</span><span class="sxs-lookup"><span data-stu-id="732f1-185">External code might circumvent the compiler's flow analysis.</span></span> 

<span data-ttu-id="732f1-186">In altri casi, la struttura di una classe offre diverse indicazioni della finalità.</span><span class="sxs-lookup"><span data-stu-id="732f1-186">Other times, the structure of a class provides different clues to the intent.</span></span> <span data-ttu-id="732f1-187">Aprire il file *Error.cshtml.cs* nella cartella *Pages*.</span><span class="sxs-lookup"><span data-stu-id="732f1-187">Open the *Error.cshtml.cs* file in the *Pages* folder.</span></span> <span data-ttu-id="732f1-188">`ErrorViewModel` contiene il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="732f1-188">The `ErrorViewModel` contains the following code:</span></span>

[!code-csharp[StarterErrorModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Error.cshtml.cs#StartErrorModel)]

<span data-ttu-id="732f1-189">Aggiungere la direttiva `#nullable enable` prima della dichiarazione di classe e una direttiva `#nullable restore` dopo la dichiarazione.</span><span class="sxs-lookup"><span data-stu-id="732f1-189">Add the `#nullable enable` directive before the class declaration, and a `#nullable restore` directive after it.</span></span> <span data-ttu-id="732f1-190">Si riceverà un avviso che `RequestId` non è inizializzato.</span><span class="sxs-lookup"><span data-stu-id="732f1-190">You'll get one warning that `RequestId` is not initialized.</span></span> <span data-ttu-id="732f1-191">Osservando la classe, è necessario decidere che la proprietà `RequestId` deve essere Null in alcuni casi.</span><span class="sxs-lookup"><span data-stu-id="732f1-191">By looking at the class, you should decide that the `RequestId` property should be null in some cases.</span></span> <span data-ttu-id="732f1-192">L'esistenza della proprietà `ShowRequestId` indica che sono possibili valori mancanti.</span><span class="sxs-lookup"><span data-stu-id="732f1-192">The existence of the `ShowRequestId` property indicates that missing values are possible.</span></span> <span data-ttu-id="732f1-193">Dato che `null` è valido, aggiungere `?` al tipo `string` per indicare che la proprietà `RequestId` è un *tipo riferimento nullable*.</span><span class="sxs-lookup"><span data-stu-id="732f1-193">Because `null` is valid, add the `?` on the `string` type to indicate the `RequestId` property is a *nullable reference type*.</span></span> <span data-ttu-id="732f1-194">La classe finale è simile all'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="732f1-194">The final class looks like the following example:</span></span>

[!code-csharp[FinishedErrorModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Error.cshtml.cs#ErrorModel)]

<span data-ttu-id="732f1-195">Controllando gli usi della proprietà si noterà che nella pagina associata è previsto il controllo del valore Null per la proprietà prima di eseguirne il rendering nel markup.</span><span class="sxs-lookup"><span data-stu-id="732f1-195">Check for the uses of the property, and you see that in the associated page, the property is checked for null before rendering it in markup.</span></span> <span data-ttu-id="732f1-196">Questo è un uso sicuro di un tipo riferimento nullable, quindi è tutto per questa classe.</span><span class="sxs-lookup"><span data-stu-id="732f1-196">That's a safe use of a nullable reference type, so you're done with this class.</span></span>

## <a name="fixing-nulls-causes-change"></a><span data-ttu-id="732f1-197">La correzione dei valori Null causa modifiche</span><span class="sxs-lookup"><span data-stu-id="732f1-197">Fixing nulls causes change</span></span>

<span data-ttu-id="732f1-198">Spesso, la correzione per un set di avvisi crea nuovi avvisi nel codice correlato.</span><span class="sxs-lookup"><span data-stu-id="732f1-198">Frequently, the fix for one set of warnings creates new warnings in related code.</span></span> <span data-ttu-id="732f1-199">È possibile visualizzare gli avvisi in azione correggendo la classe `index.cshtml.cs`.</span><span class="sxs-lookup"><span data-stu-id="732f1-199">Let's see the warnings in action by fixing the `index.cshtml.cs` class.</span></span> <span data-ttu-id="732f1-200">Aprire il file `index.cshtml.cs` ed esaminare il codice.</span><span class="sxs-lookup"><span data-stu-id="732f1-200">Open the `index.cshtml.cs` file and examine the code.</span></span> <span data-ttu-id="732f1-201">Questo file contiene il code-behind per la pagina di indice:</span><span class="sxs-lookup"><span data-stu-id="732f1-201">This file contains the code behind for the index page:</span></span>

[!code-csharp[StarterIndexModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Index.cshtml.cs#IndexModelStart)]

<span data-ttu-id="732f1-202">Aggiungere la direttiva `#nullable enable`. Verranno visualizzati due avvisi.</span><span class="sxs-lookup"><span data-stu-id="732f1-202">Add the `#nullable enable` directive and you'll see two warnings.</span></span> <span data-ttu-id="732f1-203">Entrambe le proprietà `ErrorText` e `NewsItems` sono inizializzate.</span><span class="sxs-lookup"><span data-stu-id="732f1-203">Neither the `ErrorText` property nor the `NewsItems` property is initialized.</span></span> <span data-ttu-id="732f1-204">Un esame di questa classe porterebbe a credere che entrambe le proprietà devono essere tipi di riferimento Nullable: entrambi hanno Setter privati.</span><span class="sxs-lookup"><span data-stu-id="732f1-204">An examination of this class would lead you to believe that both properties should be nullable reference types: Both have private setters.</span></span> <span data-ttu-id="732f1-205">Una sola viene assegnata nel metodo `OnGet`.</span><span class="sxs-lookup"><span data-stu-id="732f1-205">Exactly one is assigned in the `OnGet` method.</span></span> <span data-ttu-id="732f1-206">Prima di apportare modifiche, esaminare i consumer di entrambe le proprietà.</span><span class="sxs-lookup"><span data-stu-id="732f1-206">Before making changes, look at the consumers of both properties.</span></span> <span data-ttu-id="732f1-207">Nella pagina stessa, viene eseguito un controllo del valore Null per `ErrorText` prima della generazione del markup per eventuali errori.</span><span class="sxs-lookup"><span data-stu-id="732f1-207">In the page itself, the `ErrorText` is checked against null before generating markup for any errors.</span></span> <span data-ttu-id="732f1-208">Viene eseguito un controllo di `null` per la raccolta `NewsItems`, che viene anche controllata per assicurarsi che contenga elementi.</span><span class="sxs-lookup"><span data-stu-id="732f1-208">The `NewsItems` collection is checked against `null`, and checked to ensure the collection has items.</span></span> <span data-ttu-id="732f1-209">Una correzione rapida potrebbe consistere nell'impostare entrambe le proprietà come tipi riferimento nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-209">A quick fix would be to make both properties nullable reference types.</span></span> <span data-ttu-id="732f1-210">Una correzione migliore sarebbe impostare la raccolta come tipo riferimento non nullable e aggiungere elementi alla raccolta esistente durante il recupero delle notizie.</span><span class="sxs-lookup"><span data-stu-id="732f1-210">A better fix would be to make the collection a nonnullable reference type, and add items to the existing collection when retrieving news.</span></span> <span data-ttu-id="732f1-211">La prima correzione prevede l'aggiunta di `?` al tipo `string` per `ErrorText`:</span><span class="sxs-lookup"><span data-stu-id="732f1-211">The first fix is to add the `?` to the `string` type for the `ErrorText`:</span></span>

[!code-csharp[UpdateErrorText](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#UpdateErrorText)]

<span data-ttu-id="732f1-212">Tale modifica non verrà propagata in altro codice, perché qualsiasi accesso alla proprietà `ErrorText` è già protetto dai controlli Null.</span><span class="sxs-lookup"><span data-stu-id="732f1-212">That change won't ripple through other code, because any access to the `ErrorText` property was already guarded by null checks.</span></span> <span data-ttu-id="732f1-213">Inizializzare quindi l'elenco `NewsItems` e rimuovere il setter della proprietà, rendendola una proprietà di sola lettura:</span><span class="sxs-lookup"><span data-stu-id="732f1-213">Next, initialize the `NewsItems` list and remove the property setter, making it a readonly property:</span></span>

[!code-csharp[InitializeNewsItems](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#InitializeNewsItems)]

<span data-ttu-id="732f1-214">In questo modo è stato risolto l'avviso, ma è stato introdotto un errore.</span><span class="sxs-lookup"><span data-stu-id="732f1-214">That fixed the warning but introduced an error.</span></span> <span data-ttu-id="732f1-215">L'`NewsItems` elenco è ora **corretto per costruzione**, ma il codice che imposta l'elenco in `OnGet` deve essere modificato in modo che corrisponda alla nuova API.</span><span class="sxs-lookup"><span data-stu-id="732f1-215">The `NewsItems` list is now **correct by construction**, but the code that sets the list in `OnGet` must change to match the new API.</span></span> <span data-ttu-id="732f1-216">Invece di usare un'assegnazione, chiamare `AddRange` per aggiungere gli elementi delle notizie all'elenco esistente:</span><span class="sxs-lookup"><span data-stu-id="732f1-216">Instead of an assignment, call `AddRange` to add the news items to the existing list:</span></span>

[!code-csharp[AddRange](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#AddRange)]

<span data-ttu-id="732f1-217">L'uso di `AddRange` al posto di un'assegnazione significa che il metodo `GetNews` può restituire `IEnumerable` invece di `List`.</span><span class="sxs-lookup"><span data-stu-id="732f1-217">Using `AddRange` instead of an assignment means that the `GetNews` method can return an `IEnumerable` instead of a `List`.</span></span> <span data-ttu-id="732f1-218">Si risparmia così un'allocazione.</span><span class="sxs-lookup"><span data-stu-id="732f1-218">That saves one allocation.</span></span> <span data-ttu-id="732f1-219">Modificare la firma del metodo e rimuovere la chiamata `ToList`, come illustrato nell'esempio di codice seguente:</span><span class="sxs-lookup"><span data-stu-id="732f1-219">Change the signature of the method, and remove the `ToList` call, as shown in the following code sample:</span></span>

[!code-csharp[GetNews](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#GetNewsFinished)]

<span data-ttu-id="732f1-220">Anche la modifica della firma causa errori per uno dei test.</span><span class="sxs-lookup"><span data-stu-id="732f1-220">Changing the signature breaks one of tests as well.</span></span> <span data-ttu-id="732f1-221">Aprire il file `NewsServiceTests.cs` nella cartella `Services` del progetto `SimpleFeedReader.Tests`.</span><span class="sxs-lookup"><span data-stu-id="732f1-221">Open the `NewsServiceTests.cs` file in the `Services` folder of the `SimpleFeedReader.Tests` project.</span></span> <span data-ttu-id="732f1-222">Passare al test `Returns_News_Stories_Given_Valid_Uri` e modificare il tipo della variabile `result` in `IEnumerable<NewsItem>`.</span><span class="sxs-lookup"><span data-stu-id="732f1-222">Navigate to the `Returns_News_Stories_Given_Valid_Uri` test and change the type of the `result` variable to `IEnumerable<NewsItem>`.</span></span> <span data-ttu-id="732f1-223">La modifica del tipo significa che la proprietà `Count` non è più disponibile, quindi sostituire la proprietà `Count` in `Assert` con una chiamata a `Any()`:</span><span class="sxs-lookup"><span data-stu-id="732f1-223">Changing the type means the `Count` property is no longer available, so replace the `Count` property in the `Assert` with a call to `Any()`:</span></span>

[!code-csharp[FixTests](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader.Tests/Services/NewsServiceTests.cs#FixTestSignature)]

<span data-ttu-id="732f1-224">Sarà anche necessario aggiungere un'istruzione `using System.Linq` all'inizio del file.</span><span class="sxs-lookup"><span data-stu-id="732f1-224">You'll need to add a `using System.Linq` statement to the beginning of the file as well.</span></span>

<span data-ttu-id="732f1-225">Questo set di modifiche evidenzia quanto sia necessaria un'attenzione speciale quando si aggiorna codice che include creazioni di istanze generiche.</span><span class="sxs-lookup"><span data-stu-id="732f1-225">This set of changes highlights special consideration when updating code that includes generic instantiations.</span></span> <span data-ttu-id="732f1-226">Sia l'elenco che gli elementi nell'elenco di tipi non nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-226">Both the list and the elements in the list of non-nullable types.</span></span> <span data-ttu-id="732f1-227">Uno o entrambi potrebbero essere tipi nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-227">Either or both could be nullable types.</span></span> <span data-ttu-id="732f1-228">Tutte le dichiarazioni seguenti sono consentite:</span><span class="sxs-lookup"><span data-stu-id="732f1-228">All the following declarations are allowed:</span></span>

- <span data-ttu-id="732f1-229">`List<NewsStoryViewModel>`: elenco non nullable di modelli di visualizzazione non nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-229">`List<NewsStoryViewModel>`: nonnullable list of nonullable view models.</span></span>
- <span data-ttu-id="732f1-230">`List<NewsStoryViewModel?>`: elenco non nullable di modelli di visualizzazione nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-230">`List<NewsStoryViewModel?>`: nonnullable list of nullable view models.</span></span>
- <span data-ttu-id="732f1-231">`List<NewsStoryViewModel>?`: elenco nullable di modelli di visualizzazione non nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-231">`List<NewsStoryViewModel>?`: nullable list of nonnullable view models.</span></span>
- <span data-ttu-id="732f1-232">`List<NewsStoryViewModel?>?`: elenco nullable di modelli di visualizzazione nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-232">`List<NewsStoryViewModel?>?`: nullable list of nullable view models.</span></span>

## <a name="interfaces-with-external-code"></a><span data-ttu-id="732f1-233">Interfacce con codice esterno</span><span class="sxs-lookup"><span data-stu-id="732f1-233">Interfaces with external code</span></span>

<span data-ttu-id="732f1-234">Sono state apportate modifiche alla classe `NewsService`, quindi attivare l'annotazione `#nullable enable` per tale classe.</span><span class="sxs-lookup"><span data-stu-id="732f1-234">You've made changes to the `NewsService` class, so turn on the `#nullable enable` annotation for that class.</span></span> <span data-ttu-id="732f1-235">Non verranno generati nuovi avvisi.</span><span class="sxs-lookup"><span data-stu-id="732f1-235">This won't generate any new warnings.</span></span> <span data-ttu-id="732f1-236">Tuttavia, un attento esame della classe è utile per illustrare alcune delle limitazioni dell'analisi di flusso del compilatore.</span><span class="sxs-lookup"><span data-stu-id="732f1-236">However, careful examination of the class helps to illustrate some of the limitations of the compiler's flow analysis.</span></span> <span data-ttu-id="732f1-237">Esaminare il costruttore:</span><span class="sxs-lookup"><span data-stu-id="732f1-237">Examine the constructor:</span></span>

[!code-csharp[ServiceConstructor](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ServiceConstructor)]

<span data-ttu-id="732f1-238">Il parametro `IMapper` è tipizzato come riferimento nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-238">The `IMapper` parameter is typed as a nonnullable reference.</span></span> <span data-ttu-id="732f1-239">Viene chiamato dal codice dell'infrastruttura di ASP.NET Core, quindi il compilatore non sa che `IMapper` non sarà mai Null.</span><span class="sxs-lookup"><span data-stu-id="732f1-239">It's called by ASP.NET Core infrastructure code, so the compiler doesn't really know that the `IMapper` will never be null.</span></span> <span data-ttu-id="732f1-240">Il contenitore di inserimento delle dipendenze di ASP.NET Core predefinito genera un'eccezione se non riesce a risolvere un servizio necessario, quindi il codice è corretto.</span><span class="sxs-lookup"><span data-stu-id="732f1-240">The default ASP.NET Core dependency injection (DI) container throws an exception if it can't resolve a necessary service, so the code is correct.</span></span> <span data-ttu-id="732f1-241">Il compilatore non può convalidare tutte le chiamate alle API pubbliche, anche se il codice viene compilato con i contesti delle annotazioni nullable abilitati.</span><span class="sxs-lookup"><span data-stu-id="732f1-241">The compiler can't validate all calls to your public APIs, even if your code is compiled with nullable annotation contexts enabled.</span></span> <span data-ttu-id="732f1-242">Inoltre, le librerie potrebbero essere utilizzate da progetti per i quali non è ancora stato il consenso esplicito all'uso dei tipi riferimento nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-242">Furthermore, your libraries may be consumed by projects that have not yet opted into using nullable reference types.</span></span> <span data-ttu-id="732f1-243">Convalidare gli input per le API pubbliche, anche se sono stati dichiarati come tipi nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-243">Validate inputs to public APIs even though you've declared them as nonnullable types.</span></span>

## <a name="get-the-code"></a><span data-ttu-id="732f1-244">Ottenere il codice</span><span class="sxs-lookup"><span data-stu-id="732f1-244">Get the code</span></span>

<span data-ttu-id="732f1-245">Gli avvisi identificati nella compilazione di prova iniziale sono stati corretti, quindi è ora possibile attivare il contesto delle annotazioni nullable per entrambi i progetti.</span><span class="sxs-lookup"><span data-stu-id="732f1-245">You've fixed the warnings you identified in the initial test compile, so now you can turn on the nullable annotation context for both projects.</span></span> <span data-ttu-id="732f1-246">Ricompilare i progetti. Il compilatore non segnala alcun avviso.</span><span class="sxs-lookup"><span data-stu-id="732f1-246">Rebuild the projects; the compiler reports no warnings.</span></span> <span data-ttu-id="732f1-247">È possibile ottenere il codice per il progetto completato nel repository GitHub [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished).</span><span class="sxs-lookup"><span data-stu-id="732f1-247">You can get the code for the finished project in the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished) GitHub repository.</span></span>

<span data-ttu-id="732f1-248">Le nuove funzionalità che supportano i tipi riferimento nullable consentono di trovare e correggere eventuali errori nel modo in cui si gestiscono i valori `null` nel codice.</span><span class="sxs-lookup"><span data-stu-id="732f1-248">The new features that support nullable reference types help you find and fix potential errors in how you handle `null` values in your code.</span></span> <span data-ttu-id="732f1-249">L'abilitazione del contesto delle annotazioni nullable consente di esprimere le finalità di progettazione: alcune variabili non devono mai essere Null e altre variabili possono contenere valori Null.</span><span class="sxs-lookup"><span data-stu-id="732f1-249">Enabling the nullable annotation context allows you to express your design intent: some variables should never be null, other variables may contain null values.</span></span> <span data-ttu-id="732f1-250">Queste funzionalità rendono più semplice dichiarare le finalità della progettazione.</span><span class="sxs-lookup"><span data-stu-id="732f1-250">These features make it easier for you to declare your design intent.</span></span> <span data-ttu-id="732f1-251">Analogamente, il contesto degli avvisi nullable indica al compilatore di generare avvisi quando vengono violate le finalità.</span><span class="sxs-lookup"><span data-stu-id="732f1-251">Similarly, the nullable warning context instructs the compiler to issue warnings when you have violated that intent.</span></span> <span data-ttu-id="732f1-252">Questi avvisi sono utili per segnalare gli aggiornamenti che rendono il codice più resiliente e meno soggetto a generare eccezioni di tipo `NullReferenceException` durante l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="732f1-252">Those warnings guide you to make updates that make your code more resilient and less likely to throw a `NullReferenceException` during execution.</span></span> <span data-ttu-id="732f1-253">È possibile controllare l'ambito di questi contesti in modo da potersi concentrare sulle aree locali del codice di cui eseguire la migrazione, mentre la base di codice rimanente rimane invariata.</span><span class="sxs-lookup"><span data-stu-id="732f1-253">You can control the scope of these contexts so that you can focus on local areas of code to migrate while the remaining codebase is untouched.</span></span> <span data-ttu-id="732f1-254">In pratica, è possibile eseguire questa attività di migrazione come parte delle normali attività di manutenzione delle classi.</span><span class="sxs-lookup"><span data-stu-id="732f1-254">In practice, you can make this migration task a part of regular maintenance to your classes.</span></span> <span data-ttu-id="732f1-255">Questa esercitazione ha illustrato il processo per eseguire la migrazione di un'applicazione per l'uso dei tipi riferimento nullable.</span><span class="sxs-lookup"><span data-stu-id="732f1-255">This tutorial demonstrated the process to migrate an application to use nullable reference types.</span></span> <span data-ttu-id="732f1-256">È possibile esplorare un esempio più esaustivo reale di questo processo, esaminando la richiesta pull effettuata da [Jon Skeet](https://github.com/jskeet) per incorporare i tipi riferimento nullable in [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span><span class="sxs-lookup"><span data-stu-id="732f1-256">You can explore a larger real-world example of this process by examining the PR [Jon Skeet](https://github.com/jskeet) made to incorporate nullable reference types into [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span></span>

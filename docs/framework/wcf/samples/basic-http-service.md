---
title: Servizio HTTP di base
ms.date: 03/30/2017
ms.assetid: 27048b43-8a54-4f2a-9952-594bbfab10ad
ms.openlocfilehash: ec716b41efb3dde6e5afdb386d797e402d924b56
ms.sourcegitcommit: 581ab03291e91983459e56e40ea8d97b5189227e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/27/2019
ms.locfileid: "70045152"
---
# <a name="basic-http-service"></a><span data-ttu-id="09614-102">Servizio HTTP di base</span><span class="sxs-lookup"><span data-stu-id="09614-102">Basic HTTP Service</span></span>

<span data-ttu-id="09614-103">In questo esempio viene illustrato come implementare un servizio basato su HTTP basato su RPC, comunemente noto come servizio POX (Plain Old XML), utilizzando il modello di programmazione REST Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="09614-103">This sample demonstrates how to implement an HTTP-based, RPC-based service - popularly referred to as "POX" (Plain Old XML) service – using the Windows Communication Foundation (WCF) REST Programming model.</span></span> <span data-ttu-id="09614-104">Questo esempio è costituito da due componenti: un servizio HTTP WCF self-hosted (Service.cs) e un'applicazione console (Program.cs) che crea il servizio ed effettua chiamate a tale servizio.</span><span class="sxs-lookup"><span data-stu-id="09614-104">This sample consists of two components: a self-hosted WCF HTTP service (Service.cs) and a console application (Program.cs) that creates the service and makes calls to it.</span></span>

## <a name="sample-details"></a><span data-ttu-id="09614-105">Dettagli dell'esempio</span><span class="sxs-lookup"><span data-stu-id="09614-105">Sample Details</span></span>

<span data-ttu-id="09614-106">Il servizio WCF espone due operazioni, `EchoWithGet` e `EchoWithPost`, che restituisce la stringa passata come input.</span><span class="sxs-lookup"><span data-stu-id="09614-106">The WCF service exposes 2 operations, `EchoWithGet` and `EchoWithPost`, which returns the string that was passed as input.</span></span>

<span data-ttu-id="09614-107">L'operazione `EchoWithGet` viene annotata con <xref:System.ServiceModel.Web.WebGetAttribute>, che indica che l'operazione elabora richieste HTTP `GET`.</span><span class="sxs-lookup"><span data-stu-id="09614-107">The `EchoWithGet` operation is annotated with <xref:System.ServiceModel.Web.WebGetAttribute>, which indicates that the operation processes HTTP `GET` requests.</span></span> <span data-ttu-id="09614-108">Poiché <xref:System.ServiceModel.Web.WebGetAttribute> non specifica in modo esplicito un <xref:System.UriTemplate>, l'operazione prevede che la stringa di input venga passata mediante un parametro della stringa di query con nome `s`.</span><span class="sxs-lookup"><span data-stu-id="09614-108">Because the <xref:System.ServiceModel.Web.WebGetAttribute> does not explicitly specify a <xref:System.UriTemplate>, the operation expects the input string to be passed in using a query string parameter with name `s`.</span></span> <span data-ttu-id="09614-109">Si noti che il formato dell'URI che il servizio prevede di ricevere può essere personalizzato mediante la proprietà <xref:System.ServiceModel.Web.WebGetAttribute.UriTemplate%2A>.</span><span class="sxs-lookup"><span data-stu-id="09614-109">Note that the format of the URI that the service expects can be customized using the <xref:System.ServiceModel.Web.WebGetAttribute.UriTemplate%2A> property.</span></span>

<span data-ttu-id="09614-110">L'operazione `EchoWithPost` viene annotata con <xref:System.ServiceModel.Web.WebInvokeAttribute>, che l'indica che non si tratta di un'operazione `GET` (con effetti collaterali).</span><span class="sxs-lookup"><span data-stu-id="09614-110">The `EchoWithPost` operation is annotated with <xref:System.ServiceModel.Web.WebInvokeAttribute>, which indicates it is not a `GET` operation (it has side effects).</span></span> <span data-ttu-id="09614-111">Poiché <xref:System.ServiceModel.Web.WebInvokeAttribute> non specifica in modo esplicito un elemento `Method`, l'operazione elabora richieste HTTP `POST` con la stringa nel corpo della richiesta (ad esempio, in formato XML).</span><span class="sxs-lookup"><span data-stu-id="09614-111">Because the <xref:System.ServiceModel.Web.WebInvokeAttribute> does not explicitly specify a `Method`, the operation processes HTTP `POST` requests that have the string in the request body (in the XML format, for instance).</span></span> <span data-ttu-id="09614-112">Si noti che il metodo HTTP e il formato dell'URI per la richiesta possono essere personalizzati utilizzando rispettivamente le proprietà <xref:System.ServiceModel.Web.WebInvokeAttribute.Method%2A> e <xref:System.ServiceModel.Web.WebInvokeAttribute.UriTemplate>.</span><span class="sxs-lookup"><span data-stu-id="09614-112">Note that the HTTP method and the format of the URI for the request can be customized using the <xref:System.ServiceModel.Web.WebInvokeAttribute.Method%2A> and <xref:System.ServiceModel.Web.WebInvokeAttribute.UriTemplate> properties respectively.</span></span>

<span data-ttu-id="09614-113">Il file App.config configura il servizio WCF con un endpoint <xref:System.ServiceModel.Description.WebHttpEndpoint> predefinito in cui la proprietà <xref:System.ServiceModel.Description.WebHttpEndpoint.HelpEnabled%2A> è impostata su `true`.</span><span class="sxs-lookup"><span data-stu-id="09614-113">The App.config file configures the WCF service with a default <xref:System.ServiceModel.Description.WebHttpEndpoint> that has the <xref:System.ServiceModel.Description.WebHttpEndpoint.HelpEnabled%2A> property set to `true`.</span></span> <span data-ttu-id="09614-114">Di conseguenza, l'infrastruttura WCF crea una pagina automatica della Guida basata su HTML `http://localhost:8000/Customers/help` in che fornisce informazioni su come creare richieste HTTP al servizio e su come utilizzare la risposta http del servizio.</span><span class="sxs-lookup"><span data-stu-id="09614-114">As a result, the WCF infrastructure creates an automatic HTML based help page at `http://localhost:8000/Customers/help` that provides information about how to construct HTTP requests to the service and how to consume the service’s HTTP response.</span></span>

<span data-ttu-id="09614-115">Program.cs illustra come una channel factory WCF può essere usata per effettuare chiamate al servizio ed elaborare le risposte.</span><span class="sxs-lookup"><span data-stu-id="09614-115">Program.cs demonstrates how a WCF channel factory can be used to make calls to the service and process responses.</span></span> <span data-ttu-id="09614-116">È importante sottolineare che quella descritta è solo una delle modalità per accedere a un servizio WCF.</span><span class="sxs-lookup"><span data-stu-id="09614-116">Note that this is just one way to access a WCF service.</span></span> <span data-ttu-id="09614-117">È inoltre possibile accedere al servizio utilizzando altre classi .NET Framework come <xref:System.Net.HttpWebRequest> e <xref:System.Net.WebClient>.</span><span class="sxs-lookup"><span data-stu-id="09614-117">It is also possible to access the service using other .NET Framework classes like <xref:System.Net.HttpWebRequest> and <xref:System.Net.WebClient>.</span></span>

<span data-ttu-id="09614-118">L'esempio è costituito da un servizio indipendente e da un client, entrambi in esecuzione in un'applicazione console.</span><span class="sxs-lookup"><span data-stu-id="09614-118">The sample consists a self-hosted service and a client that both run within a console application.</span></span> <span data-ttu-id="09614-119">Quando l'applicazione console è in esecuzione, il client invia richieste al servizio e scrive nella finestra della console le informazioni pertinenti incluse nelle risposte.</span><span class="sxs-lookup"><span data-stu-id="09614-119">As the console application runs, the client makes requests to the service and writes the pertinent information from the responses to the console window.</span></span>

#### <a name="to-use-this-sample"></a><span data-ttu-id="09614-120">Per usare questo esempio</span><span class="sxs-lookup"><span data-stu-id="09614-120">To use this sample</span></span>

1. <span data-ttu-id="09614-121">Aprire la soluzione per l'esempio relativo al servizio Http di base.</span><span class="sxs-lookup"><span data-stu-id="09614-121">Open the solution for the Basic Http Service Sample.</span></span> <span data-ttu-id="09614-122">Quando si avvia Visual Studio 2012, per eseguire correttamente l'esempio è necessario eseguire come amministratore.</span><span class="sxs-lookup"><span data-stu-id="09614-122">When launching Visual Studio 2012, you must run as an administrator for the sample to execute successfully.</span></span> <span data-ttu-id="09614-123">A tale scopo, fare clic con il pulsante destro del mouse sull'icona di Visual Studio 2012 e scegliere **Esegui come amministratore** dal menu di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="09614-123">Do this by right-clicking the Visual Studio 2012 icon and selecting **Run as Administrator** from the context menu.</span></span>

2. <span data-ttu-id="09614-124">Premere CTRL+MAIUSC+B per compilare la soluzione, quindi premere Ctrl+F5 per eseguire il progetto dell'applicazione console senza eseguirne il debug.</span><span class="sxs-lookup"><span data-stu-id="09614-124">Press CTRL+SHIFT+B to build the solution and then press Ctrl+F5 to run the console application without debugging.</span></span> <span data-ttu-id="09614-125">Verrà visualizzata la finestra della console in cui saranno disponibili gli URI del servizio in esecuzione e della pagina della Guida HTML per il servizio in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="09614-125">The console window appears and provides the URI of the running service and the URI of the HTML help page for the running service.</span></span> <span data-ttu-id="09614-126">In qualsiasi momento è possibile visualizzare la pagina della Guida HTML digitando l'URI della pagina della Guida in un browser.</span><span class="sxs-lookup"><span data-stu-id="09614-126">At any point in time you can view the HTML help page by typing the URI of the help page in a browser.</span></span> <span data-ttu-id="09614-127">Durante l'esecuzione dell'esempio, il client scrive lo stato dell'attività corrente.</span><span class="sxs-lookup"><span data-stu-id="09614-127">As the sample runs, the client writes the status of the current activity.</span></span>

3. <span data-ttu-id="09614-128">Premere un tasto qualsiasi per terminare l'esempio.</span><span class="sxs-lookup"><span data-stu-id="09614-128">Press any key to terminate the sample.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="09614-129">È possibile che gli esempi siano già installati nel computer.</span><span class="sxs-lookup"><span data-stu-id="09614-129">The samples may already be installed on your machine.</span></span> <span data-ttu-id="09614-130">Verificare la directory seguente (impostazione predefinita) prima di continuare.</span><span class="sxs-lookup"><span data-stu-id="09614-130">Check for the following (default) directory before continuing.</span></span>
>
> `<InstallDrive>:\WF_WCF_Samples`
>
> <span data-ttu-id="09614-131">Se questa directory non esiste, passare a [Windows Communication Foundation (WCF) ed esempi di Windows Workflow Foundation (WF) per .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) per scaricare tutti i Windows Communication Foundation (WCF) [!INCLUDE[wf1](../../../../includes/wf1-md.md)] ed esempi.</span><span class="sxs-lookup"><span data-stu-id="09614-131">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="09614-132">Questo esempio si trova nella directory seguente.</span><span class="sxs-lookup"><span data-stu-id="09614-132">This sample is located in the following directory.</span></span>
>
> `<InstallDrive>:\WF_WCF_Samples\WCF\Basic\Web\BasicHttpService`

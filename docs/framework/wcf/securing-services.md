---
title: Protezione dei servizi
ms.date: 03/30/2017
helpviewer_keywords:
- configuration [WCF], securing services
- WCF security
- WCF, security
ms.assetid: f0ecc6f7-f4b5-42a4-9cb1-b02e28e26620
ms.openlocfilehash: b2ee61d6bad457918f1bd5006dfd7eaa27e46caa
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/22/2019
ms.locfileid: "69964166"
---
# <a name="securing-services"></a><span data-ttu-id="7efb9-102">Protezione dei servizi</span><span class="sxs-lookup"><span data-stu-id="7efb9-102">Securing Services</span></span>
<span data-ttu-id="7efb9-103">La sicurezza di un servizio Windows Communication Foundation (WCF) è costituita da due requisiti principali: protezione del trasferimento e autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="7efb9-103">Security of a Windows Communication Foundation (WCF) service consists of two primary requirements: transfer security and authorization.</span></span> <span data-ttu-id="7efb9-104">Un terzo requisito, ovvero il controllo degli eventi di sicurezza, è descritto in [controllo](../../../docs/framework/wcf/feature-details/auditing-security-events.md). In sintesi, la protezione del trasferimento include l'autenticazione (verifica dell'identità del servizio e del client), la riservatezza (crittografia del messaggio) e l'integrità (apposizione della firma digitale per il rilevamento di eventuali manomissioni).</span><span class="sxs-lookup"><span data-stu-id="7efb9-104">(A third requirement, auditing of security events, is described in [Auditing](../../../docs/framework/wcf/feature-details/auditing-security-events.md).) In brief, transfer security includes authentication (verifying the identity of both the service and the client), confidentiality (message encryption), and integrity (digital signing to detect tampering).</span></span> <span data-ttu-id="7efb9-105">L'autorizzazione rappresenta il controllo dell'accesso alle risorse che consente la lettura di un file, ad esempio, solo a utenti autorizzati.</span><span class="sxs-lookup"><span data-stu-id="7efb9-105">Authorization is the control of access to resources, for example, allowing only privileged users to read a file.</span></span> <span data-ttu-id="7efb9-106">Utilizzando le funzionalità di WCF, i due requisiti principali vengono implementati facilmente.</span><span class="sxs-lookup"><span data-stu-id="7efb9-106">Using features of WCF, the two primary requirements are easily implemented.</span></span>  
  
 <span data-ttu-id="7efb9-107">Con l'eccezione della <xref:System.ServiceModel.BasicHttpBinding> classe ( [ \<o BasicHttpBinding >](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) elemento nella configurazione), la sicurezza del trasferimento è abilitata per impostazione predefinita per tutte le associazioni predefinite.</span><span class="sxs-lookup"><span data-stu-id="7efb9-107">With the exception of the <xref:System.ServiceModel.BasicHttpBinding> class (or the [\<basicHttpBinding>](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) element in configuration), transfer security is enabled by default for all of the predefined bindings.</span></span> <span data-ttu-id="7efb9-108">Gli argomenti trattati in questa sezione interessano due scenari di base: implementazione della protezione del trasferimento e dell'autorizzazione in un servizio Intranet ospitato in IIS (Internet Information Services) e implementazione della protezione del trasferimento e dell'autorizzazione in un servizio ospitato in IIS.</span><span class="sxs-lookup"><span data-stu-id="7efb9-108">The topics in this section cover two basic scenarios: implementing transfer security and authorization on an intranet service hosted on Internet Information Services (IIS), and implementing transfer security and authorization on a service hosted on IIS.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="7efb9-109">Windows XP Home Edition non supporta l'autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="7efb9-109">Windows XP Home does not support Windows authentication.</span></span> <span data-ttu-id="7efb9-110">Non eseguire quindi un servizio su questo sistema.</span><span class="sxs-lookup"><span data-stu-id="7efb9-110">Therefore, you should not run a service on that system.</span></span>  
  
## <a name="security-basics"></a><span data-ttu-id="7efb9-111">Nozioni di base sulla protezione</span><span class="sxs-lookup"><span data-stu-id="7efb9-111">Security Basics</span></span>  
 <span data-ttu-id="7efb9-112">La protezione si basa su *credenziali*.</span><span class="sxs-lookup"><span data-stu-id="7efb9-112">Security relies on *credentials*.</span></span> <span data-ttu-id="7efb9-113">Una credenziale prova che un'entità corrisponde a ciò che essa dichiara di essere.</span><span class="sxs-lookup"><span data-stu-id="7efb9-113">A credential proves that an entity is who it claims to be.</span></span> <span data-ttu-id="7efb9-114">Un' *entità* può essere una persona, un processo software, una società o qualsiasi elemento che può essere autorizzato. Ad esempio, un client di un servizio fa un' *attestazione* di *identità*e la credenziale prova in qualche modo tale attestazione.</span><span class="sxs-lookup"><span data-stu-id="7efb9-114">(An *entity* can be a person, a software process, a company, or anything that can be authorized.) For example, a client of a service makes a *claim* of *identity*, and the credential proves that claim in some manner.</span></span> <span data-ttu-id="7efb9-115">In uno scenario tipico si verifica uno scambio di credenziali.</span><span class="sxs-lookup"><span data-stu-id="7efb9-115">In a typical scenario, an exchange of credentials occurs.</span></span> <span data-ttu-id="7efb9-116">Per prima cosa un servizio fa un'attestazione della propria identità e la prova al client con una credenziale.</span><span class="sxs-lookup"><span data-stu-id="7efb9-116">First, a service makes a claim of its identity and proves it to the client with a credential.</span></span> <span data-ttu-id="7efb9-117">Viceversa, il client fa un'attestazione di identità e presenta una credenziale al servizio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-117">Conversely, the client makes a claim of identity and presents a credential to the service.</span></span> <span data-ttu-id="7efb9-118">Se entrambe le parti considerano attendibili le rispettive credenziali, potrà essere stabilito un *contesto protetto* nel quale tutti i messaggi vengono scambiati in riservatezza e vengono firmati per proteggerne l'integrità.</span><span class="sxs-lookup"><span data-stu-id="7efb9-118">If both parties trust the other's credentials, then a *secure context* can be established in which all messages are exchanged in confidentiality, and all messages are signed to protect their integrity.</span></span> <span data-ttu-id="7efb9-119">Dopo che il servizio stabilisce l'identità del client, può associare le attestazioni nella credenziale a un *ruolo* o *appartenenza* in un gruppo.</span><span class="sxs-lookup"><span data-stu-id="7efb9-119">After the service establishes the client's identity, it can then match the claims in the credential to a *role* or *membership* in a group.</span></span> <span data-ttu-id="7efb9-120">In ogni caso, usando il ruolo o il gruppo al quale appartiene il client, il servizio *autorizza* il client a eseguire un set limitato di operazioni basato sui privilegi del ruolo o del gruppo.</span><span class="sxs-lookup"><span data-stu-id="7efb9-120">In either case, using the role or the group to which the client belongs, the service *authorizes* the client to perform a limited set of operations based on the role or group privileges.</span></span>  
  
## <a name="windows-security-mechanisms"></a><span data-ttu-id="7efb9-121">Meccanismi di sicurezza di Windows</span><span class="sxs-lookup"><span data-stu-id="7efb9-121">Windows Security Mechanisms</span></span>  
 <span data-ttu-id="7efb9-122">Se il client e il computer del servizio sono entrambi in un dominio Windows che richiede a entrambi di accedere alla rete, le credenziali vengono fornite dall'infrastruttura di Windows.</span><span class="sxs-lookup"><span data-stu-id="7efb9-122">If the client and the service computer are both on a Windows domain that requires both to log on to the network, the credentials are provided by Windows infrastructure.</span></span> <span data-ttu-id="7efb9-123">In tal caso, le credenziali vengono stabilite quando un utente del computer accede alla rete.</span><span class="sxs-lookup"><span data-stu-id="7efb9-123">In that case, the credentials are established when a computer user logs on to the network.</span></span> <span data-ttu-id="7efb9-124">Tutti gli utenti e tutti i computer sulla rete devono essere convalidati come appartenenti al set attendibile di utenti e computer.</span><span class="sxs-lookup"><span data-stu-id="7efb9-124">Every user and every computer on the network must be validated as belonging to the trusted set of users and computers.</span></span> <span data-ttu-id="7efb9-125">In un sistema Windows ogni utente e computer di questo insieme è anche noto come un' *entità di sicurezza*.</span><span class="sxs-lookup"><span data-stu-id="7efb9-125">On a Windows system, every such user and computer is also known as a *security principal*.</span></span>  
  
 <span data-ttu-id="7efb9-126">In un dominio Windows supportato da un controller *Kerberos* , il controller Kerberos usa uno schema basato sulla concessione di ticket a ogni entità di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="7efb9-126">On a Windows domain backed by a *Kerberos* controller, the Kerberos controller uses a scheme based on granting tickets to each security principal.</span></span> <span data-ttu-id="7efb9-127">I ticket concessi dal controller sono ritenuti attendibili da altri servizi di concessione ticket presenti nel sistema.</span><span class="sxs-lookup"><span data-stu-id="7efb9-127">The tickets the controller grants are trusted by other ticket granters in the system.</span></span> <span data-ttu-id="7efb9-128">Ogni volta che un'entità tenta di eseguire un'operazione o accedere a una *risorsa* (ad esempio un file o una directory in un computer), il ticket viene esaminato per verificarne la validità. Se il ticket viene ritenuto valido, all'entità di sicurezza viene concesso un altro ticket per l'operazione.</span><span class="sxs-lookup"><span data-stu-id="7efb9-128">Whenever an entity tries to perform some operation or access a *resource* (such as a file or directory on a machine), the ticket is examined for its validity and, if it passes, the principal is granted another ticket for the operation.</span></span> <span data-ttu-id="7efb9-129">Questo metodo di concessione dei ticket risulta più efficiente rispetto al metodo alternativo che consiste nel tentare di convalidare l'entità di sicurezza per ogni operazione.</span><span class="sxs-lookup"><span data-stu-id="7efb9-129">This method of granting tickets is more efficient than the alternative of trying to validate the principal for every operation.</span></span>  
  
 <span data-ttu-id="7efb9-130">Un meccanismo superato e meno sicuro usato nei domini Windows è rappresentato da NT LAN Manager (NTLM).</span><span class="sxs-lookup"><span data-stu-id="7efb9-130">An older, less-secure mechanism used on Windows domains is NT LAN Manager (NTLM).</span></span> <span data-ttu-id="7efb9-131">NTLM può rappresentare un'alternativa nei casi in cui non è possibile usare Kerberos (in genere all'esterno di un dominio Windows, ad esempio un gruppo di lavoro).</span><span class="sxs-lookup"><span data-stu-id="7efb9-131">In cases where Kerberos cannot be used (typically outside of a Windows domain, such as in a workgroup), NTLM can be used as an alternative.</span></span> <span data-ttu-id="7efb9-132">NTLM è inoltre disponibile come un'opzione di sicurezza per IIS.</span><span class="sxs-lookup"><span data-stu-id="7efb9-132">NTLM is also available as a security option for IIS.</span></span>  
  
 <span data-ttu-id="7efb9-133">In un sistema Windows l'autorizzazione funziona assegnando ogni computer e ogni utente a un set di ruoli e gruppi.</span><span class="sxs-lookup"><span data-stu-id="7efb9-133">On a Windows system, authorization works by assigning each computer and user to a set of roles and groups.</span></span> <span data-ttu-id="7efb9-134">Ogni computer Windows, ad esempio, deve essere configurato e controllato da una persona (o gruppo di persone) a cui è assegnato il ruolo di *amministratore*.</span><span class="sxs-lookup"><span data-stu-id="7efb9-134">For example, every Windows computer must be set up and controlled by a person (or group of people) in the role of the *administrator*.</span></span> <span data-ttu-id="7efb9-135">Un altro ruolo è quello di *utente*, che ha un set di autorizzazioni molto più limitato.</span><span class="sxs-lookup"><span data-stu-id="7efb9-135">Another role is that of the *user*, which has a much more constrained set of permissions.</span></span> <span data-ttu-id="7efb9-136">Oltre che a ruoli, gli utenti vengono assegnati a gruppi.</span><span class="sxs-lookup"><span data-stu-id="7efb9-136">In addition to the role, users are assigned to groups.</span></span> <span data-ttu-id="7efb9-137">Un gruppo consente a più utenti di svolgere lo stesso ruolo.</span><span class="sxs-lookup"><span data-stu-id="7efb9-137">A group allows multiple users to perform in the same role.</span></span> <span data-ttu-id="7efb9-138">In pratica, quindi, un computer Windows viene amministrato assegnando utenti a gruppi.</span><span class="sxs-lookup"><span data-stu-id="7efb9-138">In practice, therefore, a Windows machine is administered by assigning users to groups.</span></span> <span data-ttu-id="7efb9-139">Ad esempio, più utenti possono essere assegnati al gruppo di utenti di un computer e un set molto più limitato di utenti può essere assegnato al gruppo di amministratori.</span><span class="sxs-lookup"><span data-stu-id="7efb9-139">For example, several users can be assigned to the group of users of a computer, and a much more constrained set of users can be assigned to the group of administrators.</span></span> <span data-ttu-id="7efb9-140">In un computer locale un amministratore può anche creare nuovi gruppi e assegnarvi altri utenti (o altri gruppi).</span><span class="sxs-lookup"><span data-stu-id="7efb9-140">On a local machine, an administrator can also create new groups and assign other users (or even other groups) to the group.</span></span>  
  
 <span data-ttu-id="7efb9-141">In un computer che esegue Windows ogni cartella inclusa in una directory può essere protetta.</span><span class="sxs-lookup"><span data-stu-id="7efb9-141">On a computer running Windows, every folder in a directory can be protected.</span></span> <span data-ttu-id="7efb9-142">In altri termini, è possibile selezionare una cartella e controllare quali utenti possono accedere ai file e se possono copiare un file o (nel caso dispongano di maggiori autorizzazioni) modificarli, eliminarli o aggiungerli alla cartella.</span><span class="sxs-lookup"><span data-stu-id="7efb9-142">That is, you can select a folder and control who can access the files, and whether or not they can copy the file, or (in the most privileged case) change a file, delete a file, or add files to the folder.</span></span> <span data-ttu-id="7efb9-143">Questo processo è noto come controllo di accesso e il meccanismo correlato è noto come elenco di controllo di accesso (ACL).</span><span class="sxs-lookup"><span data-stu-id="7efb9-143">This is known as access control, and the mechanism for it is known as the access control list (ACL).</span></span> <span data-ttu-id="7efb9-144">Quando si crea l'ACL, è possibile assegnare privilegi di accesso a qualsiasi gruppo, nonché a singoli membri di un dominio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-144">When creating the ACL, you can assign access privileges to any group or groups, as well as individual members of a domain.</span></span>  
  
 <span data-ttu-id="7efb9-145">L'infrastruttura WCF è progettata per usare questi meccanismi di sicurezza di Windows.</span><span class="sxs-lookup"><span data-stu-id="7efb9-145">The WCF infrastructure is designed to use these Windows security mechanisms.</span></span> <span data-ttu-id="7efb9-146">Pertanto, se si sta creando un servizio che viene distribuito su una Intranet e i cui client sono limitati a membri del dominio Windows, la protezione viene implementata facilmente.</span><span class="sxs-lookup"><span data-stu-id="7efb9-146">Therefore, if you are creating a service that is deployed on an intranet, and whose clients are restricted to members of the Windows domain, security is easily implemented.</span></span> <span data-ttu-id="7efb9-147">Al dominio possono accedere soltanto utenti validi.</span><span class="sxs-lookup"><span data-stu-id="7efb9-147">Only valid users can log on to the domain.</span></span> <span data-ttu-id="7efb9-148">Dopo che gli utenti hanno eseguito l'accesso, il controller Kerberos consente a ogni utente di stabilire contesti protetti con qualsiasi altro computer o applicazione.</span><span class="sxs-lookup"><span data-stu-id="7efb9-148">After users are logged on, the Kerberos controller enables each user to establish secure contexts with any other computer or application.</span></span> <span data-ttu-id="7efb9-149">In un computer locale i gruppi possono essere creati facilmente e, quando la protezione viene applicata a cartelle specifiche, tali gruppi possono essere usati per assegnare privilegi di accesso nel computer.</span><span class="sxs-lookup"><span data-stu-id="7efb9-149">On a local machine, groups can be easily created, and when protecting specific folders, those groups can be used to assign access privileges on the computer.</span></span>  
  
## <a name="implementing-windows-security-on-intranet-services"></a><span data-ttu-id="7efb9-150">Implementazione della protezione di Windows in servizi Intranet</span><span class="sxs-lookup"><span data-stu-id="7efb9-150">Implementing Windows Security on Intranet Services</span></span>  
 <span data-ttu-id="7efb9-151">Per proteggere un'applicazione che viene eseguita esclusivamente in un dominio Windows, è possibile usare le impostazioni di sicurezza predefinite dell'associazione <xref:System.ServiceModel.WSHttpBinding> o <xref:System.ServiceModel.NetTcpBinding> .</span><span class="sxs-lookup"><span data-stu-id="7efb9-151">To secure an application that runs exclusively on a Windows domain, you can use the default security settings of either the <xref:System.ServiceModel.WSHttpBinding> or the <xref:System.ServiceModel.NetTcpBinding> binding.</span></span> <span data-ttu-id="7efb9-152">Per impostazione predefinita, chiunque nello stesso dominio Windows può accedere ai servizi WCF.</span><span class="sxs-lookup"><span data-stu-id="7efb9-152">By default, anyone on the same Windows domain can access WCF services.</span></span> <span data-ttu-id="7efb9-153">Poiché hanno eseguito l'accesso alla rete, questi utenti sono ritenuti attendibili.</span><span class="sxs-lookup"><span data-stu-id="7efb9-153">Because those users have logged on to the network, they are trusted.</span></span> <span data-ttu-id="7efb9-154">I messaggi tra un servizio e un client vengono crittografati ai fini della riservatezza e firmati ai fini dell'integrità.</span><span class="sxs-lookup"><span data-stu-id="7efb9-154">The messages between a service and a client are encrypted for confidentiality and signed for integrity.</span></span> <span data-ttu-id="7efb9-155">Per ulteriori informazioni su come creare un servizio che utilizza la sicurezza di Windows, [vedere Procedura: Proteggere un servizio con credenziali](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)di Windows.</span><span class="sxs-lookup"><span data-stu-id="7efb9-155">For more information about how to create a service that uses Windows security, see [How to: Secure a Service with Windows Credentials](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md).</span></span>  
  
### <a name="authorization-using-the-principalpermissionattribute-class"></a><span data-ttu-id="7efb9-156">Autorizzazione mediante la classe PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="7efb9-156">Authorization Using the PrincipalPermissionAttribute Class</span></span>  
 <span data-ttu-id="7efb9-157">Se è necessario limitare l'accesso delle risorse in un computer, il modo più semplice è usare la classe <xref:System.Security.Permissions.PrincipalPermissionAttribute> .</span><span class="sxs-lookup"><span data-stu-id="7efb9-157">If you need to restrict the access of resources on a computer, the easiest way is to use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> class.</span></span> <span data-ttu-id="7efb9-158">Questo attributo consente di limitare la chiamata a operazioni del servizio richiedendo che l'utente appartenga a un gruppo o ruolo di Windows specificato o che sia un utente specifico.</span><span class="sxs-lookup"><span data-stu-id="7efb9-158">This attribute enables you to restrict the invocation of service operations by demanding that the user be in a specified Windows group or role, or to be a specific user.</span></span> <span data-ttu-id="7efb9-159">Per altre informazioni, vedere [Procedura: Limitare l'accesso con la classe](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)PrincipalPermissionAttribute.</span><span class="sxs-lookup"><span data-stu-id="7efb9-159">For more information, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="7efb9-160">rappresentazione</span><span class="sxs-lookup"><span data-stu-id="7efb9-160">Impersonation</span></span>  
 <span data-ttu-id="7efb9-161">La rappresentazione è un altro meccanismo che è possibile usare per controllare l'accesso alle risorse.</span><span class="sxs-lookup"><span data-stu-id="7efb9-161">Impersonation is another mechanism that you can use to control access to resources.</span></span> <span data-ttu-id="7efb9-162">Per impostazione predefinita, un servizio ospitato da IIS viene eseguito con l'identità dell'account ASPNET.</span><span class="sxs-lookup"><span data-stu-id="7efb9-162">By default, a service hosted by IIS will run under the identity of the ASPNET account.</span></span> <span data-ttu-id="7efb9-163">L'account ASPNET può accedere soltanto alle risorse per le quali dispone di autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="7efb9-163">The ASPNET account can access only the resources for which it has permission.</span></span> <span data-ttu-id="7efb9-164">È tuttavia possibile impostare l'ACL in modo che una cartella escluda l'account del servizio ASPNET e consenta invece ad altre identità specifiche di accedere alla cartella.</span><span class="sxs-lookup"><span data-stu-id="7efb9-164">However, it is possible to set the ACL for a folder to exclude the ASPNET service account, but allow certain other identities to access the folder.</span></span> <span data-ttu-id="7efb9-165">Il problema diventa quindi come consentire a questi utenti di accedere alla cartella se all'account ASPNET non è consentito.</span><span class="sxs-lookup"><span data-stu-id="7efb9-165">The question then becomes how to allow those users to access the folder if the ASPNET account is not allowed to do so.</span></span> <span data-ttu-id="7efb9-166">La soluzione è usare la rappresentazione, mediante la quale al servizio viene consentito di usare le credenziali del client per accedere a una determinata risorsa.</span><span class="sxs-lookup"><span data-stu-id="7efb9-166">The answer is to use impersonation, whereby the service is allowed to use the credentials of the client to access a particular resource.</span></span> <span data-ttu-id="7efb9-167">Un altro esempio è l'accesso a un database SQL Server per il quale solo determinati utenti dispongono dell'autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="7efb9-167">Another example is when accessing a SQL Server database to which only certain users have permission.</span></span> <span data-ttu-id="7efb9-168">Per ulteriori informazioni sull'utilizzo della rappresentazione, vedere [procedura: Rappresenta un client in un servizio](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md) , la [delega e la rappresentazione](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="7efb9-168">For more information about using impersonation, see [How to: Impersonate a Client on a Service](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md) and [Delegation and Impersonation](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="security-on-the-internet"></a><span data-ttu-id="7efb9-169">Protezione su Internet</span><span class="sxs-lookup"><span data-stu-id="7efb9-169">Security on the Internet</span></span>  
 <span data-ttu-id="7efb9-170">La protezione su Internet ha gli stessi requisiti della protezione su una Intranet.</span><span class="sxs-lookup"><span data-stu-id="7efb9-170">Security on the Internet consists of the same requirements as security on an intranet.</span></span> <span data-ttu-id="7efb9-171">Un servizio deve presentare le proprie credenziali per provare l'autenticità e i client devono provare la propria identità al servizio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-171">A service needs to present its credentials to prove its authenticity, and clients need to prove their identity to the service.</span></span> <span data-ttu-id="7efb9-172">Dopo che l'identità di un client è stata verificata, il servizio può controllare i privilegi di accesso del client alle risorse.</span><span class="sxs-lookup"><span data-stu-id="7efb9-172">Once a client's identity is proven, the service can control how much access the client has to resources.</span></span> <span data-ttu-id="7efb9-173">A causa della natura eterogenea di Internet, tuttavia, le credenziali presentate differiscono da quelle usate in un dominio Windows.</span><span class="sxs-lookup"><span data-stu-id="7efb9-173">However, due to the heterogeneous nature of the Internet, the credentials presented differ from those used on a Windows domain.</span></span> <span data-ttu-id="7efb9-174">Mentre un controller Kerberos gestisce l'autenticazione di utenti in un dominio con ticket per credenziali, su Internet servizi e client si basano su uno di tanti modi diversi per presentare credenziali.</span><span class="sxs-lookup"><span data-stu-id="7efb9-174">Whereas a Kerberos controller handles the authentication of users on a domain with tickets for credentials, on the Internet, services and clients rely on any one of several different ways to present credentials.</span></span> <span data-ttu-id="7efb9-175">L'obiettivo di questo argomento è, tuttavia, presentare un approccio comune che consente di creare un servizio WCF accessibile su Internet.</span><span class="sxs-lookup"><span data-stu-id="7efb9-175">The objective of this topic, however, is to present a common approach that enables you to create a WCF service that is accessible on the Internet.</span></span>  
  
### <a name="using-iis-and-aspnet"></a><span data-ttu-id="7efb9-176">Uso di IIS e ASP.NET</span><span class="sxs-lookup"><span data-stu-id="7efb9-176">Using IIS and ASP.NET</span></span>  
 <span data-ttu-id="7efb9-177">I requisiti della protezione Internet e i meccanismi per risolvere questi problemi non sono nuovi.</span><span class="sxs-lookup"><span data-stu-id="7efb9-177">The requirements of Internet security, and the mechanisms to solve those problems, are not new.</span></span> <span data-ttu-id="7efb9-178">IIS è il server Web Microsoft per Internet e dispone di numerose funzionalità di sicurezza che affrontano tali problemi. Inoltre, ASP.NET include funzionalità di sicurezza che possono essere utilizzate dai servizi WCF.</span><span class="sxs-lookup"><span data-stu-id="7efb9-178">IIS is Microsoft's Web server for the Internet and has many security features that address those problems; in addition, ASP.NET includes security features that WCF services can use.</span></span> <span data-ttu-id="7efb9-179">Per sfruttare i vantaggi di queste funzionalità di sicurezza, ospitare un servizio WCF in IIS.</span><span class="sxs-lookup"><span data-stu-id="7efb9-179">To take advantage of these security features, host an WCF service on IIS.</span></span>  
  
#### <a name="using-aspnet-membership-and-role-providers"></a><span data-ttu-id="7efb9-180">Uso del provider di appartenenze e ruoli di ASP.NET</span><span class="sxs-lookup"><span data-stu-id="7efb9-180">Using ASP.NET Membership and Role Providers</span></span>  
 <span data-ttu-id="7efb9-181">ASP.NET include un provider di appartenenze e ruoli.</span><span class="sxs-lookup"><span data-stu-id="7efb9-181">ASP.NET includes a membership and role provider.</span></span> <span data-ttu-id="7efb9-182">Il provider è un database di coppie nome utente/password per l'autenticazione dei chiamanti che consente inoltre di specificare i privilegi di accesso di ogni chiamante.</span><span class="sxs-lookup"><span data-stu-id="7efb9-182">The provider is a database of user name/password pairs for authenticating callers that also allows you to specify each caller's access privileges.</span></span> <span data-ttu-id="7efb9-183">Con WCF è possibile utilizzare facilmente un provider di appartenenze e ruoli preesistente tramite la configurazione.</span><span class="sxs-lookup"><span data-stu-id="7efb9-183">With WCF, you can easily use a pre-existing membership and role provider through configuration.</span></span> <span data-ttu-id="7efb9-184">Per un'applicazione di esempio che mostra l'uso di questo provider, vedere l'esempio [Membership and Role Provider](../../../docs/framework/wcf/samples/membership-and-role-provider.md) .</span><span class="sxs-lookup"><span data-stu-id="7efb9-184">For a sample application that demonstrates this, see the [Membership and Role Provider](../../../docs/framework/wcf/samples/membership-and-role-provider.md) sample.</span></span>  
  
### <a name="credentials-used-by-iis"></a><span data-ttu-id="7efb9-185">Credenziali usate da IIS</span><span class="sxs-lookup"><span data-stu-id="7efb9-185">Credentials Used by IIS</span></span>  
 <span data-ttu-id="7efb9-186">Diversamente da un dominio Windows supportato da un controller Kerberos, Internet è un ambiente che non è dotato di un unico controller che gestisce i milioni di utenti che accedono alla rete in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="7efb9-186">Unlike a Windows domain backed by a Kerberos controller, the Internet is an environment without a single controller to manage the millions of users logging on at any time.</span></span> <span data-ttu-id="7efb9-187">Le credenziali usate su Internet, invece, sono in genere nella forma di certificati X.509 (noti anche come certificati Secure Sockets Layer o SSL).</span><span class="sxs-lookup"><span data-stu-id="7efb9-187">Instead, credentials on the Internet most often are in the form of X.509 certificates (also known as Secure Sockets Layer, or SSL, certificates).</span></span> <span data-ttu-id="7efb9-188">Questi certificati vengono emessi in genere da un' *autorità di certificazione*che può essere una società di terze parti che attesta l'autenticità del certificato e della persona alla quale è stato inviato.</span><span class="sxs-lookup"><span data-stu-id="7efb9-188">These certificates are typically issued by a *certification authority*, which can be a third-party company that vouches for the authenticity of the certificate and the person it has been issued to.</span></span> <span data-ttu-id="7efb9-189">Per esporre il servizio su Internet è inoltre necessario fornire un certificato attendibile per autenticare il servizio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-189">To expose your service on the Internet, you must also supply such a trusted certificate to authenticate your service.</span></span>  
  
 <span data-ttu-id="7efb9-190">La questione è dunque come ottenere un certificato di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="7efb9-190">The question arises at this point, how do you get such a certificate?</span></span> <span data-ttu-id="7efb9-191">Un metodo consiste nel recarsi presso un'autorità di certificazione di terze parti, ad esempio Authenticode o VeriSign, quando si è pronti per distribuire il servizio e acquistare un certificato per il servizio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-191">One approach is to go to a third-party certification authority, such as Authenticode or VeriSign, when you are ready to deploy your service, and purchase a certificate for your service.</span></span> <span data-ttu-id="7efb9-192">Tuttavia, se si è nella fase di sviluppo con WCF e non si è ancora pronti ad acquistare un certificato, sono disponibili strumenti e tecniche per la creazione di certificati X. 509 che è possibile usare per simulare una distribuzione di produzione.</span><span class="sxs-lookup"><span data-stu-id="7efb9-192">However, if you are in the development phase with WCF and not yet ready to commit to purchasing a certificate, tools and techniques exist for creating X.509 certificates that you can use to simulate a production deployment.</span></span> <span data-ttu-id="7efb9-193">Per ulteriori informazioni, vedere [utilizzo dei certificati](../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="7efb9-193">For more information, see [Working with Certificates](../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span></span>  
  
## <a name="security-modes"></a><span data-ttu-id="7efb9-194">Modalità di sicurezza</span><span class="sxs-lookup"><span data-stu-id="7efb9-194">Security Modes</span></span>  
 <span data-ttu-id="7efb9-195">La programmazione della protezione WCF comporta alcuni punti decisionali critici.</span><span class="sxs-lookup"><span data-stu-id="7efb9-195">Programming WCF security entails a few critical decision points.</span></span> <span data-ttu-id="7efb9-196">Una delle decisioni fondamentali è la scelta della *modalità di sicurezza*.</span><span class="sxs-lookup"><span data-stu-id="7efb9-196">One of the most basic is the choice of *security mode*.</span></span> <span data-ttu-id="7efb9-197">Le due modalità di sicurezza principali sono la *modalità di sicurezza trasporto* e la *modalità di sicurezza messaggio*.</span><span class="sxs-lookup"><span data-stu-id="7efb9-197">The two major security modes are *transport mode* and *message mode*.</span></span>  
  
 <span data-ttu-id="7efb9-198">Una terza modalità, che combina la semantica di entrambe le modalità principali, è la *modalità di sicurezza trasporto con credenziali messaggio (TransportwithMessageCredentials)* .</span><span class="sxs-lookup"><span data-stu-id="7efb9-198">A third mode, which combines the semantics of both major modes, is *transport with message credentials mode*.</span></span>  
  
 <span data-ttu-id="7efb9-199">La modalità di sicurezza determina il modo in cui vengono protetti i messaggi e ogni scelta presenta vantaggi e svantaggi, come spiegato di seguito.</span><span class="sxs-lookup"><span data-stu-id="7efb9-199">The security mode determines how messages are secured, and each choice has advantages and disadvantages, as explained below.</span></span> <span data-ttu-id="7efb9-200">Per ulteriori informazioni sull'impostazione della modalità di sicurezza, [vedere Procedura: Impostare la modalità](../../../docs/framework/wcf/how-to-set-the-security-mode.md)di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="7efb9-200">For more information about setting the security mode, see [How to: Set the Security Mode](../../../docs/framework/wcf/how-to-set-the-security-mode.md).</span></span>  
  
#### <a name="transport-mode"></a><span data-ttu-id="7efb9-201">modalità di sicurezza trasporto</span><span class="sxs-lookup"><span data-stu-id="7efb9-201">Transport Mode</span></span>  
 <span data-ttu-id="7efb9-202">Tra la rete e l'applicazione esistono più livelli.</span><span class="sxs-lookup"><span data-stu-id="7efb9-202">There are several layers between the network and the application.</span></span> <span data-ttu-id="7efb9-203">Uno di questi è il *livello* di trasporto *,* che gestisce il trasferimento di messaggi tra endpoint.</span><span class="sxs-lookup"><span data-stu-id="7efb9-203">One of these is the *transport* layer *,* which manages the transfer of messages between endpoints.</span></span> <span data-ttu-id="7efb9-204">Per lo scopo attuale, è necessario comprendere che WCF utilizza diversi protocolli di trasporto, ognuno dei quali può proteggere il trasferimento dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="7efb9-204">For the present purpose, it is only required that you understand that WCF uses several transport protocols, each of which can secure the transfer of messages.</span></span> <span data-ttu-id="7efb9-205">Per ulteriori informazioni sui trasporti, vedere [trasporti](../../../docs/framework/wcf/feature-details/transports.md).</span><span class="sxs-lookup"><span data-stu-id="7efb9-205">(For more information about transports, see [Transports](../../../docs/framework/wcf/feature-details/transports.md).)</span></span>  
  
 <span data-ttu-id="7efb9-206">Due protocolli comunemente usati sono HTTP e TCP.</span><span class="sxs-lookup"><span data-stu-id="7efb9-206">A commonly used protocol is HTTP; another is TCP.</span></span> <span data-ttu-id="7efb9-207">Ognuno di questi protocolli può proteggere il trasferimento di messaggi mediante un meccanismo (o meccanismi) specifico del protocollo.</span><span class="sxs-lookup"><span data-stu-id="7efb9-207">Each of these protocols can secure message transfer by a mechanism (or mechanisms) particular to the protocol.</span></span> <span data-ttu-id="7efb9-208">Ad esempio, il protocollo HTTP viene protetto usando SSL su HTTP, comunemente abbreviato "HTTPS".</span><span class="sxs-lookup"><span data-stu-id="7efb9-208">For example, the HTTP protocol is secured using SSL over HTTP, commonly abbreviated as "HTTPS."</span></span> <span data-ttu-id="7efb9-209">Pertanto, quando si seleziona la modalità di sicurezza trasporto si sceglie di usare il meccanismo dettato dal protocollo.</span><span class="sxs-lookup"><span data-stu-id="7efb9-209">Thus, when you select the transport mode for security, you are choosing to use the mechanism as dictated by the protocol.</span></span> <span data-ttu-id="7efb9-210">Ad esempio, se si seleziona la classe <xref:System.ServiceModel.WSHttpBinding> e si imposta la relativa modalità di sicurezza su Trasporto, come meccanismo di sicurezza si sta selezionando SSL su HTTP (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="7efb9-210">For example, if you select the <xref:System.ServiceModel.WSHttpBinding> class and set its security mode to Transport, you are selecting SSL over HTTP (HTTPS) as the security mechanism.</span></span> <span data-ttu-id="7efb9-211">Il vantaggio della modalità trasporto è la maggiore efficienza rispetto alla modalità messaggio. Ciò dipende dal fatto che la protezione viene integrata a un livello relativamente basso.</span><span class="sxs-lookup"><span data-stu-id="7efb9-211">The advantage of the transport mode is that it is more efficient than message mode because security is integrated at a comparatively low level.</span></span> <span data-ttu-id="7efb9-212">Quando si usa la modalità trasporto, il meccanismo di sicurezza deve essere implementato in base alla specifica per il trasporto. I messaggi possono quindi fluire in modo protetto solo da punto a punto sul trasporto.</span><span class="sxs-lookup"><span data-stu-id="7efb9-212">When using transport mode, the security mechanism must be implemented according to the specification for the transport, and thus messages can flow securely only from point-to-point over the transport.</span></span>  
  
#### <a name="message-mode"></a><span data-ttu-id="7efb9-213">modalità di sicurezza messaggio</span><span class="sxs-lookup"><span data-stu-id="7efb9-213">Message Mode</span></span>  
 <span data-ttu-id="7efb9-214">Contrariamente alla modalità trasporto, la modalità messaggio fornisce la protezione includendo i dati sulla protezione in ogni messaggio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-214">In contrast, message mode provides security by including the security data as part of every message.</span></span> <span data-ttu-id="7efb9-215">Usando intestazioni di sicurezza XML e SOAP, le credenziali e altri dati necessari a garantire l'integrità e la riservatezza del messaggio vengono inclusi in ogni messaggio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-215">Using XML and SOAP security headers, the credentials and other data needed to ensure the integrity and confidentiality of the message are included with every message.</span></span> <span data-ttu-id="7efb9-216">Ogni messaggio include dati di sicurezza e ciò determina una riduzione delle prestazioni in quanto ogni messaggio deve essere elaborato individualmente.</span><span class="sxs-lookup"><span data-stu-id="7efb9-216">Every message includes security data, so it results in a toll on performance because each message must be individually processed.</span></span> <span data-ttu-id="7efb9-217">Nella modalità trasporto, quando il livello di trasporto è protetto, tutti i messaggi fluiscono liberamente. La modalità di sicurezza messaggio ha tuttavia il vantaggio di essere più flessibile rispetto alla modalità di sicurezza trasporto.</span><span class="sxs-lookup"><span data-stu-id="7efb9-217">(In transport mode, once the transport layer is secured, all messages flow freely.) However, message security has one advantage over transport security: it is more flexible.</span></span> <span data-ttu-id="7efb9-218">Ciò significa che i requisiti di sicurezza non sono determinati dal trasporto.</span><span class="sxs-lookup"><span data-stu-id="7efb9-218">That is, the security requirements are not determined by the transport.</span></span> <span data-ttu-id="7efb9-219">Per proteggere il messaggio è possibile usare qualsiasi tipo di credenziale client.</span><span class="sxs-lookup"><span data-stu-id="7efb9-219">You can use any type of client credential to secure the message.</span></span> <span data-ttu-id="7efb9-220">Nella modalità trasporto il protocollo di trasporto determina il tipo di credenziale client che è possibile usare.</span><span class="sxs-lookup"><span data-stu-id="7efb9-220">(In transport mode, the transport protocol determines the type of client credential that you can use.)</span></span>  
  
#### <a name="transport-with-message-credentials"></a><span data-ttu-id="7efb9-221">Trasporto con credenziali messaggio</span><span class="sxs-lookup"><span data-stu-id="7efb9-221">Transport with Message Credentials</span></span>  
 <span data-ttu-id="7efb9-222">La terza modalità combina le caratteristiche migliori delle modalità trasporto e messaggio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-222">The third mode combines the best of both transport and message security.</span></span> <span data-ttu-id="7efb9-223">In questa modalità la protezione del trasporto viene usata per garantire in modo efficiente la riservatezza e l'integrità di ogni messaggio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-223">In this mode, transport security is used to efficiently ensure the confidentiality and integrity of every message.</span></span> <span data-ttu-id="7efb9-224">Allo stesso tempo ogni messaggio include i dati delle credenziali che consentono l'autenticazione del messaggio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-224">At the same time, every message includes its credential data, which allows the message to be authenticated.</span></span> <span data-ttu-id="7efb9-225">Con l'autenticazione è possibile implementare anche l'autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="7efb9-225">With authentication, authorization can also be implemented.</span></span> <span data-ttu-id="7efb9-226">Mediante l'autenticazione di un mittente, l'accesso alle risorse può essere concesso (o negato) in base all'identità del mittente.</span><span class="sxs-lookup"><span data-stu-id="7efb9-226">By authenticating a sender, access to resources can be granted (or denied) according to the sender's identity.</span></span>  
  
## <a name="specifying-the-client-credential-type-and-credential-value"></a><span data-ttu-id="7efb9-227">Specifica del tipo di credenziale client e del valore della credenziale</span><span class="sxs-lookup"><span data-stu-id="7efb9-227">Specifying the Client Credential Type and Credential Value</span></span>  
 <span data-ttu-id="7efb9-228">Dopo avere selezionato una modalità di sicurezza, è necessario specificare anche un tipo di credenziale client.</span><span class="sxs-lookup"><span data-stu-id="7efb9-228">After you have selected a security mode, you may also want to specify a client credential type.</span></span> <span data-ttu-id="7efb9-229">Il tipo di credenziale client specifica il tipo che un client deve usare per l'autenticazione al server.</span><span class="sxs-lookup"><span data-stu-id="7efb9-229">The client credential type specifies what type a client must use to authenticate itself to the server.</span></span>  
  
 <span data-ttu-id="7efb9-230">Non tutti gli scenari richiedono un tipo di credenziale client.</span><span class="sxs-lookup"><span data-stu-id="7efb9-230">Not all scenarios require a client credential type, however.</span></span> <span data-ttu-id="7efb9-231">Se si usa SSL su HTTP (HTTPS), un servizio esegue l'autenticazione al client.</span><span class="sxs-lookup"><span data-stu-id="7efb9-231">Using SSL over HTTP (HTTPS), a service authenticates itself to the client.</span></span> <span data-ttu-id="7efb9-232">Come parte di questa autenticazione, il certificato del servizio viene inviato al client in un processo denominato *negoziazione*.</span><span class="sxs-lookup"><span data-stu-id="7efb9-232">As part of this authentication, the service's certificate is sent to the client in a process called *negotiation*.</span></span> <span data-ttu-id="7efb9-233">Il trasporto protetto da SSL garantisce che tutti i messaggi siano riservati.</span><span class="sxs-lookup"><span data-stu-id="7efb9-233">The SSL-secured transport ensures that all messages are confidential.</span></span>  
  
 <span data-ttu-id="7efb9-234">Se si sta creando un servizio che richiede che il client venga autenticato, la scelta di un tipo di credenziale client dipende dal trasporto e dalla modalità selezionati.</span><span class="sxs-lookup"><span data-stu-id="7efb9-234">If you are creating a service that requires that the client be authenticated, your choice of a client credential type depends on the transport and mode selected.</span></span> <span data-ttu-id="7efb9-235">Ad esempio, se si usa il trasporto HTTP e si sceglie la modalità Trasporto, è possibile scegliere tra più tipi di credenziale, ad esempio Di base, Digest e altri.</span><span class="sxs-lookup"><span data-stu-id="7efb9-235">For example, using the HTTP transport and choosing transport mode gives you several choices, such as Basic, Digest, and others.</span></span> <span data-ttu-id="7efb9-236">Per ulteriori informazioni su questi tipi di credenziali, vedere [Understanding HTTP Authentication](../../../docs/framework/wcf/feature-details/understanding-http-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="7efb9-236">(For more information about these credential types, see [Understanding HTTP Authentication](../../../docs/framework/wcf/feature-details/understanding-http-authentication.md).)</span></span>  
  
 <span data-ttu-id="7efb9-237">Se si sta creando un servizio in un dominio Windows che sarà disponibile soltanto per altri utenti della rete, il tipo di credenziale client più facile da usare è quello di Windows.</span><span class="sxs-lookup"><span data-stu-id="7efb9-237">If you are creating a service on a Windows domain that will be available only to other users of the network, the easiest to use is the Windows client credential type.</span></span> <span data-ttu-id="7efb9-238">Può tuttavia essere necessario fornire un servizio con un certificato.</span><span class="sxs-lookup"><span data-stu-id="7efb9-238">However, you may also need to provide a service with a certificate.</span></span> <span data-ttu-id="7efb9-239">Questa procedura è illustrata in [procedura: Specificare i valori](../../../docs/framework/wcf/how-to-specify-client-credential-values.md)delle credenziali client.</span><span class="sxs-lookup"><span data-stu-id="7efb9-239">This is shown in [How to: Specify Client Credential Values](../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="credential-values"></a><span data-ttu-id="7efb9-240">Valori della credenziale</span><span class="sxs-lookup"><span data-stu-id="7efb9-240">Credential Values</span></span>  
 <span data-ttu-id="7efb9-241">Un *valore della credenziale* è la credenziale effettiva usata dal servizio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-241">A *credential value* is the actual credential the service uses.</span></span> <span data-ttu-id="7efb9-242">Una volta specificato un tipo di credenziale, può essere necessario configurare il servizio con le credenziali effettive.</span><span class="sxs-lookup"><span data-stu-id="7efb9-242">Once you have specified a credential type, you may also need to configure your service with the actual credentials.</span></span> <span data-ttu-id="7efb9-243">Se è stato selezionato Windows (e il servizio verrà eseguito in un dominio Windows), non è necessario specificare il valore effettivo di una credenziale.</span><span class="sxs-lookup"><span data-stu-id="7efb9-243">If you have selected Windows (and the service will run on a Windows domain), then you do not specify an actual credential value.</span></span>  
  
## <a name="identity"></a><span data-ttu-id="7efb9-244">identità</span><span class="sxs-lookup"><span data-stu-id="7efb9-244">Identity</span></span>  
 <span data-ttu-id="7efb9-245">In WCF, il termine *identità* ha significati diversi per il server e il client.</span><span class="sxs-lookup"><span data-stu-id="7efb9-245">In WCF, the term *identity* has different meanings to the server and the client.</span></span> <span data-ttu-id="7efb9-246">In breve, quando si esegue un servizio, dopo l'autenticazione viene assegnata un'identità al contesto di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="7efb9-246">In brief, when running a service, an identity is assigned to the security context after authentication.</span></span> <span data-ttu-id="7efb9-247">Per visualizzare l'identità effettiva, controllare le proprietà <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> e <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> della classe <xref:System.ServiceModel.ServiceSecurityContext> .</span><span class="sxs-lookup"><span data-stu-id="7efb9-247">To view the actual identity, check the <xref:System.ServiceModel.ServiceSecurityContext.WindowsIdentity%2A> and <xref:System.ServiceModel.ServiceSecurityContext.PrimaryIdentity%2A> properties of the <xref:System.ServiceModel.ServiceSecurityContext> class.</span></span> <span data-ttu-id="7efb9-248">Per altre informazioni, vedere [Procedura: Esaminare il contesto](../../../docs/framework/wcf/how-to-examine-the-security-context.md)di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="7efb9-248">For more information, see [How to: Examine the Security Context](../../../docs/framework/wcf/how-to-examine-the-security-context.md).</span></span>  
  
 <span data-ttu-id="7efb9-249">Al contrario, sul client l'identità viene usata per convalidare il servizio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-249">In contrast, on the client, identity is used to validate the service.</span></span> <span data-ttu-id="7efb9-250">In fase di progettazione uno sviluppatore client può impostare l' [ \<identità >](../../../docs/framework/configure-apps/file-schema/wcf/identity.md) elemento su un valore ottenuto dal servizio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-250">At design time, a client developer can set the [\<identity>](../../../docs/framework/configure-apps/file-schema/wcf/identity.md) element to a value obtained from the service.</span></span> <span data-ttu-id="7efb9-251">In fase di esecuzione il client verifica il valore dell'elemento rispetto all'identità effettiva del servizio.</span><span class="sxs-lookup"><span data-stu-id="7efb9-251">At run time, the client checks the value of the element against the actual identity of the service.</span></span> <span data-ttu-id="7efb9-252">Se il controllo ha un esito negativo, il client termina la comunicazione.</span><span class="sxs-lookup"><span data-stu-id="7efb9-252">If the check fails, the client terminates the communication.</span></span> <span data-ttu-id="7efb9-253">Il valore può essere un nome di entità utente (UPN), se il servizio viene eseguito con l'identità di un utente specifico, o un nome di entità servizio (SPN), se il servizio viene eseguito con un account computer.</span><span class="sxs-lookup"><span data-stu-id="7efb9-253">The value can be a user principal name (UPN) if the service runs under a particular user's identity or a service principal name (SPN) if the service runs under a machine account.</span></span> <span data-ttu-id="7efb9-254">Per altre informazioni, vedere [identità e autenticazione del servizio](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="7efb9-254">For more information, see [Service Identity and Authentication](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span> <span data-ttu-id="7efb9-255">La credenziale può anche essere un certificato o un campo presente in un certificato che identifica il certificato.</span><span class="sxs-lookup"><span data-stu-id="7efb9-255">The credential could also be a certificate, or a field found on a certificate that identifies the certificate.</span></span>  
  
## <a name="protection-levels"></a><span data-ttu-id="7efb9-256">Livelli di sicurezza</span><span class="sxs-lookup"><span data-stu-id="7efb9-256">Protection Levels</span></span>  
 <span data-ttu-id="7efb9-257">La proprietà `ProtectionLevel` ricorre in più classi di attributi (ad esempio, le classi <xref:System.ServiceModel.ServiceContractAttribute> e <xref:System.ServiceModel.OperationContractAttribute> ).</span><span class="sxs-lookup"><span data-stu-id="7efb9-257">The `ProtectionLevel` property occurs on several attribute classes (such as the <xref:System.ServiceModel.ServiceContractAttribute> and the <xref:System.ServiceModel.OperationContractAttribute> classes).</span></span> <span data-ttu-id="7efb9-258">Il livello di sicurezza è un valore che specifica se i messaggi (o parti del messaggio) che supportano un servizio sono firmati, firmati e crittografati o inviati senza firma né crittografia.</span><span class="sxs-lookup"><span data-stu-id="7efb9-258">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> <span data-ttu-id="7efb9-259">Per ulteriori informazioni sulla proprietà, vedere [informazioni sul livello di protezione](../../../docs/framework/wcf/understanding-protection-level.md)e per esempi di programmazione, [vedere Procedura: Impostare la proprietà](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)ProtectionLevel.</span><span class="sxs-lookup"><span data-stu-id="7efb9-259">For more information about the property, see [Understanding Protection Level](../../../docs/framework/wcf/understanding-protection-level.md), and for programming examples, see [How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span></span> <span data-ttu-id="7efb9-260">Per ulteriori informazioni sulla progettazione di un contratto di servizio `ProtectionLevel` con nel contesto, vedere [progettazione di contratti di servizio](../../../docs/framework/wcf/designing-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="7efb9-260">For more information about designing a service contract with the `ProtectionLevel` in context, see [Designing Service Contracts](../../../docs/framework/wcf/designing-service-contracts.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7efb9-261">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="7efb9-261">See also</span></span>

- <xref:System.ServiceModel>
- <xref:System.ServiceModel.Description.ServiceCredentials>
- <xref:System.ServiceModel.ServiceContractAttribute>
- <xref:System.ServiceModel.OperationContractAttribute>
- [<span data-ttu-id="7efb9-262">Identità del servizio e autenticazione</span><span class="sxs-lookup"><span data-stu-id="7efb9-262">Service Identity and Authentication</span></span>](../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md)
- [<span data-ttu-id="7efb9-263">Informazioni sul livello di protezione</span><span class="sxs-lookup"><span data-stu-id="7efb9-263">Understanding Protection Level</span></span>](../../../docs/framework/wcf/understanding-protection-level.md)
- [<span data-ttu-id="7efb9-264">Delega e rappresentazione</span><span class="sxs-lookup"><span data-stu-id="7efb9-264">Delegation and Impersonation</span></span>](../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)
- [<span data-ttu-id="7efb9-265">Progettazione dei contratti di servizio</span><span class="sxs-lookup"><span data-stu-id="7efb9-265">Designing Service Contracts</span></span>](../../../docs/framework/wcf/designing-service-contracts.md)
- [<span data-ttu-id="7efb9-266">Sicurezza</span><span class="sxs-lookup"><span data-stu-id="7efb9-266">Security</span></span>](../../../docs/framework/wcf/feature-details/security.md)
- [<span data-ttu-id="7efb9-267">Panoramica della sicurezza</span><span class="sxs-lookup"><span data-stu-id="7efb9-267">Security Overview</span></span>](../../../docs/framework/wcf/feature-details/security-overview.md)
- [<span data-ttu-id="7efb9-268">Procedura: Imposta la proprietà ProtectionLevel</span><span class="sxs-lookup"><span data-stu-id="7efb9-268">How to: Set the ProtectionLevel Property</span></span>](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)
- [<span data-ttu-id="7efb9-269">Procedura: Proteggere un servizio con credenziali di Windows</span><span class="sxs-lookup"><span data-stu-id="7efb9-269">How to: Secure a Service with Windows Credentials</span></span>](../../../docs/framework/wcf/how-to-secure-a-service-with-windows-credentials.md)
- [<span data-ttu-id="7efb9-270">Procedura: Impostare la modalità di sicurezza</span><span class="sxs-lookup"><span data-stu-id="7efb9-270">How to: Set the Security Mode</span></span>](../../../docs/framework/wcf/how-to-set-the-security-mode.md)
- [<span data-ttu-id="7efb9-271">Procedura: Specificare il tipo di credenziale client</span><span class="sxs-lookup"><span data-stu-id="7efb9-271">How to: Specify the Client Credential Type</span></span>](../../../docs/framework/wcf/how-to-specify-the-client-credential-type.md)
- [<span data-ttu-id="7efb9-272">Procedura: Limitare l'accesso con la classe PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="7efb9-272">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)
- [<span data-ttu-id="7efb9-273">Procedura: Rappresentare un client in un servizio</span><span class="sxs-lookup"><span data-stu-id="7efb9-273">How to: Impersonate a Client on a Service</span></span>](../../../docs/framework/wcf/how-to-impersonate-a-client-on-a-service.md)
- [<span data-ttu-id="7efb9-274">Procedura: Esaminare il contesto di sicurezza</span><span class="sxs-lookup"><span data-stu-id="7efb9-274">How to: Examine the Security Context</span></span>](../../../docs/framework/wcf/how-to-examine-the-security-context.md)

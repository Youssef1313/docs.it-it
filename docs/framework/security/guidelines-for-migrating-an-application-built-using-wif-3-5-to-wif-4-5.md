---
title: Linee guida per la migrazione di un'applicazione compilata con le versioni di WIF dalla 3.5 alla 4.5
ms.date: 03/30/2017
ms.assetid: 7a32fe6e-5f68-4693-9371-19411fa8063c
author: BrucePerlerMS
ms.openlocfilehash: 645fd09de91d8190384faea9df2ef18511162c2f
ms.sourcegitcommit: 8a0fe8a2227af612f8b8941bdb8b19d6268748e7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/03/2019
ms.locfileid: "71834529"
---
# <a name="guidelines-for-migrating-an-application-built-using-wif-35-to-wif-45"></a><span data-ttu-id="c6bd1-102">Linee guida per la migrazione di un'applicazione compilata con le versioni di WIF dalla 3.5 alla 4.5</span><span class="sxs-lookup"><span data-stu-id="c6bd1-102">Guidelines for Migrating an Application Built Using WIF 3.5 to WIF 4.5</span></span>

## <a name="applies-to"></a><span data-ttu-id="c6bd1-103">Si applica a</span><span class="sxs-lookup"><span data-stu-id="c6bd1-103">Applies To</span></span>

- <span data-ttu-id="c6bd1-104">Microsoft® Windows® Identity Foundation 3.5 e 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-104">Microsoft® Windows® Identity Foundation (WIF) 3.5 and 4.5.</span></span>

## <a name="overview"></a><span data-ttu-id="c6bd1-105">Panoramica</span><span class="sxs-lookup"><span data-stu-id="c6bd1-105">Overview</span></span>

<span data-ttu-id="c6bd1-106">Windows Identity Foundation in origine è stato reso disponibile nello stesso periodo di .NET 3.5 SP1.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-106">Windows Identity Foundation (WIF) was originally released in the .NET 3.5 SP1 timeframe.</span></span> <span data-ttu-id="c6bd1-107">Questa versione di Windows Identity Foundation è nota come Windows Identity Foundation 3.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-107">That version of WIF is referred to as WIF 3.5.</span></span> <span data-ttu-id="c6bd1-108">Questa versione è stata resa disponibile come runtime ed SDK separati e questo significa che in ogni computer in cui viene eseguita un'applicazione abilitata per Windows Identity Foundation deve essere installato il runtime di Windows Identity Foundation e che gli sviluppatori devono installare l'SDK per ottenere i modelli e gli strumenti di Visual Studio che permettono di sviluppare applicazioni abilitate per Windows Identity Foundation.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-108">It was released as a separate runtime and SDK, which meant that every computer on which a WIF-enabled application ran had to have the WIF runtime installed and developers had to download and install the WIF SDK to get the Visual Studio templates and tooling that enabled development of WIF-enabled applications.</span></span> <span data-ttu-id="c6bd1-109">A partire da .NET 4.5, Windows Identity Foundation è stato completamente integrato in .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-109">Beginning with .NET 4.5, WIF has been fully integrated into the .NET Framework.</span></span> <span data-ttu-id="c6bd1-110">Un runtime separato non è più necessario e gli strumenti di Windows Identity Foundation possono essere installati in Visual Studio 2012 usando il gestore delle estensioni di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-110">A separate runtime is no longer needed and the WIF tooling can be installed in Visual Studio 2012 by using the Visual Studio Extensions Manager.</span></span> <span data-ttu-id="c6bd1-111">Questa versione di Windows Identity Foundation è nota come Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-111">This version of WIF is referred to as WIF 4.5.</span></span>

<span data-ttu-id="c6bd1-112">Per l'integrazione di Windows Identity Foundation in .NET è stato necessario apportare diverse modifiche alla superficie API di Windows Identity Foundation.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-112">The integration of WIF into .NET necessitated several changes in the WIF API surface.</span></span> <span data-ttu-id="c6bd1-113">Windows Identity Foundation 4.5 include nuovi spazi dei nomi, alcune modifiche relative agli elementi di configurazione e nuovi strumenti per Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-113">WIF 4.5 includes new namespaces, some changes to configuration elements, and new tooling for Visual Studio.</span></span> <span data-ttu-id="c6bd1-114">Questo argomento contiene linee guida che semplificano la migrazione di applicazioni create con Windows Identity Foundation 3.5 a Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-114">This topic provides guidance that you can use to help you migrate applications built using WIF 3.5 to WIF 4.5.</span></span> <span data-ttu-id="c6bd1-115">In alcuni scenari potrebbe essere necessario eseguire applicazioni legacy create con Windows Identity Foundation 3.5 in computer che eseguono Windows 8 o Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-115">There may be scenarios in which you need to run legacy applications built using WIF 3.5 on computers that are running Windows 8 or Windows Server 2012.</span></span> <span data-ttu-id="c6bd1-116">Questo argomento contiene anche le linee guida su come abilitare Windows Identity Foundation 3.5 per questi sistemi operativi.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-116">This topic also provides guidance about how to enable WIF 3.5 for these operating systems.</span></span>

## <a name="changes-required-for-wif-45"></a><span data-ttu-id="c6bd1-117">Modifiche necessarie per Windows Identity Foundation 4.5</span><span class="sxs-lookup"><span data-stu-id="c6bd1-117">Changes Required for WIF 4.5</span></span>

<span data-ttu-id="c6bd1-118">Questa sezione descrive le modifiche necessarie per eseguire la migrazione di un'applicazione Windows Identity Foundation 3.5 a Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-118">This section describes the changes that are required to migrate a WIF 3.5 application to WIF 4.5.</span></span>

### <a name="assembly-and-namespace-changes"></a><span data-ttu-id="c6bd1-119">Modifiche apportate agli assembly e agli spazi dei nomi</span><span class="sxs-lookup"><span data-stu-id="c6bd1-119">Assembly and Namespace Changes</span></span>

<span data-ttu-id="c6bd1-120">In Windows Identity Foundation 3.5 tutte le classi sono contenute nell'assembly `Microsoft.IdentityModel` (microsoft.identitymicrosoft.identitymodel.dll).</span><span class="sxs-lookup"><span data-stu-id="c6bd1-120">In WIF 3.5, all of the WIF classes were contained in the `Microsoft.IdentityModel` assembly (microsoft.identitymicrosoft.identitymodel.dll).</span></span> <span data-ttu-id="c6bd1-121">In Windows Identity Foundation 4.5 le classi sono state suddivise tra questi assembly: `mscorlib` (mscorlib.dll), `System.IdentityModel` (System.IdentityModel.dll), `System.IdentityModel.Services` (System.IdentityModel.Services.dll) e `System.ServiceModel` (System.ServiceModel.dll).</span><span class="sxs-lookup"><span data-stu-id="c6bd1-121">In WIF 4.5, the WIF classes have been split across the following assemblies: `mscorlib` (mscorlib.dll), `System.IdentityModel` (System.IdentityModel.dll), `System.IdentityModel.Services` (System.IdentityModel.Services.dll), and `System.ServiceModel` (System.ServiceModel.dll).</span></span>

<span data-ttu-id="c6bd1-122">Le classi di Windows Identity Foundation 3.5 sono tutte contenute in uno degli spazi dei nomi `Microsoft.IdentityModel`, ad esempio `Microsoft.IdentityModel`, `Microsoft.IdentityModel.Tokens`, `Microsoft.IdentityModel.Web`e così via.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-122">The WIF 3.5 classes were all contained in one of the `Microsoft.IdentityModel` namespaces; for example, `Microsoft.IdentityModel`, `Microsoft.IdentityModel.Tokens`, `Microsoft.IdentityModel.Web`, and so on.</span></span> <span data-ttu-id="c6bd1-123">In Windows Identity Foundation 4.5 le classi sono ora distribuite tra gli spazi dei nomi [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004), lo spazio dei nomi <xref:System.Security.Claims?displayProperty=nameWithType> e lo spazio dei nomi <xref:System.ServiceModel.Security?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-123">In WIF 4.5, the WIF classes are now spread across the [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) namespaces, the <xref:System.Security.Claims?displayProperty=nameWithType> namespace, and the <xref:System.ServiceModel.Security?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="c6bd1-124">Oltre a questa riorganizzazione, alcune classi di Windows Identity Foundation 3.5 sono state eliminate in Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-124">In addition to this reorganization, some WIF 3.5 classes have been dropped in WIF 4.5.</span></span>

<span data-ttu-id="c6bd1-125">La tabella seguente mostra alcuni degli spazi dei nomi più importanti di Windows Identity Foundation 4.5 e il tipo di classi in essi contenute.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-125">The following table shows some of the more important WIF 4.5 namespaces and the kind of classes they contain.</span></span> <span data-ttu-id="c6bd1-126">Per informazioni più dettagliate sul mapping degli spazi dei nomi tra Windows Identity Foundation 3.5 e Windows Identity Foundation 4.5 e sulle classi e sugli spazi dei nomi eliminati in Windows Identity Foundation 4.5, vedere [Mapping dello spazio dei nomi tra WIF 3.5 e WIF 4.5](namespace-mapping-between-wif-3-5-and-wif-4-5.md).</span><span class="sxs-lookup"><span data-stu-id="c6bd1-126">For more detailed information about how namespaces map between WIF 3.5 and WIF 4.5 and about namespaces and classes that have been dropped in WIF 4.5, see [Namespace Mapping between WIF 3.5 and WIF 4.5](namespace-mapping-between-wif-3-5-and-wif-4-5.md).</span></span>

|<span data-ttu-id="c6bd1-127">Spazio dei nomi di Windows Identity Foundation 4.5</span><span class="sxs-lookup"><span data-stu-id="c6bd1-127">WIF 4.5 Namespace</span></span>|<span data-ttu-id="c6bd1-128">Descrizione</span><span class="sxs-lookup"><span data-stu-id="c6bd1-128">Description</span></span>|
|-----------------------|-----------------|
|<xref:System.IdentityModel?displayProperty=nameWithType>|<span data-ttu-id="c6bd1-129">Contiene le classi che rappresentano trasformazioni dei cookie, servizi token di sicurezza e lettori di dizionario XML specializzati.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-129">Contains classes that represent cookie transforms, security token services, and specialized XML dictionary readers.</span></span> <span data-ttu-id="c6bd1-130">Contiene le classi di questi spazi dei nomi di Windows Identity Foundation 3.5: `Microsoft.IdentityModel`, `Microsoft.IdentityModel.SecurityTokenService` e `Microsoft.IdentityModel.Threading`.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-130">Contains classes from the following WIF 3.5 namespaces: `Microsoft.IdentityModel`, `Microsoft.IdentityModel.SecurityTokenService`, and `Microsoft.IdentityModel.Threading`.</span></span>|
|<xref:System.Security.Claims?displayProperty=nameWithType>|<span data-ttu-id="c6bd1-131">Contiene le classi che rappresentano attestazioni, identità basate sulle attestazioni, entità basate sulle attestazioni e altri elementi modello di identità basati sulle attestazioni.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-131">Contains classes that represent claims, claims-based identities, claims based principals, and other claims based identity model artifacts.</span></span> <span data-ttu-id="c6bd1-132">Contiene le classi dello spazio dei nomi `Microsoft.IdentityModel.Claims`.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-132">Contains classes from the `Microsoft.IdentityModel.Claims` namespace.</span></span>|
|<xref:System.IdentityModel.Tokens?displayProperty=nameWithType>|<span data-ttu-id="c6bd1-133">Contiene le classi che rappresentano token di sicurezza, gestori di token di sicurezza e altri elementi token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-133">Contains classes that represent security tokens, security token handlers, and other security token artifacts.</span></span> <span data-ttu-id="c6bd1-134">Contiene le classi di questi spazi dei nomi di Windows Identity Foundation 3.5: `Microsoft.IdentityModel.Tokens`, `Microsoft.IdentityModel.Tokens.Saml11` e `Microsoft.IdentityModel.Tokens.Saml2`.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-134">Contains classes from the following WIF 3.5 namespaces: `Microsoft.IdentityModel.Tokens`, `Microsoft.IdentityModel.Tokens.Saml11`, and `Microsoft.IdentityModel.Tokens.Saml2`.</span></span>|
|<xref:System.IdentityModel.Services?displayProperty=nameWithType>|<span data-ttu-id="c6bd1-135">Contiene le classi usate in scenari passivi (WS-Federation).</span><span class="sxs-lookup"><span data-stu-id="c6bd1-135">Contains classes that are used in passive (WS-Federation) scenarios.</span></span> <span data-ttu-id="c6bd1-136">Contiene le classi dello spazio dei nomi `Microsoft.IdentityModel.Web`.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-136">Contains classes from the `Microsoft.IdentityModel.Web` namespace.</span></span>|
|<xref:System.ServiceModel.Security?displayProperty=nameWithType>|<span data-ttu-id="c6bd1-137">Le classi che rappresentano contratti, canali, host servizio e altri elementi WCF usati in scenari attivi (WS-Trust) sono ora inclusi in questo spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-137">Classes that represent WCF contracts, channels, service hosts and other artifacts that are used in active (WS-Trust) scenarios are now in this namespace.</span></span> <span data-ttu-id="c6bd1-138">In Windows Identity Foundation 3.5 queste classi sono incluse nello spazio dei nomi `Microsoft.IdentityModel.Protocols.WSTrust`.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-138">In WIF 3.5 , these classes were in the `Microsoft.IdentityModel.Protocols.WSTrust` namespace.</span></span>|

> [!IMPORTANT]
> <span data-ttu-id="c6bd1-139">Questi spazi dei nomi `System.IdentityModel` contengono classi che implementano il modello di identità basato sulle attestazioni di WCF: <xref:System.IdentityModel.Claims?displayProperty=nameWithType>, <xref:System.IdentityModel.Policy?displayProperty=nameWithType> e <xref:System.IdentityModel.Selectors?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-139">The following `System.IdentityModel` namespaces contain classes that implement the WCF claims-based identity model: <xref:System.IdentityModel.Claims?displayProperty=nameWithType>, <xref:System.IdentityModel.Policy?displayProperty=nameWithType>, and <xref:System.IdentityModel.Selectors?displayProperty=nameWithType>.</span></span> <span data-ttu-id="c6bd1-140">Il modello di identità basato sulle attestazioni di WCF è stato sostituito da WIF.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-140">The WCF claims-based identity model is superseded by WIF.</span></span> <span data-ttu-id="c6bd1-141">Non usare le classi in questi tre spazi dei nomi per la compilazione di soluzioni basate su WIF.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-141">You should not use classes in these three namespaces when building solutions based on WIF.</span></span>

### <a name="changes-due-to-net-integration"></a><span data-ttu-id="c6bd1-142">Modifiche necessarie per l'integrazione in .NET</span><span class="sxs-lookup"><span data-stu-id="c6bd1-142">Changes Due to .NET Integration</span></span>

<span data-ttu-id="c6bd1-143">Windows Identity Foundation è ora integrato in .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-143">WIF is now integrated into the .NET Framework.</span></span> <span data-ttu-id="c6bd1-144">La maggior parte delle classi di identità ed entità .NET deriva ora da <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> e <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-144">Most .NET identity and principal classes now derive from <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> and <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>.</span></span> <span data-ttu-id="c6bd1-145">In Windows Identity Foundation 4.5 sono state apportate le modifiche seguenti:</span><span class="sxs-lookup"><span data-stu-id="c6bd1-145">The results in the following changes in WIF 4.5:</span></span>

- <span data-ttu-id="c6bd1-146">Le classi di Windows Identity Foundation che rappresentano attestazioni, identità ed entità sono ora incluse nello spazio dei nomi <xref:System.Security.Claims?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-146">WIF classes that represent claims, identities, and principals now exist in the <xref:System.Security.Claims?displayProperty=nameWithType> namespace.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="c6bd1-147">Lo spazio dei nomi <xref:System.IdentityModel.Claims?displayProperty=nameWithType> contiene classi che rappresentano elementi nel modello di identità basato sulle attestazioni di WCF.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-147">The <xref:System.IdentityModel.Claims?displayProperty=nameWithType> namespace contains classes that represent artifacts in the WCF claims-based identity model.</span></span> <span data-ttu-id="c6bd1-148">Molte di queste classi hanno gli stessi nomi delle classi di Windows Identity Foundation, ad esempio `Claims`.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-148">Many of these classes have names that are the same as WIF classes; for example, `Claims`.</span></span> <span data-ttu-id="c6bd1-149">Non usare queste classi per la compilazione di soluzioni basate su Windows Identity Foundation.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-149">Do not use these classes when building solutions based on WIF.</span></span>

- <span data-ttu-id="c6bd1-150">Le classi di identità ed entità .NET derivano ora direttamente da <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> e <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>, che rappresentano identità ed entità basate sulle attestazioni.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-150">.NET identity and principal classes now derive directly from <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> and <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>, which represent claims-based identities and principals.</span></span> <span data-ttu-id="c6bd1-151">Per questo motivo, le interfacce `IClaimsIdentity` e `IClaimsPrincipal` di Windows Identity Foundation 3.5 non sono più necessarie né disponibili in Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-151">For this reason, the WIF 3.5 interfaces `IClaimsIdentity` and `IClaimsPrincipal` are no longer needed and are not available in WIF 4.5.</span></span>

- <span data-ttu-id="c6bd1-152">Poiché le classi di identità ed entità .NET come <xref:System.Security.Principal.WindowsIdentity?displayProperty=nameWithType> e <xref:System.Security.Principal.WindowsPrincipal?displayProperty=nameWithType> derivano ora da <xref:System.Security.Claims.ClaimsIdentity> e <xref:System.Security.Claims.ClaimsPrincipal>, includono funzionalità per le attestazioni integrate.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-152">Because.NET identity and principal classes such as <xref:System.Security.Principal.WindowsIdentity?displayProperty=nameWithType> and <xref:System.Security.Principal.WindowsPrincipal?displayProperty=nameWithType> now derive from <xref:System.Security.Claims.ClaimsIdentity> and <xref:System.Security.Claims.ClaimsPrincipal>, they have claims functionality built-in.</span></span> <span data-ttu-id="c6bd1-153">Per questo motivo, le classi di identità ed entità specifiche delle attestazioni come `WindowsClaimsIdentity` e `WindowsClaimsPrincipal` disponibili in Windows Identity Foundation 3.5 non sono più necessarie e non sono incluse in Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-153">For this reason, claims-specific identity and principal classes such as `WindowsClaimsIdentity` and `WindowsClaimsPrincipal` that were present in WIF 3.5 are no longer needed and do not exist in WIF 4.5.</span></span>

### <a name="other-changes-to-wif-functionality"></a><span data-ttu-id="c6bd1-154">Altre modifiche apportate alle funzionalità di Windows Identity Foundation</span><span class="sxs-lookup"><span data-stu-id="c6bd1-154">Other Changes to WIF Functionality</span></span>

<span data-ttu-id="c6bd1-155">Oltre alle modifiche relative agli spazi dei nomi e quelle necessarie per l'integrazione con .NET, in Windows Identity Foundation 4.5 sono state introdotte le modifiche alle funzionalità indicate di seguito.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-155">In addition to the namespace changes and the changes due to integration with .NET, the following general changes to WIF functionality occur in WIF 4.5.</span></span>

- <span data-ttu-id="c6bd1-156">La classe `Microsoft.IdentityModel.ExceptionMapper`, che fornisce una funzionalità per il mapping delle eccezioni a errori SOAP specifici, è stata rimossa.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-156">The `Microsoft.IdentityModel.ExceptionMapper` class, which provided functionality that enabled you to map exceptions to specific SOAP Faults, is removed.</span></span>

- <span data-ttu-id="c6bd1-157">La superficie delle eccezioni è stata notevolmente ridotta.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-157">The exception surface has been greatly reduced.</span></span>

- <span data-ttu-id="c6bd1-158">Molte delle classi che definiscono costanti specifiche del protocollo o di WS-\* sono state rimosse, ad esempio la classe `Microsoft.IdentityModel.WSAddressing10Constants`, che definisce costanti correlate a WS-Addressing 1.0.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-158">Many of the classes that defined protocol or WS-\* specific constants have been removed; for example, the `Microsoft.IdentityModel.WSAddressing10Constants` class, which defined constants related to WS-Addressing 1.0.</span></span>

- <span data-ttu-id="c6bd1-159">Le attestazioni per Windows Token Service (c2wts) e le classi associate nello spazio dei nomi `Microsoft.IdentityModel.WindowsTokenService` sono state rimosse.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-159">The Claims to Windows Token Service (c2wts) and its associated classes in the `Microsoft.IdentityModel.WindowsTokenService` namespace are removed.</span></span>

### <a name="wif-configuration-changes"></a><span data-ttu-id="c6bd1-160">Modifiche apportate alla configurazione di Windows Identity Foundation</span><span class="sxs-lookup"><span data-stu-id="c6bd1-160">WIF Configuration Changes</span></span>

<span data-ttu-id="c6bd1-161">Molte delle modifiche apportate al file di configurazione sono dovute agli aggiornamenti degli spazi dei nomi in Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-161">Many of the changes in the configuration file have been caused by namespace updates in WIF 4.5.</span></span> <span data-ttu-id="c6bd1-162">Ad esempio, si consideri la voce seguente inclusa in Windows Identity Foundation 3.5 nella sezione `<httpModules>` per l'aggiunta del gestore di autenticazione WS-Federation a un'applicazione:</span><span class="sxs-lookup"><span data-stu-id="c6bd1-162">For example, consider the following WIF 3.5 entry in the `<httpModules>` section to add the WS-Federation Authentication Manager to an application:</span></span>

```xml
<add name="WSFederationAuthenticationModule" type="Microsoft.IdentityModel.Web.WSFederationAuthenticationModule, Microsoft.IdentityModel, Version=3.5.0.0, Culture=neutral, PublicKeyToken=abcd … 5678" />
```

<span data-ttu-id="c6bd1-163">Questa voce è stata aggiornata in Windows Identity Foundation 4.5 per includere i nuovi spazi dei nomi e la nuova versione dell'assembly:</span><span class="sxs-lookup"><span data-stu-id="c6bd1-163">This entry has been updated in WIF 4.5 to include the new namespaces and assembly version:</span></span>

```xml
<add name="WSFederationAuthenticationModule" type="System.IdentityModel.Services.WSFederationAuthenticationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=abcd … 5678"/>
```

<span data-ttu-id="c6bd1-164">L'elenco seguente include le principali modifiche apportate al file di configurazione in Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-164">The following list enumerates the major changes to the configuration file for WIF 4.5.</span></span>

- <span data-ttu-id="c6bd1-165">La sezione `<microsoft.identityModel>` è ora la sezione [\<system.identityModel>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md).</span><span class="sxs-lookup"><span data-stu-id="c6bd1-165">The `<microsoft.identityModel>` section is now the [\<system.identityModel>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) section.</span></span>

- <span data-ttu-id="c6bd1-166">L'elemento `<service>` è ora l'elemento [\<identityConfiguration>](../configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md).</span><span class="sxs-lookup"><span data-stu-id="c6bd1-166">The `<service>` element is now the [\<identityConfiguration>](../configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element.</span></span>

- <span data-ttu-id="c6bd1-167">È stata aggiunta la nuova sezione [\<system.identityModel.services>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md) per specificare le impostazioni che controllano il comportamento negli scenari passivi (WS-Federation).</span><span class="sxs-lookup"><span data-stu-id="c6bd1-167">A new section, [\<system.identityModel.services>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md), has been added to specify settings that control behavior in passive (WS-Federation) scenarios.</span></span>

- <span data-ttu-id="c6bd1-168">L'elemento [\<federationConfiguration>](../configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) e i relativi elementi figlio sono stati spostati dall'elemento `<service>` di Windows Identity Foundation 3.5 al nuovo elemento `<system.identityModel.services>`.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-168">The [\<federationConfiguration>](../configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) element and its child elements have been moved from the `<service>` element in WIF 3.5 to the new `<system.identityModel.services>` element .</span></span>

- <span data-ttu-id="c6bd1-169">Diversi elementi che possono essere specificati a livello di servizio direttamente nell'elemento `<service>` in Windows Identity Foundation 3.5 possono ora essere specificati solo nell'elemento [\<securityTokenHandlerConfiguration>](../configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md).</span><span class="sxs-lookup"><span data-stu-id="c6bd1-169">Several elements that could be specified at the service-level directly under the `<service>` element in WIF 3.5 have been restricted to being specified under the [\<securityTokenHandlerConfiguration>](../configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md) element.</span></span> <span data-ttu-id="c6bd1-170">Questi elementi possono comunque essere specificati nell'elemento [\<identityConfiguration>](../configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) in Windows Identity Foundation 4.5 per compatibilità con le versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-170">(They may still be specified under the [\<identityConfiguration>](../configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element in WIF 4.5 for backward compatibility.)</span></span>

<span data-ttu-id="c6bd1-171">Per un elenco completo degli elementi di configurazione di Windows Identity Foundation 4.5, vedere [Schema di configurazione di Windows Identity Foundation](../configure-apps/file-schema/windows-identity-foundation/index.md).</span><span class="sxs-lookup"><span data-stu-id="c6bd1-171">For a complete list of the WIF 4.5 configuration elements, see [WIF Configuration Schema](../configure-apps/file-schema/windows-identity-foundation/index.md).</span></span>

### <a name="visual-studio-tooling-changes"></a><span data-ttu-id="c6bd1-172">Modifiche apportate agli strumenti di Visual Studio</span><span class="sxs-lookup"><span data-stu-id="c6bd1-172">Visual Studio Tooling Changes</span></span>

<span data-ttu-id="c6bd1-173">Windows Identity Foundation 3.5 SDK offre un'utilità di federazione autonoma, FedUtil.exe (FedUtil), che può essere usata per l'outsourcing della gestione delle identità in applicazioni abilitate per Windows Identity Foundation a un servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-173">The WIF 3.5 SDK offered a stand-alone federation utility, FedUtil.exe (FedUtil), that you could use to outsource identity management in WIF-enabled applications to a security token service (STS).</span></span> <span data-ttu-id="c6bd1-174">Questo strumento aggiunge impostazioni di Windows Identity Foundation al file di configurazione dell'applicazione per permettere all'applicazione di ottenere token di sicurezza da uno o più servizi token di sicurezza ed è disponibile in Visual Studio tramite il pulsante **Aggiungi riferimento al servizio token di sicurezza**.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-174">This tool added WIF settings to the application configuration file to enable the application to get security tokens from one or more STSs, and was surfaced in Visual Studio through the **Add STS Service Reference** button.</span></span> <span data-ttu-id="c6bd1-175">L'utilità FedUtil non è inclusa in Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-175">FedUtil does not ship with WIF 4.5.</span></span> <span data-ttu-id="c6bd1-176">Windows Identity Foundation 4.5 supporta invece una nuova estensione di Visual Studio chiamata Identity and Access Tool per Visual Studio 2012, che può essere usata per modificare il file di configurazione dell'applicazione con le impostazioni di Windows Identity Foundation necessarie per l'outsourcing della gestione delle identità a un servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-176">Instead, WIF 4.5 supports a new Visual Studio extension named the Identity and Access Tool for Visual Studio 2012 that you can use to modify your application’s configuration file with the WIF settings required to outsource identity management to an STS.</span></span> <span data-ttu-id="c6bd1-177">Identity and Access Tool implementa anche un servizio token di sicurezza chiamato servizio token di sicurezza locale, che può essere usato per testare le applicazioni abilitate per Windows Identity Foundation.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-177">The Identity and Access Tool also implements an STS called Local STS that you can use to test your WIF-enabled applications.</span></span> <span data-ttu-id="c6bd1-178">In molti casi, questa funzionalità elimina la necessità di compilare servizi token di sicurezza personalizzati, spesso necessari in Windows Identity Foundation 3.5 per testare le soluzioni in fase di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-178">In many cases, this feature obviates the need to build custom STSs that were often necessary in WIF 3.5 to test solutions under development.</span></span> <span data-ttu-id="c6bd1-179">Per questo motivo, i modelli di servizio token di sicurezza non sono più supportati in Visual Studio 2012, ma le classi che supportano lo sviluppo di servizi token di sicurezza sono ancora disponibili in Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-179">For this reason, the STS templates are no longer supported in Visual Studio 2012; however, the classes that support the development of STSs are still available in WIF 4.5.</span></span>

<span data-ttu-id="c6bd1-180">È possibile installare lo strumento di identità e accesso da Gestione estensioni e aggiornamenti in Visual Studio oppure è possibile scaricarlo dalla pagina seguente nella raccolta di codice: [Identity and Access Tool per Visual Studio 2012 in Code Gallery](https://go.microsoft.com/fwlink/?LinkID=245849).</span><span class="sxs-lookup"><span data-stu-id="c6bd1-180">You can install the Identity and Access Tool from the Extensions and Updates Manager in Visual Studio or you can download it from the following page on Code Gallery: [Identity and Access Tool for Visual Studio 2012 on Code Gallery](https://go.microsoft.com/fwlink/?LinkID=245849).</span></span> <span data-ttu-id="c6bd1-181">L'elenco seguente offre un riepilogo delle modifiche apportate agli strumenti di Visual Studio:</span><span class="sxs-lookup"><span data-stu-id="c6bd1-181">The Visual Studio tooling changes are summarized in the following list:</span></span>

- <span data-ttu-id="c6bd1-182">È stata rimossa la funzionalità Aggiungi riferimento al servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-182">The Add STS Service Reference functionality is removed.</span></span> <span data-ttu-id="c6bd1-183">La funzionalità è stata sostituita da Identity and Access Tool.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-183">The replacement is the Identity and Access Tool.</span></span>

- <span data-ttu-id="c6bd1-184">I modelli di servizio token di sicurezza di Visual Studio sono stati rimossi.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-184">The Visual Studio STS templates are removed.</span></span> <span data-ttu-id="c6bd1-185">È possibile usare il servizio token di sicurezza locale, disponibile tramite Identity and Access Tool, per testare le soluzioni di gestione delle identità sviluppate con Windows Identity Foundation.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-185">You can use the Local STS that is available through the Identity and Access Tool to test identity solutions that you develop with WIF.</span></span> <span data-ttu-id="c6bd1-186">La configurazione del servizio token di sicurezza locale può essere modificata per personalizzare le attestazioni rese disponibili.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-186">The Local STS configuration can be modified to customize the claims that it serves.</span></span>

- <span data-ttu-id="c6bd1-187">L'utilità di federazione autonoma (FedUtil) non è disponibile in Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-187">The stand-alone Federation Utility (FedUtil) is not available in WIF 4.5.</span></span> <span data-ttu-id="c6bd1-188">È possibile usare Identity and Access Tool per modificare il file di configurazione per l'outsourcing della gestione delle identità a un servizio token di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-188">You can use the Identity and Access Tool to modify your configuration files to outsource identity management to an STS.</span></span>

<span data-ttu-id="c6bd1-189">Per altre informazioni sullo strumento di identità e accesso, vedere [Identity and Access Tool per Visual Studio 2012](identity-and-access-tool-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="c6bd1-189">For more information about the Identity and Access Tool, see [Identity and Access Tool for Visual Studio 2012](identity-and-access-tool-for-vs.md).</span></span>

<a name="BKMK_ToolingChanges"></a>

### <a name="passive-ws-federation-scenarios"></a><span data-ttu-id="c6bd1-190">Scenari passivi (WS-Federation):</span><span class="sxs-lookup"><span data-stu-id="c6bd1-190">Passive (WS-Federation) Scenarios:</span></span>

- <span data-ttu-id="c6bd1-191">Le classi che supportano gli scenari passivi sono state spostate nello spazio dei nomi <xref:System.IdentityModel.Services?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-191">Classes that support passive scenarios have been moved to the <xref:System.IdentityModel.Services?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="c6bd1-192">In Windows Identity Foundation 3.5 queste classi sono incluse nello spazio dei nomi `Microsoft.IdentityModel.Web`.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-192">In WIF 3.5 these classes were in the `Microsoft.IdentityModel.Web` namespace.</span></span>

- <span data-ttu-id="c6bd1-193">Le classi incluse nello spazio dei nomi `Microsoft.IdentityModel.Web.Configuration` sono state spostate in <xref:System.IdentityModel.Services.Configuration?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-193">The classes in the `Microsoft.IdentityModel.Web.Configuration` namespace have been moved to <xref:System.IdentityModel.Services.Configuration?displayProperty=nameWithType>.</span></span> <span data-ttu-id="c6bd1-194">Queste classi rappresentano oggetti specifici della configurazione in scenari passivi.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-194">These classes represent objects specific to configuration in passive scenarios.</span></span>

- <span data-ttu-id="c6bd1-195">`FederatedPassiveSignInControl` non è più supportato. Tutte le classi incluse nello spazio dei nomi `Microsoft.IdentityModel.Web.Controls` sono state rimosse da Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-195">The `FederatedPassiveSignInControl` is no longer supported; all classes in the `Microsoft.IdentityModel.Web.Controls` namespace have been removed from WIF 4.5.</span></span>

- <span data-ttu-id="c6bd1-196">La funzionalità di disconnessione del modulo di autenticazione WS-Federation (<xref:System.IdentityModel.Services.WSFederationAuthenticationModule>) è diversa rispetto a Windows Identity Foundation 3.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-196">The WS-Federation Authentication Module (<xref:System.IdentityModel.Services.WSFederationAuthenticationModule>) sign-out functionality is different than WIF 3.5.</span></span> <span data-ttu-id="c6bd1-197">Per altre informazioni sul funzionamento della disconnessione in Windows Identity Foundation 4.5, vedere l'argomento relativo alla classe <xref:System.IdentityModel.Services.WSFederationAuthenticationModule>.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-197">For more details about how sign-out works in WIF 4.5, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> class topic.</span></span>

### <a name="active-wcfws-trust-scenarios"></a><span data-ttu-id="c6bd1-198">Scenari attivi (WCF/WS-Trust):</span><span class="sxs-lookup"><span data-stu-id="c6bd1-198">Active (WCF/WS-Trust) Scenarios:</span></span>

- <span data-ttu-id="c6bd1-199">Lo spazio dei nomi `Microsoft.IdentityModel.Protocols.WSTrust` è stato suddiviso prevalentemente tra due spazi dei nomi in Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-199">The `Microsoft.IdentityModel.Protocols.WSTrust` namespace has been split mainly into two namespaces in WIF 4.5.</span></span> <span data-ttu-id="c6bd1-200">Le classi che rappresentano elementi specifici del protocollo WS-Trust si trovano ora in <xref:System.IdentityModel.Protocols.WSTrust?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-200">Classes that represent artifacts that are specific to the WS-Trust protocol are now in <xref:System.IdentityModel.Protocols.WSTrust?displayProperty=nameWithType>.</span></span> <span data-ttu-id="c6bd1-201">Sono incluse le classi come <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken>.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-201">This includes classes like <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken>.</span></span> <span data-ttu-id="c6bd1-202">Le classi che rappresentano contratti di servizio, canali, host servizio e altri elementi coinvolti nell'uso di WS-Trust in applicazioni WCF sono stati spostati in <xref:System.ServiceModel.Security?displayProperty=nameWithType>, ad esempio l'interfaccia <xref:System.ServiceModel.Security.IWSTrust13AsyncContract>.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-202">Classes that represent service contracts, channels, service hosts and other artifacts that are involved in using WS-Trust in WCF applications have been moved to <xref:System.ServiceModel.Security?displayProperty=nameWithType>; for example, the <xref:System.ServiceModel.Security.IWSTrust13AsyncContract> interface.</span></span>

- <span data-ttu-id="c6bd1-203">La configurazione di un'applicazione WCF per l'uso di Windows Identity Foundation è stata notevolmente semplificata.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-203">Configuring a WCF application to use WIF has been greatly simplified.</span></span> <span data-ttu-id="c6bd1-204">Nelle versioni precedenti `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` deve essere aggiunto come estensione di comportamento e questa funzionalità viene quindi usata per integrare Windows Identity Foundation nel comportamento del servizio specificando un elemento `<federatedServiceHostConfiguration>`.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-204">Previously the `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` had to be added as a behavior extension and this functionality was then used to wedge WIF into the service behavior by specifying a `<federatedServiceHostConfiguration>` element.</span></span> <span data-ttu-id="c6bd1-205">Windows Identity Foundation 4.5 è stato integrato ancora di più con WCF.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-205">WIF 4.5 has been more tightly integrated with WCF.</span></span> <span data-ttu-id="c6bd1-206">È ora possibile abilitare Windows Identity Foundation in un servizio WCF specificando l'attributo `useIdentityConfiguration` nell'elemento `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>`, come nel codice XML seguente:</span><span class="sxs-lookup"><span data-stu-id="c6bd1-206">Now you enable WIF on a WCF service by specifying the `useIdentityConfiguration` attribute on the `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` element as in the following XML:</span></span>

    ```xml
    <serviceCredentials useIdentityConfiguration="true">
        <!--Certificate added by Identity And Access VS Package.  Subject='CN=localhost', Issuer='CN=localhost'. Make sure you have this certificate installed. The Identity and Access tool does not install this certificate.-->
        <serviceCertificate findValue="CN=localhost" storeLocation="LocalMachine" storeName="My" x509FindType="FindBySubjectDistinguishedName" />
    </serviceCredentials>
    ```

- <span data-ttu-id="c6bd1-207">In Windows Identity Foundation 4.5 il certificato di servizio usato da un servizio attivo (WCF) deve essere specificato nell'host servizio.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-207">In WIF 4.5 the service certificate used by an active (WCF) service must be specified on the service host.</span></span> <span data-ttu-id="c6bd1-208">Nella configurazione è possibile usare l'elemento `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>`/`<serviceCertificate>`, come mostrato nell'esempio precedente.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-208">In configuration, you can do this through the `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>`/`<serviceCertificate>` element as shown in the preceding example.</span></span> <span data-ttu-id="c6bd1-209">In Windows Identity Foundation 3.5 il certificato di servizio può essere specificato tramite l'elemento figlio `<serviceCertificate>` dell'elemento `<service>` di Windows Identity Foundation.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-209">In WIF 3.5 the service certificate could be specified through the `<serviceCertificate>` child element of the WIF `<service>` element.</span></span> <span data-ttu-id="c6bd1-210">Questa funzionalità non è disponibile in Windows Identity Foundation 4.5. Specificare invece l'elemento `<serviceCertificate>` all'interno dell'elemento `<serviceCredentials>`.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-210">This functionality does not exist in WIF 4.5; specify the `<serviceCertificate>` element under the `<serviceCredentials>` element instead.</span></span>

- <span data-ttu-id="c6bd1-211">Le classi usate per integrare Windows Identity Foundation 3.5 in WCF non sono più disponibili.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-211">The classes used to wedge WIF 3.5 into WCF no longer exist.</span></span> <span data-ttu-id="c6bd1-212">Sono incluse queste classi dello spazio dei nomi `Microsoft.IdentityModel.Tokens`: `FederatedSecurityTokenManager`, `FederatedServiceCredentials` e `IdentityModelServiceAuthorizationManager`, nonché la classe `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement`.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-212">This includes the following classes in the `Microsoft.IdentityModel.Tokens` namespace: `FederatedSecurityTokenManager`, `FederatedServiceCredentials`, and `IdentityModelServiceAuthorizationManager`, as well as the `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` class.</span></span>

## <a name="enabling-wif-35-in-windows-8"></a><span data-ttu-id="c6bd1-213">Abilitazione di Windows Identity Foundation 3.5 in Windows 8</span><span class="sxs-lookup"><span data-stu-id="c6bd1-213">Enabling WIF 3.5 in Windows 8</span></span>

<span data-ttu-id="c6bd1-214">Poiché Windows Identity Foundation 4.5 fa parte di .NET 4.5, è automaticamente abilitato nei computer che eseguono Windows 8 e Windows Server 2012 e le applicazioni compilate con Windows Identity Foundation 4.5 vengono eseguite automaticamente in Windows 8 o Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-214">Because WIF 4.5 is part of .NET 4.5, it is automatically enabled on computers running Windows 8 and Windows Server 2012 and applications that are built using WIF 4.5 will run under Windows 8 or Windows Server 2012 by default.</span></span> <span data-ttu-id="c6bd1-215">Tuttavia, potrebbe essere necessario eseguire applicazioni compilate con Windows Identity Foundation 3.5 in un computer con Windows 8 o Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-215">However, you may need to run applications that were built using WIF 3.5 on a computer that is running Windows 8 or Windows Server 2012.</span></span> <span data-ttu-id="c6bd1-216">In questo caso, è necessario abilitare Windows Identity Foundation 3.5 nel computer di destinazione.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-216">In this case, you need to enable WIF 3.5 on the target computer.</span></span> <span data-ttu-id="c6bd1-217">A questo scopo, in un computer che esegue Windows 8 è possibile usare lo strumento Gestione e manutenzione immagini distribuzione.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-217">On a computer running Windows 8, you can do this by using the Deployment Image Servicing and Management (DISM) tool.</span></span> <span data-ttu-id="c6bd1-218">In un computer che esegue Windows Server 2012 è possibile usare lo strumento Gestione e manutenzione immagini distribuzione oppure il cmdlet `Add-WindowsFeature` di Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-218">On a computer running Windows Server 2012, you can use the DISM tool or you can use the Windows PowerShell `Add-WindowsFeature` cmdlet.</span></span> <span data-ttu-id="c6bd1-219">In entrambi i casi, è possibile richiamare i comandi appropriati dalla riga di comando o dall'ambiente di Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-219">In both cases, the appropriate commands can be invoked either at the command line or from inside the Windows PowerShell environment.</span></span>

<span data-ttu-id="c6bd1-220">I comandi seguenti mostrano come usare lo strumento Gestione e manutenzione immagini di distribuzione dalla riga di comando o dall'ambiente di Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-220">The following commands show how to use the DISM tool from either the command line or from inside the Windows PowerShell environment.</span></span> <span data-ttu-id="c6bd1-221">Per impostazione predefinita, il modulo PowerShell per Gestione e manutenzione immagini di distribuzione è incluso in Windows 8 e Windows Server 2012 e non deve essere importato.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-221">By default, the DISM PowerShell module is included in Windows 8 and Windows Server 2012 and does not need to be imported.</span></span> <span data-ttu-id="c6bd1-222">Per altre informazioni sull'uso di Gestione e manutenzione immagini di distribuzione con Windows PowerShell, vedere [Usare Gestione e manutenzione immagini distribuzione in Windows PowerShell](https://go.microsoft.com/fwlink/?LinkId=254419).</span><span class="sxs-lookup"><span data-stu-id="c6bd1-222">For more information about using DISM with Windows PowerShell, see [How to Use DISM in Windows PowerShell](https://go.microsoft.com/fwlink/?LinkId=254419).</span></span>

<span data-ttu-id="c6bd1-223">Per abilitare Windows Identity Foundation 3.5 con Gestione e manutenzione immagini distribuzione:</span><span class="sxs-lookup"><span data-stu-id="c6bd1-223">To enable WIF 3.5 using DISM:</span></span>

```console
dism /online /enable-feature:windows-identity-foundation
```

<span data-ttu-id="c6bd1-224">Per disabilitare Windows Identity Foundation 3.5 con Gestione e manutenzione immagini distribuzione:</span><span class="sxs-lookup"><span data-stu-id="c6bd1-224">To disable WIF 3.5 using DISM:</span></span>

```console
dism /online /disable-feature:windows-identity-foundation
```

<span data-ttu-id="c6bd1-225">Per controllare quali funzionalità sono abilitate o disabilitate con Gestione e manutenzione immagini distribuzione:</span><span class="sxs-lookup"><span data-stu-id="c6bd1-225">To check which features are enabled or disabled using DISM:</span></span>

```console
dism /online /get-features
```

<span data-ttu-id="c6bd1-226">In alternativa, nei computer che eseguono Windows Server 2012 è possibile abilitare Windows Identity Foundation 3.5 usando il cmdlet `Add-WindowsFeature` di Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-226">Alternatively, on computers running Windows Server 2012, you can enable WIF 3.5 by using the Windows PowerShell `Add-WindowsFeature` cmdlet.</span></span> <span data-ttu-id="c6bd1-227">Per usare la riga di comando a questo scopo, è possibile immettere il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="c6bd1-227">To do so from the command line, you can enter the following command:</span></span>

```console
powershell "add-windowsfeature windows-identity-foundation"
```

 <span data-ttu-id="c6bd1-228">Dall'ambiente di Windows PowerShell, è possibile immettere direttamente il comando:</span><span class="sxs-lookup"><span data-stu-id="c6bd1-228">From inside the Windows PowerShell environment, you can enter the command directly:</span></span>

```powershell
Add-WindowsFeature windows-identity-foundation
```

> [!NOTE]
> <span data-ttu-id="c6bd1-229">Poiché molte delle classi in Windows Identity Foundation 3.5 e Windows Identity Foundation 4.5 condividono gli stessi nomi, quando si usano Windows Identity Foundation 3.5 e Windows Identity Foundation 4.5 insieme, assicurarsi di usare nomi di classe completi o alias dello spazio dei nomi per distinguere tra le classi di Windows Identity Foundation 3.5 e quelle di Windows Identity Foundation 4.5.</span><span class="sxs-lookup"><span data-stu-id="c6bd1-229">Because many of the classes in WIF 3.5 and WIF 4.5 share the same names, when you are using both WIF 3.5 and WIF 4.5 together, be sure to either use fully qualified class names or use namespace aliases to distinguish between classes in WIF 3.5 and WIF 4.5.</span></span>

## <a name="see-also"></a><span data-ttu-id="c6bd1-230">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="c6bd1-230">See also</span></span>

- [<span data-ttu-id="c6bd1-231">Schema di configurazione di WIF</span><span class="sxs-lookup"><span data-stu-id="c6bd1-231">WIF Configuration Schema</span></span>](../configure-apps/file-schema/windows-identity-foundation/index.md)
- [<span data-ttu-id="c6bd1-232">Mapping dello spazio dei nomi tra WIF 3.5 e WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="c6bd1-232">Namespace Mapping between WIF 3.5 and WIF 4.5</span></span>](namespace-mapping-between-wif-3-5-and-wif-4-5.md)
- [<span data-ttu-id="c6bd1-233">Novità di Windows Identity Foundation 4.5</span><span class="sxs-lookup"><span data-stu-id="c6bd1-233">What's New in Windows Identity Foundation 4.5</span></span>](whats-new-in-wif.md)
- [<span data-ttu-id="c6bd1-234">Identity and Access Tool per Visual Studio 2012</span><span class="sxs-lookup"><span data-stu-id="c6bd1-234">Identity and Access Tool for Visual Studio 2012</span></span>](identity-and-access-tool-for-vs.md)

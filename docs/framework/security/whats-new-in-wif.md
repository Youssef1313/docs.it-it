---
title: Novità di Windows Identity Foundation 4.5
ms.date: 03/30/2017
ms.assetid: 3b381f04-593b-471f-bd33-0362be1aade5
author: BrucePerlerMS
ms.openlocfilehash: 93631c1171f81ec8b8d94b56a56012343f6c3220
ms.sourcegitcommit: 289e06e904b72f34ac717dbcc5074239b977e707
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/17/2019
ms.locfileid: "71045271"
---
# <a name="whats-new-in-windows-identity-foundation-45"></a><span data-ttu-id="9b9e9-102">Novità di Windows Identity Foundation 4.5</span><span class="sxs-lookup"><span data-stu-id="9b9e9-102">What's New in Windows Identity Foundation 4.5</span></span>
<span data-ttu-id="9b9e9-103">La prima versione di Windows Identity Foundation (WIF) è stata rilasciata come download autonomo ed è nota come WIF 3.5 perché è stata introdotta nello stesso periodo di .NET 3.5 SP1.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-103">The first version of Windows Identity Foundation (WIF) shipped as a standalone download and is known as WIF 3.5 because it was introduced in the .NET 3.5 SP1 timeframe.</span></span> <span data-ttu-id="9b9e9-104">Con .NET 4.5 WIF è diventato parte di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-104">Starting with .NET 4.5, WIF is part of the .NET framework.</span></span> <span data-ttu-id="9b9e9-105">La disponibilità delle classi WIF direttamente nel framework consente una maggiore integrazione dell'identità basata sulle attestazioni in .NET, semplificando l'uso delle attestazioni.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-105">Having the WIF classes directly available in the framework allows for a much deeper integration of claims-based identity in .NET, making it easier to use claims.</span></span> <span data-ttu-id="9b9e9-106">Le applicazioni scritte per WIF 3.5 devono essere modificate per sfruttare il nuovo modello. Per informazioni, vedere [Linee guida per la migrazione di un'applicazione compilata con le versioni di WIF dalla 3.5 alla 4.5](guidelines-for-migrating-an-application-built-using-wif-3-5-to-wif-4-5.md).</span><span class="sxs-lookup"><span data-stu-id="9b9e9-106">Applications written for WIF 3.5 will need to be modified in order to take advantage of the new model; for information, see [Guidelines for Migrating an Application Built Using WIF 3.5 to WIF 4.5](guidelines-for-migrating-an-application-built-using-wif-3-5-to-wif-4-5.md).</span></span>  
  
 <span data-ttu-id="9b9e9-107">Di seguito sono descritti alcuni elementi di rilievo delle principali modifiche.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-107">Below you can find some highlights of the main changes.</span></span>  
  
## <a name="wif-is-now-part-of-the-net-framework"></a><span data-ttu-id="9b9e9-108">WIF fa ora parte di .NET Framework</span><span class="sxs-lookup"><span data-stu-id="9b9e9-108">WIF Is Now Part of the .NET Framework</span></span>  
 <span data-ttu-id="9b9e9-109">Le classi di WIF sono ora estese tra vari assembly, i principali dei quali sono `mscorlib`, `System.IdentityModel`, `System.IdentityModel.Services` e `System.ServiceModel`.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-109">WIF classes are now spread across several assemblies, the main ones being `mscorlib`, `System.IdentityModel`, `System.IdentityModel.Services`, and `System.ServiceModel`.</span></span> <span data-ttu-id="9b9e9-110">Analogamente, le classi WIF sono distribuite in diversi spazi dei nomi: <xref:System.Security.Claims?displayProperty=nameWithType>, diversi spazi dei nomi [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) e <xref:System.ServiceModel.Security?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-110">Likewise, the WIF classes are spread across several namespaces: <xref:System.Security.Claims?displayProperty=nameWithType>, several [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) namespaces, and <xref:System.ServiceModel.Security?displayProperty=nameWithType>.</span></span> <span data-ttu-id="9b9e9-111">Lo spazio dei nomi <xref:System.Security.Claims?displayProperty=nameWithType> contiene le nuove classi <xref:System.Security.Claims.ClaimsPrincipal> e <xref:System.Security.Claims.ClaimsIdentity> (vedere sotto).</span><span class="sxs-lookup"><span data-stu-id="9b9e9-111">The <xref:System.Security.Claims?displayProperty=nameWithType> namespace contains the new <xref:System.Security.Claims.ClaimsPrincipal> and <xref:System.Security.Claims.ClaimsIdentity> classes (see below).</span></span> <span data-ttu-id="9b9e9-112">Tutte le entità in .NET ora derivano da <xref:System.Security.Claims.ClaimsPrincipal>.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-112">All principals in .NET now derive from <xref:System.Security.Claims.ClaimsPrincipal>.</span></span> <span data-ttu-id="9b9e9-113">Per informazioni dettagliate sugli spazi dei nomi WIF e sui tipi di classi in essi contenute, vedere [Informazioni di riferimento sulle API WIF](wif-api-reference.md).</span><span class="sxs-lookup"><span data-stu-id="9b9e9-113">For more detailed information about the WIF namespaces and the kinds of classes that they contain, see [WIF API Reference](wif-api-reference.md).</span></span> <span data-ttu-id="9b9e9-114">Per informazioni sulla corrispondenza degli spazi dei nomi tra WIF 3.5 e WIF 4.5, vedere [Mapping dello spazio dei nomi tra WIF 3.5 e WIF 4.5](namespace-mapping-between-wif-3-5-and-wif-4-5.md).</span><span class="sxs-lookup"><span data-stu-id="9b9e9-114">For information about how namespaces map between WIF 3.5 and WIF 4.5, see [Namespace Mapping between WIF 3.5 and WIF 4.5](namespace-mapping-between-wif-3-5-and-wif-4-5.md).</span></span>  
  
## <a name="new-claims-model-and-principal-object"></a><span data-ttu-id="9b9e9-115">Nuovi modello attestazioni e oggetto entità</span><span class="sxs-lookup"><span data-stu-id="9b9e9-115">New Claims Model and Principal Object</span></span>  
 <span data-ttu-id="9b9e9-116">Le attestazioni sono il nucleo fondamentale di .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-116">Claims are at the very core of the .NET Framework 4.5.</span></span> <span data-ttu-id="9b9e9-117">Le classi attestazione di base (<xref:System.Security.Claims.Claim>, <xref:System.Security.Claims.ClaimsIdentity>, <xref:System.Security.Claims.ClaimsPrincipal>, <xref:System.Security.Claims.ClaimTypes> e <xref:System.Security.Claims.ClaimValueTypes>) risiedono tutte direttamente in `mscorlib` nello spazio dei nomi <xref:System.Security.Claims?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-117">The base claim classes (<xref:System.Security.Claims.Claim>, <xref:System.Security.Claims.ClaimsIdentity>, <xref:System.Security.Claims.ClaimsPrincipal>, <xref:System.Security.Claims.ClaimTypes>, and <xref:System.Security.Claims.ClaimValueTypes>) all live directly in `mscorlib` in the <xref:System.Security.Claims?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="9b9e9-118">Non è più necessario utilizzare le interfacce per inserire le attestazioni nel sistema di identità .NET: <xref:System.Security.Principal.WindowsPrincipal>, <xref:System.Security.Principal.GenericPrincipal> e <xref:System.Web.Security.RolePrincipal> ora ereditano da <xref:System.Security.Claims.ClaimsPrincipal>; <xref:System.Security.Principal.WindowsIdentity>, <xref:System.Security.Principal.GenericIdentity> e <xref:System.Web.Security.FormsIdentity> ora ereditano da <xref:System.Security.Claims.ClaimsIdentity>.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-118">It is no longer necessary to use interfaces in order to plug claims into the .NET identity system: <xref:System.Security.Principal.WindowsPrincipal>, <xref:System.Security.Principal.GenericPrincipal>, and <xref:System.Web.Security.RolePrincipal> now inherit from <xref:System.Security.Claims.ClaimsPrincipal>; and <xref:System.Security.Principal.WindowsIdentity>, <xref:System.Security.Principal.GenericIdentity>, and <xref:System.Web.Security.FormsIdentity> now inherit from <xref:System.Security.Claims.ClaimsIdentity>.</span></span> <span data-ttu-id="9b9e9-119">In breve, ogni classe di entità consente ora di soddisfare le attestazioni.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-119">In short, every principal class will now serve claims.</span></span> <span data-ttu-id="9b9e9-120">Le interfacce e le classi di integrazione di WIF 3.5(`WindowsClaimsIdentity`, `WindowsClaimsPrincipal`, `IClaimsPrincipal`, `IClaimsIdentity`) sono state quindi rimosse.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-120">The WIF 3.5 integration classes and interfaces (`WindowsClaimsIdentity`, `WindowsClaimsPrincipal`, `IClaimsPrincipal`, `IClaimsIdentity`) have thus been removed.</span></span> <span data-ttu-id="9b9e9-121">Inoltre, la classe <xref:System.Security.Claims.ClaimsIdentity> ora espone i metodi che semplificano l'esecuzione di query sulla raccolta delle attestazioni di identità.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-121">In addition, the <xref:System.Security.Claims.ClaimsIdentity> class now exposes methods which make it easier to query the identity’s claims collection.</span></span>  
  
## <a name="changes-to-the-wif-45-visual-studio-experience"></a><span data-ttu-id="9b9e9-122">Modifiche all'esperienza di WIF 4.5 con Visual Studio</span><span class="sxs-lookup"><span data-stu-id="9b9e9-122">Changes to the WIF 4.5 Visual Studio Experience</span></span>  
  
- <span data-ttu-id="9b9e9-123">Funzionalità **Aggiungi riferimento STS**</span><span class="sxs-lookup"><span data-stu-id="9b9e9-123">The **Add STS Reference …**</span></span> <span data-ttu-id="9b9e9-124">Questa funzionalità di Visual Studio (utilità della riga di comando FedUtil) non è più disponibile. Al suo posto è possibile usare la nuova estensione di Visual Studio **Identity and Access Tool per Visual Studio 2012**.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-124">Visual Studio functionality (cmdline utility FedUtil) no longer exists; instead you can use the new Visual Studio extension **Identity and Access Tool for Visual Studio 2012**.</span></span> <span data-ttu-id="9b9e9-125">Ciò consente di attuare una federazione con un STS esistente o di utilizzare LocalSTS per eseguire i test delle soluzioni.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-125">This allows you to federate with an existing STS or use LocalSTS to test your solutions.</span></span> <span data-ttu-id="9b9e9-126">Una volta installata l'estensione, è possibile fare clic con il pulsante destro del mouse sul progetto e cercare **Identity and Access** nel menu di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-126">After installing the extension you can right-click on your project and look for **Identity and Access** in the context menu.</span></span>  
  
- <span data-ttu-id="9b9e9-127">I modelli ASP.NET e STS non sono più disponibili in quanto le attestazioni possono essere utilizzate direttamente nei modelli di progetto esistenti per ASP.NET, siti Web e WCF.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-127">The ASP.NET and STS templates are no longer provided as claims can be used directly in existing project templates for ASP.Net, web sites, and WCF.</span></span>  
  
- <span data-ttu-id="9b9e9-128">I controlli nello spazio dei nomi `Microsoft.IdentityModel.Web.Controls` (`SignInControl`, `FederatedPassiveSignInControl` e `FederatedPassiveSignInStatus`) non sono disponibili in WIF 4.5.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-128">The controls in the `Microsoft.IdentityModel.Web.Controls` namespace (`SignInControl`, `FederatedPassiveSignInControl`, and `FederatedPassiveSignInStatus`) are not carried over into WIF 4.5.</span></span>  
  
## <a name="changes-to-the-wif-45-api"></a><span data-ttu-id="9b9e9-129">Modifiche all'API di WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="9b9e9-129">Changes to the WIF 4.5 API</span></span>  
  
- <span data-ttu-id="9b9e9-130">In generale, le classi correlate alle attestazioni si trovano nello spazio dei nomi <xref:System.Security.Claims?displayProperty=nameWithType>, le classi correlate a WCF, ovvero i contratti di servizio, i canali, le factory canale e gli host servizio usati per scenari WS-Trust, si trovano in <xref:System.ServiceModel.Security?displayProperty=nameWithType>, tutte le altre classi WIF sono distribuite tra diversi spazi dei nomi [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004), inclusi, ad esempio, le classi che rappresentano artefatti WS-\* e SAML, i gestori di token e le classi correlate, oltre che le classi usate negli scenari WS-Federation.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-130">In general, claims related classes are in the <xref:System.Security.Claims?displayProperty=nameWithType> namespace; WCF related classes –- service contracts, channels, channel factories, and service hosts that are used for WS-Trust scenarios -- are in <xref:System.ServiceModel.Security?displayProperty=nameWithType>; and all other WIF classes are spread across various [System.IdentityModel](https://go.microsoft.com/fwlink/?LinkId=272004) namespaces – these include, for example, classes that represent WS-\* and SAML artifacts, token handlers and related classes, and classes used in WS-Federation scenarios.</span></span> <span data-ttu-id="9b9e9-131">Per informazioni, vedere [Mapping dello spazio dei nomi tra WIF 3.5 e WIF 4.5](namespace-mapping-between-wif-3-5-and-wif-4-5.md) e [WIF API Reference](wif-api-reference.md) (Informazioni di riferimento sulle API WIF).</span><span class="sxs-lookup"><span data-stu-id="9b9e9-131">For more information, see [Namespace Mapping between WIF 3.5 and WIF 4.5](namespace-mapping-between-wif-3-5-and-wif-4-5.md) and [WIF API Reference](wif-api-reference.md).</span></span>  
  
- <span data-ttu-id="9b9e9-132">La chiave del computer è stata abilitata per l'utilizzo nei cookie di sessione per gli scenari di web farm.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-132">Machine key has been enabled for use in session cookies for web farm scenarios.</span></span> <span data-ttu-id="9b9e9-133">Per altre informazioni, vedere [WIF e Web farm](wif-and-web-farms.md).</span><span class="sxs-lookup"><span data-stu-id="9b9e9-133">For more information, see [WIF and Web Farms](wif-and-web-farms.md).</span></span>  
  
- <span data-ttu-id="9b9e9-134">È ora possibile configurare WIF in modo dichiarativo negli elementi [\<system.identityModel>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) e [\<system.identityModel.services>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md).</span><span class="sxs-lookup"><span data-stu-id="9b9e9-134">You now declaratively configure WIF under the [\<system.identityModel>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) and [\<system.identityModel.services>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md) elements.</span></span> <span data-ttu-id="9b9e9-135">Per altre informazioni sulla configurazione di WIF, vedere [Guida di riferimento per la configurazione di WIF](wif-configuration-reference.md).</span><span class="sxs-lookup"><span data-stu-id="9b9e9-135">For more information about WIF configuration, see [WIF Configuration Reference](wif-configuration-reference.md).</span></span>  
  
## <a name="other-notable-net-changes-or-features-that-are-caused-by-the-integration-of-wif-into-net"></a><span data-ttu-id="9b9e9-136">Altre modifiche o funzionalità significative di .NET determinate dall'integrazione di WIF in .NET</span><span class="sxs-lookup"><span data-stu-id="9b9e9-136">Other notable .NET changes or features that are caused by the integration of WIF into .NET</span></span>  
  
- <span data-ttu-id="9b9e9-137">In .NET Framework è stata integrata la possibilità di eseguire autorizzazioni basate su attestazioni (CBAC).</span><span class="sxs-lookup"><span data-stu-id="9b9e9-137">The potential for performing claims-based authorization (CBAC) is now integral to the .NET framework.</span></span> <span data-ttu-id="9b9e9-138">È possibile configurare un oggetto <xref:System.Security.Claims.ClaimsAuthorizationManager> e utilizzare le classi <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> e <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> per eseguire controlli di accesso imperativi e dichiarativi nel codice.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-138">You can configure a <xref:System.Security.Claims.ClaimsAuthorizationManager> object and then use the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> and <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> classes to perform imperative and declarative access checks in your code.</span></span> <span data-ttu-id="9b9e9-139">CBAC fornisce maggiore flessibilità e maggiore granularità rispetto ai tradizionali controlli dell'accesso basato su ruoli (RBAC).</span><span class="sxs-lookup"><span data-stu-id="9b9e9-139">CBAC provides more flexibility and greater granularity than traditional role-based access checks (RBAC).</span></span> <span data-ttu-id="9b9e9-140">Consente inoltre una maggiore separazione dei criteri di autorizzazione dalla logica di business poiché la logica di business può basare il controllo dell'accesso su un'attestazione o su un set di attestazioni specifico e i criteri di autorizzazione per tali attestazioni possono essere configurati in modo dichiarativo nell'elemento [\<claimsAuthorizationManager>](../configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md).</span><span class="sxs-lookup"><span data-stu-id="9b9e9-140">It also allows greater separation of authorization policy from business logic because the business logic can base the access check on a specific claim or set of claims and the authorization policy for those claims can be configured declaratively under the [\<claimsAuthorizationManager>](../configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) element.</span></span>  
  
## <a name="wcf-changes-as-a-result-of-wif-integration"></a><span data-ttu-id="9b9e9-141">Modifiche a WCF come conseguenza dell'integrazione di WIF:</span><span class="sxs-lookup"><span data-stu-id="9b9e9-141">WCF changes as a result of WIF integration:</span></span>  
  
- <span data-ttu-id="9b9e9-142">Il modello di identità basato sulle attestazioni di WCF è stato sostituito da WIF.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-142">The WCF claims-based identity model is superseded by WIF.</span></span> <span data-ttu-id="9b9e9-143">Ciò significa che le classi negli spazi dei nomi <xref:System.IdentityModel.Claims?displayProperty=nameWithType>, <xref:System.IdentityModel.Policy?displayProperty=nameWithType> e <xref:System.IdentityModel.Selectors?displayProperty=nameWithType> devono essere rilasciate a favore dell'utilizzo delle classi di WIF.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-143">This means that classes in the <xref:System.IdentityModel.Claims?displayProperty=nameWithType>, <xref:System.IdentityModel.Policy?displayProperty=nameWithType>, and <xref:System.IdentityModel.Selectors?displayProperty=nameWithType> namespaces should be dropped in favor of using WIF classes.</span></span>  
  
- <span data-ttu-id="9b9e9-144">WIF viene ora abilitato in un servizio WCF specificando l'attributo `useIdentityConfiguration` nell'elemento `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` come nel codice XML seguente:</span><span class="sxs-lookup"><span data-stu-id="9b9e9-144">WIF is now enabled on a WCF service by specifying the `useIdentityConfiguration` attribute on the `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` element as in the following XML:</span></span>  
  
    ```xml  
    <serviceCredentials useIdentityConfiguration="true">  
        <!--Certificate added by Identity And Access VS Package.  Subject='CN=localhost', Issuer='CN=localhost'. Make sure you have this certificate installed. The Identity and Access tool does not install this certificate.-->  
        <serviceCertificate findValue="CN=localhost" storeLocation="LocalMachine" storeName="My" x509FindType="FindBySubjectDistinguishedName" />  
    </serviceCredentials>  
    ```  
  
     <span data-ttu-id="9b9e9-145">Quando si usa **Identity and Access Tool per Visual Studio 2012** (vedere **Modifiche all'esperienza con Visual Studio** in precedenza), lo strumento aggiunge un elemento `<serviceCredentials>` con l'attributo `useIdentityConfiguration` impostato sul file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-145">When you use the **Identity and Access Tool for Visual Studio 2012** (see **Changes to the Visual Studio Experience** above), the tool adds a `<serviceCredentials>` element with the `useIdentityConfiguration` attribute set to the configuration file for you.</span></span> <span data-ttu-id="9b9e9-146">Aggiunge anche un elemento [\<system.identityModel>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) corrispondente che contiene le impostazioni di configurazione di WIF, un binding e altre impostazioni necessarie per l'outsourcing dell'autenticazione al servizio token di sicurezza scelto.</span><span class="sxs-lookup"><span data-stu-id="9b9e9-146">It also adds a corresponding [\<system.identityModel>](../configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) element that contains the WIF configuration settings and adds a binding and other settings necessary to outsource authentication to your chosen STS.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9b9e9-147">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="9b9e9-147">See also</span></span>

- [<span data-ttu-id="9b9e9-148">Linee guida per la migrazione di un'applicazione compilata con le versioni di WIF dalla 3.5 alla 4.5</span><span class="sxs-lookup"><span data-stu-id="9b9e9-148">Guidelines for Migrating an Application Built Using WIF 3.5 to WIF 4.5</span></span>](guidelines-for-migrating-an-application-built-using-wif-3-5-to-wif-4-5.md)
- [<span data-ttu-id="9b9e9-149">Mapping dello spazio dei nomi tra WIF 3.5 e WIF 4.5</span><span class="sxs-lookup"><span data-stu-id="9b9e9-149">Namespace Mapping between WIF 3.5 and WIF 4.5</span></span>](namespace-mapping-between-wif-3-5-and-wif-4-5.md)
- [<span data-ttu-id="9b9e9-150">Riferimento per le API di WIF</span><span class="sxs-lookup"><span data-stu-id="9b9e9-150">WIF API Reference</span></span>](wif-api-reference.md)
- [<span data-ttu-id="9b9e9-151">Guida di riferimento per la configurazione di WIF</span><span class="sxs-lookup"><span data-stu-id="9b9e9-151">WIF Configuration Reference</span></span>](wif-configuration-reference.md)

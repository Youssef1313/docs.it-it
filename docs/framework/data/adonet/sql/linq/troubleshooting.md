---
title: Risoluzione dei problemi
ms.date: 03/30/2017
ms.assetid: 8cd4401c-b12c-4116-a421-f3dcffa65670
ms.openlocfilehash: 0eede70b67cbaef4805fc7fc5f07fc51e342ea3f
ms.sourcegitcommit: d2e1dfa7ef2d4e9ffae3d431cf6a4ffd9c8d378f
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/07/2019
ms.locfileid: "70780975"
---
# <a name="troubleshooting"></a><span data-ttu-id="71d86-102">Risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="71d86-102">Troubleshooting</span></span>
<span data-ttu-id="71d86-103">Nelle informazioni seguenti vengono illustrati alcuni problemi che è possibile incontrare nelle applicazioni [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] e vengono forniti suggerimenti per evitare o altrimenti ridurre l'effetto di questi problemi.</span><span class="sxs-lookup"><span data-stu-id="71d86-103">The following information exposes some issues you might encounter in your [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] applications, and provides suggestions to avoid or otherwise reduce the effect of these issues.</span></span>  
  
 <span data-ttu-id="71d86-104">Ulteriori problemi vengono risolti nelle [domande frequenti](frequently-asked-questions.md).</span><span class="sxs-lookup"><span data-stu-id="71d86-104">Additional issues are addressed in [Frequently Asked Questions](frequently-asked-questions.md).</span></span>  
  
## <a name="unsupported-standard-query-operators"></a><span data-ttu-id="71d86-105">Operatori di query standard non supportati</span><span class="sxs-lookup"><span data-stu-id="71d86-105">Unsupported Standard Query Operators</span></span>  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="71d86-106">non supporta tutti i metodi degli operatori di query standard, ad esempio <xref:System.Linq.Enumerable.ElementAt%2A>.</span><span class="sxs-lookup"><span data-stu-id="71d86-106">does not support all standard query operator methods (for example, <xref:System.Linq.Enumerable.ElementAt%2A>).</span></span> <span data-ttu-id="71d86-107">Di conseguenza, durante la compilazione dei progetti possono comunque verificarsi errori di runtime.</span><span class="sxs-lookup"><span data-stu-id="71d86-107">As a result, projects that compile can still produce run-time errors.</span></span> <span data-ttu-id="71d86-108">Per ulteriori informazioni, vedere la pagina relativa alla [conversione dell'operatore query standard](standard-query-operator-translation.md).</span><span class="sxs-lookup"><span data-stu-id="71d86-108">For more information, see [Standard Query Operator Translation](standard-query-operator-translation.md).</span></span>  
  
## <a name="memory-issues"></a><span data-ttu-id="71d86-109">Problemi di memoria</span><span class="sxs-lookup"><span data-stu-id="71d86-109">Memory Issues</span></span>  
 <span data-ttu-id="71d86-110">Se una query include una raccolta in memoria e [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <xref:System.Data.Linq.Table%601>, la query potrebbe essere eseguita in memoria, a seconda dell'ordine in cui vengono specificate le due raccolte.</span><span class="sxs-lookup"><span data-stu-id="71d86-110">If a query involves an in-memory collection and [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <xref:System.Data.Linq.Table%601>, the query might be executed in memory, depending on the order in which the two collections are specified.</span></span> <span data-ttu-id="71d86-111">Se la query deve essere eseguita in memoria, sarà necessario recuperare i dati dalla tabella di database.</span><span class="sxs-lookup"><span data-stu-id="71d86-111">If the query must be executed in memory, then the data from the database table will need to be retrieved.</span></span>  
  
 <span data-ttu-id="71d86-112">Questo approccio non è quindi consigliato poiché può comportare un utilizzo significativo della memoria e del processore.</span><span class="sxs-lookup"><span data-stu-id="71d86-112">This approach is inefficient and could result in significant memory and processor usage.</span></span> <span data-ttu-id="71d86-113">Tentare di evitare tali query multidominio.</span><span class="sxs-lookup"><span data-stu-id="71d86-113">Try to avoid such multi-domain queries.</span></span>  
  
## <a name="file-names-and-sqlmetal"></a><span data-ttu-id="71d86-114">Nomi file e SQLMetal</span><span class="sxs-lookup"><span data-stu-id="71d86-114">File Names and SQLMetal</span></span>  
 <span data-ttu-id="71d86-115">Per specificare un nome file di input, aggiungere il nome nella riga di comando come file di input.</span><span class="sxs-lookup"><span data-stu-id="71d86-115">To specify an input file name, add the name to the command line as the input file.</span></span> <span data-ttu-id="71d86-116">Non è possibile includere il nome file nella stringa di connessione mediante l'opzione **/conn** .</span><span class="sxs-lookup"><span data-stu-id="71d86-116">Including the file name in the connection string (using the **/conn** option) is not supported.</span></span> <span data-ttu-id="71d86-117">Per altre informazioni, vedere [SqlMetal.exe (strumento per la generazione del codice)](../../../../tools/sqlmetal-exe-code-generation-tool.md).</span><span class="sxs-lookup"><span data-stu-id="71d86-117">For more information, see [SqlMetal.exe (Code Generation Tool)](../../../../tools/sqlmetal-exe-code-generation-tool.md).</span></span>  
  
## <a name="class-library-projects"></a><span data-ttu-id="71d86-118">Progetti di librerie di classi</span><span class="sxs-lookup"><span data-stu-id="71d86-118">Class Library Projects</span></span>  
 <span data-ttu-id="71d86-119">Il Object Relational Designer crea una stringa di connessione nel `app.config` file del progetto.</span><span class="sxs-lookup"><span data-stu-id="71d86-119">The Object Relational Designer creates a connection string in the `app.config` file of the project.</span></span> <span data-ttu-id="71d86-120">Nei progetti di librerie di classi il file `app.config` non viene usato.</span><span class="sxs-lookup"><span data-stu-id="71d86-120">In class library projects, the `app.config` file is not used.</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="71d86-121">usa la stringa di connessione fornita nei file della fase di progettazione.</span><span class="sxs-lookup"><span data-stu-id="71d86-121">uses the Connection String provided in the design-time files.</span></span> <span data-ttu-id="71d86-122">La modifica del valore in `app.config` non comporta la modifica del database al quale si connette l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="71d86-122">Changing the value in `app.config` does not change the database to which your application connects.</span></span>  
  
## <a name="cascade-delete"></a><span data-ttu-id="71d86-123">Eliminazione a catena</span><span class="sxs-lookup"><span data-stu-id="71d86-123">Cascade Delete</span></span>  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] <span data-ttu-id="71d86-124">non supporta o non riconosce operazioni di eliminazione a catena.</span><span class="sxs-lookup"><span data-stu-id="71d86-124">does not support or recognize cascade-delete operations.</span></span> <span data-ttu-id="71d86-125">Se si desidera eliminare una riga in una tabella contenente vincoli, è necessario effettuare una delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="71d86-125">If you want to delete a row in a table that has constraints against it, you must do either of the following:</span></span>  
  
- <span data-ttu-id="71d86-126">Impostare la regola `ON DELETE CASCADE` nel vincolo di chiave esterna del database.</span><span class="sxs-lookup"><span data-stu-id="71d86-126">Set the `ON DELETE CASCADE` rule in the foreign-key constraint in the database.</span></span>  
  
- <span data-ttu-id="71d86-127">Usare il codice personalizzato per eliminare prima gli oggetti figlio che impediscono l'eliminazione dell'oggetto padre.</span><span class="sxs-lookup"><span data-stu-id="71d86-127">Use your own code to first delete the child objects that prevent the parent object from being deleted.</span></span>  
  
 <span data-ttu-id="71d86-128">In caso contrario, viene generata un'eccezione <xref:System.Data.SqlClient.SqlException>.</span><span class="sxs-lookup"><span data-stu-id="71d86-128">Otherwise, a <xref:System.Data.SqlClient.SqlException> exception is thrown.</span></span>  
  
 <span data-ttu-id="71d86-129">Per altre informazioni, vedere [Procedura: Elimina le righe dal database](how-to-delete-rows-from-the-database.md).</span><span class="sxs-lookup"><span data-stu-id="71d86-129">For more information, see [How to: Delete Rows From the Database](how-to-delete-rows-from-the-database.md).</span></span>  
  
## <a name="expression-not-queryable"></a><span data-ttu-id="71d86-130">Espressione che non può essere sottoposta a query</span><span class="sxs-lookup"><span data-stu-id="71d86-130">Expression Not Queryable</span></span>  
 <span data-ttu-id="71d86-131">Se si ottiene il metodo "Expression [Expression] non può essere sottomesso a query; manca un riferimento a un assembly? "</span><span class="sxs-lookup"><span data-stu-id="71d86-131">If you get the "Expression [expression] is not queryable; are you missing an assembly reference?"</span></span> <span data-ttu-id="71d86-132">errore, verificare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="71d86-132">error, make sure of the following:</span></span>  
  
- <span data-ttu-id="71d86-133">L'applicazione è destinata a .NET Compact Framework 3,5.</span><span class="sxs-lookup"><span data-stu-id="71d86-133">Your application is targeting .NET Compact Framework 3.5.</span></span>  
  
- <span data-ttu-id="71d86-134">È presente un riferimento a `System.Core.dll` e `System.Data.Linq.dll`.</span><span class="sxs-lookup"><span data-stu-id="71d86-134">You have a reference to `System.Core.dll` and `System.Data.Linq.dll`.</span></span>  
  
- <span data-ttu-id="71d86-135">`Imports` `using` C#Per e<xref:System.Linq> è presente una direttiva (Visual Basic) o (). <xref:System.Data.Linq></span><span class="sxs-lookup"><span data-stu-id="71d86-135">You have an `Imports` (Visual Basic) or `using` (C#) directive for <xref:System.Linq> and <xref:System.Data.Linq>.</span></span>  
  
## <a name="duplicatekeyexception"></a><span data-ttu-id="71d86-136">DuplicateKeyException</span><span class="sxs-lookup"><span data-stu-id="71d86-136">DuplicateKeyException</span></span>  
 <span data-ttu-id="71d86-137">Nel corso del debug di un [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] progetto, è possibile attraversare le relazioni di un'entità.</span><span class="sxs-lookup"><span data-stu-id="71d86-137">In the course of debugging a [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] project, you might traverse an entity's relations.</span></span> <span data-ttu-id="71d86-138">In questo modo, questi elementi vengono inseriti nella cache [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] e diventano consapevoli della loro presenza.</span><span class="sxs-lookup"><span data-stu-id="71d86-138">Doing so brings these items into the cache, and [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] becomes aware of their presence.</span></span> <span data-ttu-id="71d86-139">Se si tenta quindi di eseguire <xref:System.Data.Linq.Table%601.Attach%2A> o <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A> oppure un metodo simile che crea più righe con la stessa chiave, viene generata un'eccezione <xref:System.Data.Linq.DuplicateKeyException>.</span><span class="sxs-lookup"><span data-stu-id="71d86-139">If you then try to execute <xref:System.Data.Linq.Table%601.Attach%2A> or <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A> or a similar method that produces multiple rows that have the same key, a <xref:System.Data.Linq.DuplicateKeyException> is thrown.</span></span>  
  
## <a name="string-concatenation-exceptions"></a><span data-ttu-id="71d86-140">Eccezioni di concatenazione di stringhe</span><span class="sxs-lookup"><span data-stu-id="71d86-140">String Concatenation Exceptions</span></span>  
 <span data-ttu-id="71d86-141">La concatenazione su operandi di cui viene eseguito il mapping a `[n]text` e altri `[n][var]char` non è supportata.</span><span class="sxs-lookup"><span data-stu-id="71d86-141">Concatenation on operands mapped to `[n]text` and other `[n][var]char` is not supported.</span></span> <span data-ttu-id="71d86-142">Viene generata un'eccezione per la concatenazione di stringhe di cui viene eseguito il mapping a due set di tipi diversi.</span><span class="sxs-lookup"><span data-stu-id="71d86-142">An exception is thrown for concatenation of strings mapped to the two different sets of types.</span></span> <span data-ttu-id="71d86-143">Per ulteriori informazioni, vedere [metodi System. String](system-string-methods.md).</span><span class="sxs-lookup"><span data-stu-id="71d86-143">For more information, see [System.String Methods](system-string-methods.md).</span></span>  
  
## <a name="skip-and-take-exceptions-in-sql-server-2000"></a><span data-ttu-id="71d86-144">Come ignorare e accettare le eccezioni in SQL Server 2000</span><span class="sxs-lookup"><span data-stu-id="71d86-144">Skip and Take Exceptions in SQL Server 2000</span></span>  
 <span data-ttu-id="71d86-145">È necessario usare i membri di identità (<xref:System.Data.Linq.Mapping.ColumnAttribute.IsPrimaryKey%2A>) quando si usa <xref:System.Linq.Queryable.Take%2A> o <xref:System.Linq.Queryable.Skip%2A> su un database SQL Server 2000.</span><span class="sxs-lookup"><span data-stu-id="71d86-145">You must use identity members (<xref:System.Data.Linq.Mapping.ColumnAttribute.IsPrimaryKey%2A>) when you use <xref:System.Linq.Queryable.Take%2A> or <xref:System.Linq.Queryable.Skip%2A> against a SQL Server 2000 database.</span></span> <span data-ttu-id="71d86-146">La query deve essere eseguita su una singola tabella, ovvero non un join, o deve essere un'operazione <xref:System.Linq.Queryable.Distinct%2A>, <xref:System.Linq.Queryable.Except%2A>, <xref:System.Linq.Queryable.Intersect%2A> o <xref:System.Linq.Queryable.Union%2A> e non deve includere un'operazione <xref:System.Linq.Queryable.Concat%2A>.</span><span class="sxs-lookup"><span data-stu-id="71d86-146">The query must be against a single table (that is, not a join), or be a <xref:System.Linq.Queryable.Distinct%2A>, <xref:System.Linq.Queryable.Except%2A>, <xref:System.Linq.Queryable.Intersect%2A>, or <xref:System.Linq.Queryable.Union%2A> operation, and must not include a <xref:System.Linq.Queryable.Concat%2A> operation.</span></span> <span data-ttu-id="71d86-147">Per ulteriori informazioni, vedere la sezione "supporto di SQL Server 2000" in [conversione dell'operatore query standard](standard-query-operator-translation.md).</span><span class="sxs-lookup"><span data-stu-id="71d86-147">For more information, see the "SQL Server 2000 Support" section in [Standard Query Operator Translation](standard-query-operator-translation.md).</span></span>  
  
 <span data-ttu-id="71d86-148">Questo requisito non si applica al SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="71d86-148">This requirement does not apply to SQL Server 2005.</span></span>  
  
## <a name="groupby-invalidoperationexception"></a><span data-ttu-id="71d86-149">GroupBy InvalidOperationException</span><span class="sxs-lookup"><span data-stu-id="71d86-149">GroupBy InvalidOperationException</span></span>  
 <span data-ttu-id="71d86-150">Questa eccezione viene generata quando un valore di colonna è null in una query <xref:System.Linq.Enumerable.GroupBy%2A> che esegue il raggruppamento in base a un'espressione `boolean`, ad esempio `group x by (Phone==@phone)`.</span><span class="sxs-lookup"><span data-stu-id="71d86-150">This exception is thrown when a column value is null in a <xref:System.Linq.Enumerable.GroupBy%2A> query that groups by a `boolean` expression, such as `group x by (Phone==@phone)`.</span></span> <span data-ttu-id="71d86-151">Poiché `boolean`l'espressione è, la chiave viene dedotta `boolean`come, non `nullable` `boolean`.</span><span class="sxs-lookup"><span data-stu-id="71d86-151">Because the expression is a `boolean`, the key is inferred to be `boolean`, not `nullable` `boolean`.</span></span> <span data-ttu-id="71d86-152">Quando il confronto tradotto produce un valore null, viene effettuato un tentativo di `nullable` assegnare un `boolean`oggetto `boolean` a un oggetto e viene generata l'eccezione.</span><span class="sxs-lookup"><span data-stu-id="71d86-152">When the translated comparison produces a null, an attempt is made to assign a `nullable` `boolean` to a `boolean`, and the exception is thrown.</span></span>  
  
 <span data-ttu-id="71d86-153">Per evitare questa situazione, presupponendo che si desideri trattare i valori null come false, usare un approccio analogo al seguente:</span><span class="sxs-lookup"><span data-stu-id="71d86-153">To avoid this situation (assuming you want to treat nulls as false), use an approach such as the following:</span></span>  
  
 `GroupBy="(Phone != null) && (Phone=@Phone)"`  
  
## <a name="oncreated-partial-method"></a><span data-ttu-id="71d86-154">Metodo parziale OnCreated()</span><span class="sxs-lookup"><span data-stu-id="71d86-154">OnCreated() Partial Method</span></span>  
 <span data-ttu-id="71d86-155">Il metodo `OnCreated()` generato viene chiamato ogni volta che viene chiamato il costruttore dell'oggetto, incluso lo scenario in cui [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] chiama il costruttore per creare una copia dei valori originali.</span><span class="sxs-lookup"><span data-stu-id="71d86-155">The generated method `OnCreated()` is called each time the object constructor is called, including the scenario in which [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] calls the constructor to make a copy for original values.</span></span> <span data-ttu-id="71d86-156">Tenere conto di questo comportamento se si implementa il metodo `OnCreated()` nella classe parziale personalizzata.</span><span class="sxs-lookup"><span data-stu-id="71d86-156">Take this behavior into account if you implement the `OnCreated()` method in your own partial class.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="71d86-157">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="71d86-157">See also</span></span>

- [<span data-ttu-id="71d86-158">Supporto per il debug</span><span class="sxs-lookup"><span data-stu-id="71d86-158">Debugging Support</span></span>](debugging-support.md)
- [<span data-ttu-id="71d86-159">Domande frequenti</span><span class="sxs-lookup"><span data-stu-id="71d86-159">Frequently Asked Questions</span></span>](frequently-asked-questions.md)

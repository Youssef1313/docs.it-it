---
title: Proprietà e separazione tra schemi e utenti in SQL Server
ms.date: 03/30/2017
ms.assetid: 242830c1-31b5-4427-828c-cc22ff339f30
ms.openlocfilehash: 520772acc5edd812f64c61cc7fdda9db3441c87c
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/22/2019
ms.locfileid: "69961093"
---
# <a name="ownership-and-user-schema-separation-in-sql-server"></a><span data-ttu-id="2554f-102">Proprietà e separazione tra schemi e utenti in SQL Server</span><span class="sxs-lookup"><span data-stu-id="2554f-102">Ownership and User-Schema Separation in SQL Server</span></span>
<span data-ttu-id="2554f-103">Uno dei concetti principali in merito alla sicurezza di SQL Server è che i proprietari di oggetti dispongono di autorizzazioni irrevocabili per amministrarli.</span><span class="sxs-lookup"><span data-stu-id="2554f-103">A core concept of SQL Server security is that owners of objects have irrevocable permissions to administer them.</span></span> <span data-ttu-id="2554f-104">Non è possibile rimuovere privilegi dal proprietario di un oggetto, né rilasciare utenti da un database che contiene oggetti di cui sono proprietari.</span><span class="sxs-lookup"><span data-stu-id="2554f-104">You cannot remove privileges from an object owner, and you cannot drop users from a database if they own objects in it.</span></span>  
  
## <a name="user-schema-separation"></a><span data-ttu-id="2554f-105">Distinzione tra utente e schema</span><span class="sxs-lookup"><span data-stu-id="2554f-105">User-Schema Separation</span></span>  
 <span data-ttu-id="2554f-106">La distinzione tra utente e schema offre una maggiore flessibilità nella gestione delle autorizzazioni per gli oggetti di database.</span><span class="sxs-lookup"><span data-stu-id="2554f-106">User-schema separation allows for more flexibility in managing database object permissions.</span></span> <span data-ttu-id="2554f-107">Uno *schema* è un contenitore denominato per gli oggetti di database che consente di raggruppare gli oggetti in spazi dei nomi distinti.</span><span class="sxs-lookup"><span data-stu-id="2554f-107">A *schema* is a named container for database objects, which allows you to group objects into separate namespaces.</span></span> <span data-ttu-id="2554f-108">Ad esempio, il database di esempio AdventureWorks contiene gli schemi per Production, Sales e HumanResources.</span><span class="sxs-lookup"><span data-stu-id="2554f-108">For example, the AdventureWorks sample database contains schemas for Production, Sales, and HumanResources.</span></span>  
  
 <span data-ttu-id="2554f-109">Usando la sintassi di denominazione in quattro parti per fare riferimento agli oggetti viene specificato il nome dello schema.</span><span class="sxs-lookup"><span data-stu-id="2554f-109">The four-part naming syntax for referring to objects specifies the schema name.</span></span>  
  
```  
Server.Database.DatabaseSchema.DatabaseObject  
```  
  
### <a name="schema-owners-and-permissions"></a><span data-ttu-id="2554f-110">Proprietari e autorizzazioni per gli schemi</span><span class="sxs-lookup"><span data-stu-id="2554f-110">Schema Owners and Permissions</span></span>  
 <span data-ttu-id="2554f-111">Gli schemi possono essere di proprietà di qualsiasi entità di database e una singola entità può essere proprietaria di più schemi.</span><span class="sxs-lookup"><span data-stu-id="2554f-111">Schemas can be owned by any database principal, and a single principal can own multiple schemas.</span></span> <span data-ttu-id="2554f-112">È possibile applicare regole di sicurezza a un schema, che vengono ereditate da tutti gli oggetti al suo interno.</span><span class="sxs-lookup"><span data-stu-id="2554f-112">You can apply security rules to a schema, which are inherited by all objects in the schema.</span></span> <span data-ttu-id="2554f-113">Le autorizzazioni di accesso configurate per uno schema vengono automaticamente applicate quando vengono aggiunti nuovi oggetti.</span><span class="sxs-lookup"><span data-stu-id="2554f-113">Once you set up access permissions for a schema, those permissions are automatically applied as new objects are added to the schema.</span></span> <span data-ttu-id="2554f-114">Agli utenti è possibile assegnare uno schema predefinito e più utenti di database possono condividere lo stesso schema.</span><span class="sxs-lookup"><span data-stu-id="2554f-114">Users can be assigned a default schema, and multiple database users can share the same schema.</span></span>  
  
 <span data-ttu-id="2554f-115">Per impostazione predefinita, gli oggetti creati dagli sviluppatori in uno schema appartengono all'entità di sicurezza proprietaria dello schema, non allo sviluppatore.</span><span class="sxs-lookup"><span data-stu-id="2554f-115">By default, when developers create objects in a schema, the objects are owned by the security principal that owns the schema, not the developer.</span></span> <span data-ttu-id="2554f-116">La proprietà degli oggetti può essere trasferita con l'istruzione Transact-SQL ALTER AUTHORIZATION.</span><span class="sxs-lookup"><span data-stu-id="2554f-116">Object ownership can be transferred with ALTER AUTHORIZATION Transact-SQL statement.</span></span> <span data-ttu-id="2554f-117">Uno schema può anche contenere oggetti che appartengono a utenti diversi e con autorizzazioni più granulari di quelle assegnate allo schema, anche se questa soluzione non è consigliata perché aumenta la complessità della gestione delle autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="2554f-117">A schema can also contain objects that are owned by different users and have more granular permissions than those assigned to the schema, although this is not recommended because it adds complexity to managing permissions.</span></span> <span data-ttu-id="2554f-118">Gli oggetti possono essere spostati tra schemi e la proprietà dello schema può essere trasferita tra entità.</span><span class="sxs-lookup"><span data-stu-id="2554f-118">Objects can be moved between schemas, and schema ownership can be transferred between principals.</span></span> <span data-ttu-id="2554f-119">Gli utenti del database possono essere rilasciati senza influire sugli schemi.</span><span class="sxs-lookup"><span data-stu-id="2554f-119">Database users can be dropped without affecting schemas.</span></span>  
  
### <a name="built-in-schemas"></a><span data-ttu-id="2554f-120">Schemi predefiniti</span><span class="sxs-lookup"><span data-stu-id="2554f-120">Built-In Schemas</span></span>  
 <span data-ttu-id="2554f-121">In SQL Server sono disponibili dieci schemi predefiniti con gli stessi nomi degli utenti e dei ruoli incorporati del database.</span><span class="sxs-lookup"><span data-stu-id="2554f-121">SQL Server ships with ten pre-defined schemas that have the same names as the built-in database users and roles.</span></span> <span data-ttu-id="2554f-122">Vengono forniti principalmente per la compatibilità con le versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="2554f-122">These exist mainly for backward compatibility.</span></span> <span data-ttu-id="2554f-123">È possibile rilasciare gli schemi con gli stessi nomi dei ruoli predefiniti del database, se non sono necessari.</span><span class="sxs-lookup"><span data-stu-id="2554f-123">You can drop the schemas that have the same names as the fixed database roles if you do not need them.</span></span> <span data-ttu-id="2554f-124">Non è possibile eliminare i seguenti schemi:</span><span class="sxs-lookup"><span data-stu-id="2554f-124">You cannot drop the following schemas:</span></span>  
  
- `dbo`  
  
- `guest`  
  
- `sys`  
  
- `INFORMATION_SCHEMA`  
  
 <span data-ttu-id="2554f-125">Se questi schemi vengono eliminati dal database modello, non saranno presenti nei nuovi database.</span><span class="sxs-lookup"><span data-stu-id="2554f-125">If you drop them from the model database, they will not appear in new databases.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="2554f-126">Gli schemi `sys` e `INFORMATION_SCHEMA` sono riservati per gli oggetti di sistema.</span><span class="sxs-lookup"><span data-stu-id="2554f-126">The `sys` and `INFORMATION_SCHEMA` schemas are reserved for system objects.</span></span> <span data-ttu-id="2554f-127">Non è possibile creare oggetti in questi schemi e non è possibile rilasciarli.</span><span class="sxs-lookup"><span data-stu-id="2554f-127">You cannot create objects in these schemas and you cannot drop them.</span></span>  
  
#### <a name="the-dbo-schema"></a><span data-ttu-id="2554f-128">Schema dbo</span><span class="sxs-lookup"><span data-stu-id="2554f-128">The dbo Schema</span></span>  
 <span data-ttu-id="2554f-129">Lo schema `dbo` è quello predefinito per i nuovi database creati.</span><span class="sxs-lookup"><span data-stu-id="2554f-129">The `dbo` schema is the default schema for a newly created database.</span></span> <span data-ttu-id="2554f-130">Lo schema `dbo` è di proprietà dell'account utente `dbo`.</span><span class="sxs-lookup"><span data-stu-id="2554f-130">The `dbo` schema is owned by the `dbo` user account.</span></span> <span data-ttu-id="2554f-131">Per impostazione predefinita, gli utenti creati con l'istruzione Transact-SQL CREATE USER hanno `dbo` come schema predefinito.</span><span class="sxs-lookup"><span data-stu-id="2554f-131">By default, users created with the CREATE USER Transact-SQL command have `dbo` as their default schema.</span></span>  
  
 <span data-ttu-id="2554f-132">Gli utenti cui viene assegnato lo schema `dbo` non ereditano le autorizzazioni dell'account utente `dbo`.</span><span class="sxs-lookup"><span data-stu-id="2554f-132">Users who are assigned the `dbo` schema do not inherit the permissions of the `dbo` user account.</span></span> <span data-ttu-id="2554f-133">Gli utenti non ereditano autorizzazioni da uno schema. Le autorizzazioni di uno schema vengono ereditate dagli oggetti di database contenuti nello schema.</span><span class="sxs-lookup"><span data-stu-id="2554f-133">No permissions are inherited from a schema by users; schema permissions are inherited by the database objects contained in the schema.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="2554f-134">Quando agli oggetti di database viene fatto riferimento con un nome a una parte, in SQL Server viene innanzitutto esaminato lo schema predefinito dell'utente.</span><span class="sxs-lookup"><span data-stu-id="2554f-134">When database objects are referenced by using a one-part name, SQL Server first looks in the user's default schema.</span></span> <span data-ttu-id="2554f-135">Se l'oggetto non viene trovato, viene esaminato lo schema `dbo`.</span><span class="sxs-lookup"><span data-stu-id="2554f-135">If the object is not found there, SQL Server looks next in the `dbo` schema.</span></span> <span data-ttu-id="2554f-136">Se l'oggetto non si trova nello schema `dbo`, viene restituito un errore.</span><span class="sxs-lookup"><span data-stu-id="2554f-136">If the object is not in the `dbo` schema, an error is returned.</span></span>  
  
## <a name="external-resources"></a><span data-ttu-id="2554f-137">Risorse esterne</span><span class="sxs-lookup"><span data-stu-id="2554f-137">External Resources</span></span>  
 <span data-ttu-id="2554f-138">Per altre informazioni sulla proprietà degli oggetti e sugli schemi, vedere le risorse seguenti.</span><span class="sxs-lookup"><span data-stu-id="2554f-138">For more information on object ownership and schemas, see the following resources.</span></span>  
  
|<span data-ttu-id="2554f-139">Risorsa</span><span class="sxs-lookup"><span data-stu-id="2554f-139">Resource</span></span>|<span data-ttu-id="2554f-140">Descrizione</span><span class="sxs-lookup"><span data-stu-id="2554f-140">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="2554f-141">[Separazione schema utente](https://docs.microsoft.com/previous-versions/sql/sql-server-2008-r2/ms190387(v=sql.105))</span><span class="sxs-lookup"><span data-stu-id="2554f-141">[User-Schema Separation](https://docs.microsoft.com/previous-versions/sql/sql-server-2008-r2/ms190387(v=sql.105))</span></span>|<span data-ttu-id="2554f-142">Vengono descritte le modifiche introdotte dalla distinzione tra utente e schema,</span><span class="sxs-lookup"><span data-stu-id="2554f-142">Describes the changes introduced by user-schema separation.</span></span> <span data-ttu-id="2554f-143">tra cui il nuovo comportamento, l'impatto sulla proprietà, le visualizzazioni del catalogo e le autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="2554f-143">Includes new behavior, its impact on ownership, catalog views, and permissions.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="2554f-144">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="2554f-144">See also</span></span>

- [<span data-ttu-id="2554f-145">Protezione delle applicazioni ADO.NET</span><span class="sxs-lookup"><span data-stu-id="2554f-145">Securing ADO.NET Applications</span></span>](../../../../../docs/framework/data/adonet/securing-ado-net-applications.md)
- [<span data-ttu-id="2554f-146">Scenari di sicurezza delle applicazioni in SQL Server</span><span class="sxs-lookup"><span data-stu-id="2554f-146">Application Security Scenarios in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/application-security-scenarios-in-sql-server.md)
- [<span data-ttu-id="2554f-147">Autenticazione in SQL Server</span><span class="sxs-lookup"><span data-stu-id="2554f-147">Authentication in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/authentication-in-sql-server.md)
- [<span data-ttu-id="2554f-148">Ruoli server e database in SQL Server</span><span class="sxs-lookup"><span data-stu-id="2554f-148">Server and Database Roles in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/server-and-database-roles-in-sql-server.md)
- [<span data-ttu-id="2554f-149">Autorizzazioni in SQL Server</span><span class="sxs-lookup"><span data-stu-id="2554f-149">Authorization and Permissions in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/authorization-and-permissions-in-sql-server.md)
- [<span data-ttu-id="2554f-150">Provider gestiti ADO.NET e Centro per sviluppatori di set di dati</span><span class="sxs-lookup"><span data-stu-id="2554f-150">ADO.NET Managed Providers and DataSet Developer Center</span></span>](https://go.microsoft.com/fwlink/?LinkId=217917)

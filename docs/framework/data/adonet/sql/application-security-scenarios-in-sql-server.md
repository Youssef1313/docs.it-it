---
title: Scenari di sicurezza delle applicazioni in SQL Server
ms.date: 03/30/2017
ms.assetid: 0164f3a4-406e-4693-bec3-03c8e18b46d7
ms.openlocfilehash: bf844f35a3504af52cdb6bf745862ad5098dfc5f
ms.sourcegitcommit: d2e1dfa7ef2d4e9ffae3d431cf6a4ffd9c8d378f
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/07/2019
ms.locfileid: "70782701"
---
# <a name="application-security-scenarios-in-sql-server"></a><span data-ttu-id="964fb-102">Scenari di sicurezza delle applicazioni in SQL Server</span><span class="sxs-lookup"><span data-stu-id="964fb-102">Application Security Scenarios in SQL Server</span></span>
<span data-ttu-id="964fb-103">Non esiste un singolo modo corretto per creare un'applicazione client SQL Server protetta.</span><span class="sxs-lookup"><span data-stu-id="964fb-103">There is no single correct way to create a secure SQL Server client application.</span></span> <span data-ttu-id="964fb-104">Ogni applicazione è univoca in termini di requisiti, ambiente di distribuzione e popolazione di utenti.</span><span class="sxs-lookup"><span data-stu-id="964fb-104">Every application is unique in its requirements, deployment environment, and user population.</span></span> <span data-ttu-id="964fb-105">Anche se un'applicazione può essere ragionevolmente protetta quando viene distribuita inizialmente, può diventare meno sicura nel corso del tempo.</span><span class="sxs-lookup"><span data-stu-id="964fb-105">An application that is reasonably secure when it is initially deployed can become less secure over time.</span></span> <span data-ttu-id="964fb-106">È impossibile prevedere con accuratezza quali minacce possano emergere nel futuro.</span><span class="sxs-lookup"><span data-stu-id="964fb-106">It is impossible to predict with any accuracy what threats may emerge in the future.</span></span>  
  
 <span data-ttu-id="964fb-107">SQL Server, come prodotto, è stato migliorato da una versione all'altra per incorporare le più recenti funzionalità di sicurezza che consentono agli sviluppatori di creare applicazioni di database protette.</span><span class="sxs-lookup"><span data-stu-id="964fb-107">SQL Server, as a product, has evolved over many versions to incorporate the latest security features that enable developers to create secure database applications.</span></span> <span data-ttu-id="964fb-108">Tuttavia, la sicurezza non è predefinita, ma richiede un monitoraggio e un aggiornamento costanti.</span><span class="sxs-lookup"><span data-stu-id="964fb-108">However, security doesn't come in the box; it requires continual monitoring and updating.</span></span>  
  
## <a name="common-threats"></a><span data-ttu-id="964fb-109">Minacce comuni</span><span class="sxs-lookup"><span data-stu-id="964fb-109">Common Threats</span></span>  
 <span data-ttu-id="964fb-110">Gli sviluppatori devono conoscere le minacce per la sicurezza, gli strumenti disponibili per contrastarle e le misure per evitare problemi di sicurezza provocati internamente.</span><span class="sxs-lookup"><span data-stu-id="964fb-110">Developers need to understand security threats, the tools provided to counter them, and how to avoid self-inflicted security holes.</span></span> <span data-ttu-id="964fb-111">La sicurezza può essere paragonata a una catena, in cui la rottura di uno degli anelli compromette l'efficacia dell'insieme.</span><span class="sxs-lookup"><span data-stu-id="964fb-111">Security can best be thought of as a chain, where a break in any one link compromises the strength of the whole.</span></span> <span data-ttu-id="964fb-112">Nell'elenco seguente sono riportate alcune minacce comuni per la sicurezza che verranno descritte in maggior dettaglio negli argomenti di questa sezione.</span><span class="sxs-lookup"><span data-stu-id="964fb-112">The following list includes some common security threats that are discussed in more detail in the topics in this section.</span></span>  
  
### <a name="sql-injection"></a><span data-ttu-id="964fb-113">SQL injection</span><span class="sxs-lookup"><span data-stu-id="964fb-113">SQL Injection</span></span>  
 <span data-ttu-id="964fb-114">Per SQL injection si intende il processo mediante il quale un utente malintenzionato immette istruzioni Transact-SQL anziché input valido.</span><span class="sxs-lookup"><span data-stu-id="964fb-114">SQL Injection is the process by which a malicious user enters Transact-SQL statements instead of valid input.</span></span> <span data-ttu-id="964fb-115">Se l'input viene passato direttamente al server senza essere convalidato e se l'applicazione esegue inavvertitamente il codice inserito, è possibile che l'attacco danneggi o elimini definitivamente i dati.</span><span class="sxs-lookup"><span data-stu-id="964fb-115">If the input is passed directly to the server without being validated and if the application inadvertently executes the injected code, then the attack has the potential to damage or destroy data.</span></span> <span data-ttu-id="964fb-116">Per contrastare gli attacchi SQL Server injection, è possibile usare stored procedure e comandi con parametri, evitare le istruzioni SQL dinamiche e limitare le autorizzazioni per tutti gli utenti.</span><span class="sxs-lookup"><span data-stu-id="964fb-116">You can thwart SQL Server injection attacks by using stored procedures and parameterized commands, avoiding dynamic SQL, and restricting permissions on all users.</span></span>  
  
### <a name="elevation-of-privilege"></a><span data-ttu-id="964fb-117">Elevazione dei privilegi</span><span class="sxs-lookup"><span data-stu-id="964fb-117">Elevation of Privilege</span></span>  
 <span data-ttu-id="964fb-118">Gli attacchi tramite elevazione dei privilegi si verificano quando un utente è in grado di assumere i privilegi di un account attendibile, ad esempio un proprietario o un amministratore.</span><span class="sxs-lookup"><span data-stu-id="964fb-118">Elevation of privilege attacks occur when a user is able to assume the privileges of a trusted account, such as an owner or administrator.</span></span> <span data-ttu-id="964fb-119">Usare sempre account con privilegi minimi e assegnare solo le autorizzazioni necessarie.</span><span class="sxs-lookup"><span data-stu-id="964fb-119">Always run under least-privileged user accounts and assign only needed permissions.</span></span> <span data-ttu-id="964fb-120">Evitare di usare account di amministratore o di proprietario per l'esecuzione di codice.</span><span class="sxs-lookup"><span data-stu-id="964fb-120">Avoid using administrative or owner accounts for executing code.</span></span> <span data-ttu-id="964fb-121">In questo modo è possibile limitare l'entità dei danni che possono verificarsi in caso di successo di un attacco.</span><span class="sxs-lookup"><span data-stu-id="964fb-121">This limits the amount of damage that can occur if an attack succeeds.</span></span> <span data-ttu-id="964fb-122">Quando si eseguono attività che richiedono autorizzazioni aggiuntive, usare la rappresentazione o la firma di stored procedure solo per la durata dell'attività.</span><span class="sxs-lookup"><span data-stu-id="964fb-122">When performing tasks that require additional permissions, use procedure signing or impersonation only for the duration of the task.</span></span> <span data-ttu-id="964fb-123">È possibile firmare le stored procedure con certificati o usare la rappresentazione per assegnare autorizzazioni temporanee.</span><span class="sxs-lookup"><span data-stu-id="964fb-123">You can sign stored procedures with certificates or use impersonation to temporarily assign permissions.</span></span>  
  
### <a name="probing-and-intelligent-observation"></a><span data-ttu-id="964fb-124">Probe e osservazione intelligente</span><span class="sxs-lookup"><span data-stu-id="964fb-124">Probing and Intelligent Observation</span></span>  
 <span data-ttu-id="964fb-125">In un attacco di tipo probe è possibile che vengano usati i messaggi di errore generati da un'applicazione per ricercare vulnerabilità di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="964fb-125">A probing attack can use error messages generated by an application to search for security vulnerabilities.</span></span> <span data-ttu-id="964fb-126">Implementare la gestione degli errori in tutto il codice procedurale per evitare che le informazioni sugli errori di SQL Server vengano restituite all'utente finale.</span><span class="sxs-lookup"><span data-stu-id="964fb-126">Implement error handling in all procedural code to prevent SQL Server error information from being returned to the end user.</span></span>  
  
### <a name="authentication"></a><span data-ttu-id="964fb-127">Authentication</span><span class="sxs-lookup"><span data-stu-id="964fb-127">Authentication</span></span>  
 <span data-ttu-id="964fb-128">Un attacco injection alle stringhe di connessione può verificarsi quando si usano gli account di accesso di SQL Server se in fase di esecuzione viene creata una stringa di connessione basata sull'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="964fb-128">A connection string injection attack can occur when using SQL Server logins if a connection string based on user input is constructed at run time.</span></span> <span data-ttu-id="964fb-129">Se la stringa di connessione non viene controllata per verificare la presenza di coppie di parole chiave valide, un utente non autorizzato può inserire caratteri aggiuntivi, con la possibilità di accedere a dati sensibili o ad altre risorse del server.</span><span class="sxs-lookup"><span data-stu-id="964fb-129">If the connection string is not checked for valid keyword pairs, an attacker can insert extra characters, potentially accessing sensitive data or other resources on the server.</span></span> <span data-ttu-id="964fb-130">Se possibile, usare l'autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="964fb-130">Use Windows authentication wherever possible.</span></span> <span data-ttu-id="964fb-131">Se è necessario usare gli account di accesso di SQL server, usare <xref:System.Data.SqlClient.SqlConnectionStringBuilder> per creare e convalidare le stringhe di connessione in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="964fb-131">If you must use SQL Server logins, use the <xref:System.Data.SqlClient.SqlConnectionStringBuilder> to create and validate connection strings at run time.</span></span>  
  
### <a name="passwords"></a><span data-ttu-id="964fb-132">Password</span><span class="sxs-lookup"><span data-stu-id="964fb-132">Passwords</span></span>  
 <span data-ttu-id="964fb-133">Gli attacchi spesso riescono perché un intruso è stato in grado di ottenere o indovinare la password di un utente con privilegi.</span><span class="sxs-lookup"><span data-stu-id="964fb-133">Many attacks succeed because an intruder was able to obtain or guess a password for a privileged user.</span></span> <span data-ttu-id="964fb-134">Le password rappresentano la prima linea di difesa contro le intrusioni, quindi ai fini della sicurezza del sistema è essenziale impostare password complesse.</span><span class="sxs-lookup"><span data-stu-id="964fb-134">Passwords are your first line of defense against intruders, so setting strong passwords is essential to the security of your system.</span></span> <span data-ttu-id="964fb-135">Creare e applicare criteri password per l'autenticazione in modalità mista.</span><span class="sxs-lookup"><span data-stu-id="964fb-135">Create and enforce password policies for mixed mode authentication.</span></span>  
  
 <span data-ttu-id="964fb-136">Assegnare sempre una password complessa all'account `sa`, anche quando si usa l'autenticazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="964fb-136">Always assign a strong password to the `sa` account, even when using Windows Authentication.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="964fb-137">In questa sezione</span><span class="sxs-lookup"><span data-stu-id="964fb-137">In This Section</span></span>  
 [<span data-ttu-id="964fb-138">Gestione delle autorizzazioni con stored procedure in SQL Server</span><span class="sxs-lookup"><span data-stu-id="964fb-138">Managing Permissions with Stored Procedures in SQL Server</span></span>](managing-permissions-with-stored-procedures-in-sql-server.md)  
 <span data-ttu-id="964fb-139">Viene descritto come usare le stored procedure per gestire le autorizzazioni e controllare l'accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="964fb-139">Describes how to use stored procedures to manage permissions and control data access.</span></span> <span data-ttu-id="964fb-140">L'utilizzo di stored procedure è un sistema efficace per rispondere a molte minacce per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="964fb-140">Using stored procedures is an effective way to respond to many security threats.</span></span>  
  
 [<span data-ttu-id="964fb-141">Scrittura dinamica sicura in SQL Server</span><span class="sxs-lookup"><span data-stu-id="964fb-141">Writing Secure Dynamic SQL in SQL Server</span></span>](writing-secure-dynamic-sql-in-sql-server.md)  
 <span data-ttu-id="964fb-142">Vengono descritte le tecniche per scrivere istruzioni SQL dinamiche sicure tramite le stored procedure.</span><span class="sxs-lookup"><span data-stu-id="964fb-142">Describes techniques for writing secure dynamic SQL using stored procedures.</span></span>  
  
 [<span data-ttu-id="964fb-143">Firma di stored procedure in SQL Server</span><span class="sxs-lookup"><span data-stu-id="964fb-143">Signing Stored Procedures in SQL Server</span></span>](signing-stored-procedures-in-sql-server.md)  
 <span data-ttu-id="964fb-144">Viene descritto come firmare una stored procedure con un certificato per consentire agli utenti l'uso di dati cui non possono accedere direttamente.</span><span class="sxs-lookup"><span data-stu-id="964fb-144">Describes how to sign a stored procedure with a certificate to enable users to work with data they do not have direct access to.</span></span> <span data-ttu-id="964fb-145">In questo modo le stored procedure possono eseguire operazioni che il chiamante non può eseguire direttamente in quanto non dispone delle autorizzazioni appropriate.</span><span class="sxs-lookup"><span data-stu-id="964fb-145">This enables stored procedures to perform operations that the caller does not have permissions to perform directly.</span></span>  
  
 [<span data-ttu-id="964fb-146">Personalizzazione delle autorizzazioni con rappresentazione in SQL Server</span><span class="sxs-lookup"><span data-stu-id="964fb-146">Customizing Permissions with Impersonation in SQL Server</span></span>](customizing-permissions-with-impersonation-in-sql-server.md)  
 <span data-ttu-id="964fb-147">Viene descritto come usare la clausola EXECUTE AS per rappresentare un altro utente.</span><span class="sxs-lookup"><span data-stu-id="964fb-147">Describes how to use the EXECUTE AS clause to impersonate another user.</span></span> <span data-ttu-id="964fb-148">Con la rappresentazione il contesto di esecuzione passa dal chiamante all'utente specificato.</span><span class="sxs-lookup"><span data-stu-id="964fb-148">Impersonation switches the execution context from the caller to the specified user.</span></span>  
  
 [<span data-ttu-id="964fb-149">Concessione di autorizzazioni a livello di riga in SQL Server</span><span class="sxs-lookup"><span data-stu-id="964fb-149">Granting Row-Level Permissions in SQL Server</span></span>](granting-row-level-permissions-in-sql-server.md)  
 <span data-ttu-id="964fb-150">Viene descritto come implementare autorizzazioni a livello di riga per limitare l'accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="964fb-150">Describes how to implement row-level permissions to restrict data access.</span></span>  
  
 [<span data-ttu-id="964fb-151">Creazione di ruoli applicazione in SQL Server</span><span class="sxs-lookup"><span data-stu-id="964fb-151">Creating Application Roles in SQL Server</span></span>](creating-application-roles-in-sql-server.md)  
 <span data-ttu-id="964fb-152">Vengono descritte le funzionalità dei ruoli applicazione.</span><span class="sxs-lookup"><span data-stu-id="964fb-152">Describes features and functionality of application roles.</span></span>  
  
 [<span data-ttu-id="964fb-153">Abilitazione dell'accesso tra database in SQL Server</span><span class="sxs-lookup"><span data-stu-id="964fb-153">Enabling Cross-Database Access in SQL Server</span></span>](enabling-cross-database-access-in-sql-server.md)  
 <span data-ttu-id="964fb-154">Viene descritto come consentire l'accesso tra database senza compromettere la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="964fb-154">Describes how to enable cross-database access without jeopardizing security.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="964fb-155">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="964fb-155">See also</span></span>

- [<span data-ttu-id="964fb-156">Sicurezza di SQL Server</span><span class="sxs-lookup"><span data-stu-id="964fb-156">SQL Server Security</span></span>](sql-server-security.md)
- [<span data-ttu-id="964fb-157">Cenni preliminari sulla sicurezza in SQL Server</span><span class="sxs-lookup"><span data-stu-id="964fb-157">Overview of SQL Server Security</span></span>](overview-of-sql-server-security.md)
- [<span data-ttu-id="964fb-158">Protezione delle applicazioni ADO.NET</span><span class="sxs-lookup"><span data-stu-id="964fb-158">Securing ADO.NET Applications</span></span>](../securing-ado-net-applications.md)
- [<span data-ttu-id="964fb-159">Panoramica di ADO.NET</span><span class="sxs-lookup"><span data-stu-id="964fb-159">ADO.NET Overview</span></span>](../ado-net-overview.md)

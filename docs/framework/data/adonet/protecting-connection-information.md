---
title: Protezione delle informazioni di connessione
ms.date: 03/30/2017
ms.assetid: 1471f580-bcd4-4046-bdaf-d2541ecda2f4
ms.openlocfilehash: 37aab00a967b9912ba01cc3f27f68f8a3e85fdb2
ms.sourcegitcommit: d2e1dfa7ef2d4e9ffae3d431cf6a4ffd9c8d378f
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/07/2019
ms.locfileid: "70783063"
---
# <a name="protecting-connection-information"></a><span data-ttu-id="e9efc-102">Protezione delle informazioni di connessione</span><span class="sxs-lookup"><span data-stu-id="e9efc-102">Protecting Connection Information</span></span>
<span data-ttu-id="e9efc-103">La protezione dell'accesso all'origine dati è uno dei principali obiettivi da raggiungere quando si imposta la sicurezza di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e9efc-103">Protecting access to your data source is one of the most important goals when securing an application.</span></span> <span data-ttu-id="e9efc-104">Una stringa di connessione presenta una potenziale vulnerabilità se non è protetta.</span><span class="sxs-lookup"><span data-stu-id="e9efc-104">A connection string presents a potential vulnerability if it is not secured.</span></span> <span data-ttu-id="e9efc-105">Se le informazioni di connessione vengono archiviate in testo normale o mantenute nella memoria, si rischia di compromettere l'intero sistema.</span><span class="sxs-lookup"><span data-stu-id="e9efc-105">Storing connection information in plain text or persisting it in memory risks compromising your entire system.</span></span> <span data-ttu-id="e9efc-106">Le stringhe di connessione incorporate nel codice sorgente possono essere lette usando [Ildasm. exe (DISASSEMBLER il)](../../tools/ildasm-exe-il-disassembler.md) per visualizzare Microsoft Intermediate Language (MSIL) in un assembly compilato.</span><span class="sxs-lookup"><span data-stu-id="e9efc-106">Connection strings embedded in your source code can be read using the [Ildasm.exe (IL Disassembler)](../../tools/ildasm-exe-il-disassembler.md) to view Microsoft intermediate language (MSIL) in a compiled assembly.</span></span>  
  
 <span data-ttu-id="e9efc-107">Le vulnerabilità di sicurezza che riguardano le stringhe di connessione possono presentarsi in base al tipo di autenticazione usato, alla modalità con cui le stringhe di connessione vengono mantenute nella memoria e su disco e alle tecniche usate per crearle in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="e9efc-107">Security vulnerabilities involving connection strings can arise based on the type of authentication used, how connection strings are persisted in memory and on disk, and the techniques used to construct them at run time.</span></span>  
  
## <a name="use-windows-authentication"></a><span data-ttu-id="e9efc-108">Uso dell'autenticazione di Windows</span><span class="sxs-lookup"><span data-stu-id="e9efc-108">Use Windows Authentication</span></span>  
 <span data-ttu-id="e9efc-109">Per limitare l'accesso all'origine dati, è necessario proteggere le informazioni di connessione quali, ad esempio, identificatore utente, password e nome dell'origine dati.</span><span class="sxs-lookup"><span data-stu-id="e9efc-109">To help limit access to your data source, you must secure connection information such as user ID, password, and data source name.</span></span> <span data-ttu-id="e9efc-110">Per evitare di esporre le informazioni sugli utenti, è consigliabile usare l'autenticazione di Windows (talvolta definita *sicurezza integrata*) laddove possibile.</span><span class="sxs-lookup"><span data-stu-id="e9efc-110">In order to avoid exposing user information, we recommend using Windows authentication (sometimes referred to as *integrated security*) wherever possible.</span></span> <span data-ttu-id="e9efc-111">L'autenticazione di Windows viene specificata in una stringa di connessione usando le parole chiave `Integrated Security` o `Trusted_Connection`, eliminando la necessità di usare un ID utente e una password.</span><span class="sxs-lookup"><span data-stu-id="e9efc-111">Windows authentication is specified in a connection string by using the `Integrated Security` or `Trusted_Connection` keywords, eliminating the need to use a user ID and password.</span></span> <span data-ttu-id="e9efc-112">Tramite l'autenticazione di Windows, gli utenti vengono autenticati da Windows e l'accesso alle risorse di server e database viene determinato concedendo autorizzazioni a utenti e gruppi di Windows.</span><span class="sxs-lookup"><span data-stu-id="e9efc-112">When using Windows authentication, users are authenticated by Windows, and access to server and database resources is determined by granting permissions to Windows users and groups.</span></span>  
  
 <span data-ttu-id="e9efc-113">Nei casi in cui non sia possibile usare l'autenticazione di Windows, è necessario prestare una maggiore attenzione perché le credenziali utente sono esposte nella stringa di connessione.</span><span class="sxs-lookup"><span data-stu-id="e9efc-113">For situations where it is not possible to use Windows authentication, you must use extra care because user credentials are exposed in the connection string.</span></span> <span data-ttu-id="e9efc-114">Nelle applicazioni ASP.NET è possibile configurare un account di Windows come identità fissa usata per le connessioni a database e ad altre risorse di rete.</span><span class="sxs-lookup"><span data-stu-id="e9efc-114">In an ASP.NET application, you can configure a Windows account as a fixed identity that is used to connect to databases and other network resources.</span></span> <span data-ttu-id="e9efc-115">È possibile abilitare la rappresentazione nell'elemento Identity nel file **Web. config** e specificare un nome utente e una password.</span><span class="sxs-lookup"><span data-stu-id="e9efc-115">You enable impersonation in the identity element in the **web.config** file and specify a user name and password.</span></span>  
  
```xml  
<identity impersonate="true"   
        userName="MyDomain\UserAccount"   
        password="*****" />  
```  
  
 <span data-ttu-id="e9efc-116">L'account con identità fissa deve avere privilegi limitati che includono solo le autorizzazioni necessarie nel database.</span><span class="sxs-lookup"><span data-stu-id="e9efc-116">The fixed identity account should be a low-privilege account that has been granted only necessary permissions in the database.</span></span> <span data-ttu-id="e9efc-117">È inoltre necessario crittografare il file di configurazione in modo da non esporre il nome utente e la password in testo non crittografato.</span><span class="sxs-lookup"><span data-stu-id="e9efc-117">In addition, you should encrypt the configuration file so that the user name and password are not exposed in clear text.</span></span>  
  
## <a name="do-not-use-universal-data-link-udl-files"></a><span data-ttu-id="e9efc-118">Non usare file UDL (Universal Data Link)</span><span class="sxs-lookup"><span data-stu-id="e9efc-118">Do Not Use Universal Data Link (UDL) files</span></span>  
 <span data-ttu-id="e9efc-119">Evitare di archiviare le stringhe di connessione per <xref:System.Data.OleDb.OleDbConnection> in un file di collegamento dati universale (UDL).</span><span class="sxs-lookup"><span data-stu-id="e9efc-119">Avoid storing connection strings for an <xref:System.Data.OleDb.OleDbConnection> in a Universal Data Link (UDL) file.</span></span> <span data-ttu-id="e9efc-120">I file UDL vengono archiviati in testo non crittografato e non possono essere crittografati.</span><span class="sxs-lookup"><span data-stu-id="e9efc-120">UDLs are stored in clear text and cannot be encrypted.</span></span> <span data-ttu-id="e9efc-121">Poiché per l'applicazione si tratta di una risorsa esterna basata su file, un file UDL non può essere protetto né crittografato tramite .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="e9efc-121">A UDL file is an external file-based resource to your application, and it cannot be secured or encrypted using the .NET Framework.</span></span>  
  
## <a name="avoid-injection-attacks-with-connection-string-builders"></a><span data-ttu-id="e9efc-122">Evitare attacchi injection con i compilatori di stringhe di connessione</span><span class="sxs-lookup"><span data-stu-id="e9efc-122">Avoid Injection Attacks with Connection String Builders</span></span>  
 <span data-ttu-id="e9efc-123">Un attacco injection alle stringhe di connessione può verificarsi quando si usa la concatenazione dinamica di stringhe per compilare stringhe di connessione basate sull'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="e9efc-123">A connection string injection attack can occur when dynamic string concatenation is used to build connection strings based on user input.</span></span> <span data-ttu-id="e9efc-124">Se l'input dell'utente non viene convalidato e il testo o i caratteri dannosi non vengono convertiti in caratteri di escape, un utente non autorizzato potrebbe accedere a dati sensibili o ad altre risorse del server.</span><span class="sxs-lookup"><span data-stu-id="e9efc-124">If the user input is not validated and malicious text or characters not escaped, an attacker can potentially access sensitive data or other resources on the server.</span></span> <span data-ttu-id="e9efc-125">Per risolvere questo problema, in ADO.NET 2.0 sono state introdotte nuove classi di compilatori di stringhe di connessione per convalidare la sintassi delle stringhe e assicurarsi che non vengano inseriti parametri aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="e9efc-125">To address this problem, ADO.NET 2.0 introduced new connection string builder classes to validate connection string syntax and ensure that additional parameters are not introduced.</span></span> <span data-ttu-id="e9efc-126">Per altre informazioni, vedere [Compilatori di stringhe di connessione](connection-string-builders.md).</span><span class="sxs-lookup"><span data-stu-id="e9efc-126">For more information, see [Connection String Builders](connection-string-builders.md).</span></span>  
  
## <a name="use-persist-security-infofalse"></a><span data-ttu-id="e9efc-127">Usare Persist Security Info=False</span><span class="sxs-lookup"><span data-stu-id="e9efc-127">Use Persist Security Info=False</span></span>  
 <span data-ttu-id="e9efc-128">Il valore predefinito per `Persist Security Info` è false; si consiglia di usare questo valore in tutte le stringhe di connessione.</span><span class="sxs-lookup"><span data-stu-id="e9efc-128">The default value for `Persist Security Info` is false; we recommend using this default in all connection strings.</span></span> <span data-ttu-id="e9efc-129">Se si imposta `Persist Security Info` su `true` o `yes`, è possibile che da una connessione aperta si ottengano informazioni sensibili, tra cui l'ID utente e la password.</span><span class="sxs-lookup"><span data-stu-id="e9efc-129">Setting `Persist Security Info` to `true` or `yes` allows security-sensitive information, including the user ID and password, to be obtained from a connection after it has been opened.</span></span> <span data-ttu-id="e9efc-130">Se si imposta `Persist Security Info` su `false` o `no`, le informazioni di sicurezza vengono eliminate dopo essere state usate per aprire la connessione. In questo modo un'origine non attendibile non ha accesso alle informazioni sensibili per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="e9efc-130">When `Persist Security Info` is set to `false` or `no`, security information is discarded after it is used to open the connection, ensuring that an untrusted source does not have access to security-sensitive information.</span></span>  
  
## <a name="encrypt-configuration-files"></a><span data-ttu-id="e9efc-131">Crittografare i file di configurazione</span><span class="sxs-lookup"><span data-stu-id="e9efc-131">Encrypt Configuration Files</span></span>  
 <span data-ttu-id="e9efc-132">È anche possibile archiviare le stringhe di connessione in file di configurazione, eliminando la necessità di incorporarle nel codice dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e9efc-132">You can also store connection strings in configuration files, which eliminates the need to embed them in your application's code.</span></span> <span data-ttu-id="e9efc-133">I file di configurazione sono file XML standard per i quali in .NET Framework è stato definito un set comune di elementi.</span><span class="sxs-lookup"><span data-stu-id="e9efc-133">Configuration files are standard XML files for which the .NET Framework has defined a common set of elements.</span></span> <span data-ttu-id="e9efc-134">Le stringhe di connessione nei file di configurazione vengono in genere archiviate all'interno dell'  **\<elemento connectionStrings >** nel file **app. config** per un'applicazione Windows o nel file **Web. config** per un'applicazione ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e9efc-134">Connection strings in configuration files are typically stored inside the **\<connectionStrings>** element in the **app.config** for a Windows application, or the **web.config** file for an ASP.NET application.</span></span> <span data-ttu-id="e9efc-135">Per ulteriori informazioni sulle nozioni di base per l'archiviazione, il recupero e la crittografia delle stringhe di connessione dai file di configurazione, vedere [stringhe di connessione e file di configurazione](connection-strings-and-configuration-files.md).</span><span class="sxs-lookup"><span data-stu-id="e9efc-135">For more information on the basics of storing, retrieving and encrypting connection strings from configuration files, see [Connection Strings and Configuration Files](connection-strings-and-configuration-files.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e9efc-136">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="e9efc-136">See also</span></span>

- [<span data-ttu-id="e9efc-137">Protezione delle applicazioni ADO.NET</span><span class="sxs-lookup"><span data-stu-id="e9efc-137">Securing ADO.NET Applications</span></span>](securing-ado-net-applications.md)
- <span data-ttu-id="e9efc-138">[Crittografia delle informazioni di configurazione tramite la configurazione protetta](https://docs.microsoft.com/previous-versions/aspnet/53tyfkaw(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="e9efc-138">[Encrypting Configuration Information Using Protected Configuration](https://docs.microsoft.com/previous-versions/aspnet/53tyfkaw(v=vs.100))</span></span>
- [<span data-ttu-id="e9efc-139">Sicurezza in .NET</span><span class="sxs-lookup"><span data-stu-id="e9efc-139">Security in .NET</span></span>](../../../standard/security/index.md)
- [<span data-ttu-id="e9efc-140">Panoramica di ADO.NET</span><span class="sxs-lookup"><span data-stu-id="e9efc-140">ADO.NET Overview</span></span>](ado-net-overview.md)

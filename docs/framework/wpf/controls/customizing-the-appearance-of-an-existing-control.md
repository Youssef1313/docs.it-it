---
title: Personalizzazione dell'aspetto di un controllo esistente mediante la creazione di un oggetto ControlTemplate
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- control contract [WPF]
- controls [WPF], visual structure changes
- ControlTemplate [WPF], customizing for existing controls
- skinning controls [WPF]
- controls [WPF], appearance specified by state
- templates [WPF], custom for existing controls
ms.assetid: 678dd116-43a2-4b8c-82b5-6b826f126e31
ms.openlocfilehash: 63a0b724b71c4a4901c2dedcf502045a75ec405c
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/22/2019
ms.locfileid: "69933727"
---
# <a name="customizing-the-appearance-of-an-existing-control-by-creating-a-controltemplate"></a><span data-ttu-id="af184-102">Personalizzazione dell'aspetto di un controllo esistente mediante la creazione di un oggetto ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="af184-102">Customizing the Appearance of an Existing Control by Creating a ControlTemplate</span></span>
<a name="introduction"></a><span data-ttu-id="af184-103">Un <xref:System.Windows.Controls.ControlTemplate> oggetto specifica la struttura visiva e il comportamento visivo di un controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-103">A <xref:System.Windows.Controls.ControlTemplate> specifies the visual structure and visual behavior of a control.</span></span> <span data-ttu-id="af184-104">È possibile personalizzare l'aspetto di un controllo assegnando un nuovo <xref:System.Windows.Controls.ControlTemplate>oggetto.</span><span class="sxs-lookup"><span data-stu-id="af184-104">You can customize the appearance of a control by giving it a new <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="af184-105">Quando si crea un <xref:System.Windows.Controls.ControlTemplate>oggetto, si sostituisce l'aspetto di un controllo esistente senza modificarne la funzionalità.</span><span class="sxs-lookup"><span data-stu-id="af184-105">When you create a <xref:System.Windows.Controls.ControlTemplate>, you replace the appearance of an existing control without changing its functionality.</span></span> <span data-ttu-id="af184-106">Ad esempio, è possibile fare in modo che i pulsanti all'interno dell'applicazione si trovino invece della forma quadrata predefinita, ma <xref:System.Windows.Controls.Primitives.ButtonBase.Click> il pulsante genera comunque l'evento.</span><span class="sxs-lookup"><span data-stu-id="af184-106">For example, you can make the buttons in your application round instead of the default square shape, but the button will still raise the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
 <span data-ttu-id="af184-107">In questo argomento vengono illustrate le varie <xref:System.Windows.Controls.ControlTemplate>parti di un oggetto, <xref:System.Windows.Controls.ControlTemplate> viene illustrata la creazione di una semplice per un <xref:System.Windows.Controls.Button>e viene illustrato come comprendere il contratto di controllo di un controllo in modo che sia possibile personalizzarne l'aspetto.</span><span class="sxs-lookup"><span data-stu-id="af184-107">This topic explains the various parts of a <xref:System.Windows.Controls.ControlTemplate>, demonstrates creating a simple <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button>, and explains how to understand the control contract of a control so that you can customize its appearance.</span></span> <span data-ttu-id="af184-108">Poiché si crea un <xref:System.Windows.Controls.ControlTemplate> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], è possibile modificare l'aspetto di un controllo senza scrivere alcun codice.</span><span class="sxs-lookup"><span data-stu-id="af184-108">Because you create a <xref:System.Windows.Controls.ControlTemplate> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you can change a control's appearance without writing any code.</span></span> <span data-ttu-id="af184-109">È anche possibile usare una finestra di progettazione, ad esempio Microsoft Expression Blend, per creare modelli di controlli personalizzati.</span><span class="sxs-lookup"><span data-stu-id="af184-109">You can also use a designer, such as Microsoft Expression Blend, to create custom control templates.</span></span> <span data-ttu-id="af184-110">In questo argomento vengono illustrati [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] esempi nell'oggetto che consente di <xref:System.Windows.Controls.Button> personalizzare l'aspetto di un oggetto ed elencare l'esempio completo alla fine dell'argomento.</span><span class="sxs-lookup"><span data-stu-id="af184-110">This topic shows examples in the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] that customize the appearance of a <xref:System.Windows.Controls.Button> and lists the complete example at the end of the topic.</span></span> <span data-ttu-id="af184-111">Per altre informazioni sull'uso di Expression Blend, vedere [Applicazione di stili a un controllo che supporta modelli](https://go.microsoft.com/fwlink/?LinkId=161153).</span><span class="sxs-lookup"><span data-stu-id="af184-111">For more information about using Expression Blend, see [Styling a control that supports templates](https://go.microsoft.com/fwlink/?LinkId=161153).</span></span>  
  
 <span data-ttu-id="af184-112">Nelle illustrazioni seguenti viene illustrato <xref:System.Windows.Controls.Button> un oggetto che <xref:System.Windows.Controls.ControlTemplate> utilizza l'oggetto creato in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="af184-112">The following illustrations show a <xref:System.Windows.Controls.Button> that uses the <xref:System.Windows.Controls.ControlTemplate> that is created in this topic.</span></span>  
  
 <span data-ttu-id="af184-113">![Un pulsante con un modello di controllo personalizzato.](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span><span class="sxs-lookup"><span data-stu-id="af184-113">![A button with a custom control template.](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span></span>  
<span data-ttu-id="af184-114">Pulsante che usa un modello del controllo personalizzato</span><span class="sxs-lookup"><span data-stu-id="af184-114">A button that uses a custom control template</span></span>  
  
 <span data-ttu-id="af184-115">![Un pulsante con un bordo rosso.](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span><span class="sxs-lookup"><span data-stu-id="af184-115">![A button with a red border.](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span></span>  
<span data-ttu-id="af184-116">Pulsante che usa un modello del controllo personalizzato e su cui è posizionato il puntatore del mouse</span><span class="sxs-lookup"><span data-stu-id="af184-116">A button that uses a custom control template and has the mouse pointer over it</span></span>  

<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="af184-117">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="af184-117">Prerequisites</span></span>  
 <span data-ttu-id="af184-118">Questo argomento si basa sul presupposto che si sappiano creare e usare i controlli e gli stili come descritto in [Controlli](index.md).</span><span class="sxs-lookup"><span data-stu-id="af184-118">This topic assumes that you understand how to create and use controls and styles as discussed in [Controls](index.md).</span></span> <span data-ttu-id="af184-119">I concetti illustrati in questo argomento si applicano agli elementi che <xref:System.Windows.Controls.Control> ereditano dalla classe, <xref:System.Windows.Controls.UserControl>ad eccezione di.</span><span class="sxs-lookup"><span data-stu-id="af184-119">The concepts discussed in this topic apply to elements that inherit from the <xref:System.Windows.Controls.Control> class, except for the <xref:System.Windows.Controls.UserControl>.</span></span> <span data-ttu-id="af184-120">Non è possibile applicare <xref:System.Windows.Controls.ControlTemplate> un oggetto <xref:System.Windows.Controls.UserControl>a un oggetto.</span><span class="sxs-lookup"><span data-stu-id="af184-120">You cannot apply a <xref:System.Windows.Controls.ControlTemplate> to a <xref:System.Windows.Controls.UserControl>.</span></span>  
  
<a name="when_you_should_create_a_controltemplate"></a>   
## <a name="when-you-should-create-a-controltemplate"></a><span data-ttu-id="af184-121">Quando creare un oggetto ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="af184-121">When You Should Create a ControlTemplate</span></span>  
 <span data-ttu-id="af184-122">I controlli hanno molte proprietà, ad <xref:System.Windows.Controls.Border.Background%2A>esempio <xref:System.Windows.Controls.Control.Foreground%2A>, e <xref:System.Windows.Controls.Control.FontFamily%2A>, che è possibile impostare per specificare diversi aspetti dell'aspetto del controllo, ma le modifiche che è possibile apportare impostando queste proprietà sono limitate.</span><span class="sxs-lookup"><span data-stu-id="af184-122">Controls have many properties, such as <xref:System.Windows.Controls.Border.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, and <xref:System.Windows.Controls.Control.FontFamily%2A>, that you can set to specify different aspects of the control's appearance, but the changes that you can make by setting these properties are limited.</span></span> <span data-ttu-id="af184-123">Ad esempio, è possibile impostare la <xref:System.Windows.Controls.Control.Foreground%2A> proprietà su blu e <xref:System.Windows.Controls.Control.FontStyle%2A> su corsivo in un <xref:System.Windows.Controls.CheckBox>oggetto.</span><span class="sxs-lookup"><span data-stu-id="af184-123">For example, you can set the <xref:System.Windows.Controls.Control.Foreground%2A> property to blue and <xref:System.Windows.Controls.Control.FontStyle%2A> to italic on a <xref:System.Windows.Controls.CheckBox>.</span></span>  
  
 <span data-ttu-id="af184-124">Senza la possibilità di creare un nuovo <xref:System.Windows.Controls.ControlTemplate> controllo per i controlli, tutti i [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]controlli in ogni applicazione basata su hanno lo stesso aspetto generale, in modo da limitare la possibilità di creare un'applicazione con un aspetto personalizzato.</span><span class="sxs-lookup"><span data-stu-id="af184-124">Without the ability to create a new <xref:System.Windows.Controls.ControlTemplate> for controls, all controls in every [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-based application would have the same general appearance, which would limit the ability to create an application with a custom look and feel.</span></span> <span data-ttu-id="af184-125">Per impostazione predefinita, <xref:System.Windows.Controls.CheckBox> ogni ha caratteristiche simili.</span><span class="sxs-lookup"><span data-stu-id="af184-125">By default, every <xref:System.Windows.Controls.CheckBox> has similar characteristics.</span></span> <span data-ttu-id="af184-126">Ad esempio, il contenuto di <xref:System.Windows.Controls.CheckBox> è sempre a destra dell'indicatore di selezione e il segno di spunta viene sempre usato per indicare che l'oggetto <xref:System.Windows.Controls.CheckBox> è selezionato.</span><span class="sxs-lookup"><span data-stu-id="af184-126">For example, the content of the <xref:System.Windows.Controls.CheckBox> is always to the right of the selection indicator, and the check mark is always used to indicate that the <xref:System.Windows.Controls.CheckBox> is selected.</span></span>  
  
 <span data-ttu-id="af184-127">Viene creato un <xref:System.Windows.Controls.ControlTemplate> oggetto quando si desidera personalizzare l'aspetto del controllo oltre a quello che l'impostazione delle altre proprietà del controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-127">You create a <xref:System.Windows.Controls.ControlTemplate> when you want to customize the control's appearance beyond what setting the other properties on the control will do.</span></span> <span data-ttu-id="af184-128">Nell'esempio di <xref:System.Windows.Controls.CheckBox>, si supponga che il contenuto della casella di controllo sia sopra l'indicatore di selezione e che si desideri una X per indicare che l'oggetto <xref:System.Windows.Controls.CheckBox> è selezionato.</span><span class="sxs-lookup"><span data-stu-id="af184-128">In the example of the <xref:System.Windows.Controls.CheckBox>, suppose that you want the content of the check box to be above the selection indicator and you want an X to indicate that the <xref:System.Windows.Controls.CheckBox> is selected.</span></span> <span data-ttu-id="af184-129">Queste modifiche vengono specificate nella <xref:System.Windows.Controls.ControlTemplate> <xref:System.Windows.Controls.CheckBox>di.</span><span class="sxs-lookup"><span data-stu-id="af184-129">You specify these changes in the <xref:System.Windows.Controls.ControlTemplate> of the <xref:System.Windows.Controls.CheckBox>.</span></span>  
  
 <span data-ttu-id="af184-130">Nella figura seguente viene illustrato <xref:System.Windows.Controls.CheckBox> un oggetto che utilizza <xref:System.Windows.Controls.ControlTemplate>un valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="af184-130">The following illustration shows a <xref:System.Windows.Controls.CheckBox> that uses a default <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 <span data-ttu-id="af184-131">![Casella di controllo con il modello di controllo predefinito.](./media/ndp-checkboxdefault.png "NDP_CheckBoxDefault")</span><span class="sxs-lookup"><span data-stu-id="af184-131">![A checkbox with the default control template.](./media/ndp-checkboxdefault.png "NDP_CheckBoxDefault")</span></span>  
<span data-ttu-id="af184-132">Oggetto CheckBox che usa il modello del controllo predefinito</span><span class="sxs-lookup"><span data-stu-id="af184-132">A CheckBox that uses the default control template</span></span>  
  
 <span data-ttu-id="af184-133">Nella figura seguente viene illustrato <xref:System.Windows.Controls.CheckBox> un oggetto che utilizza <xref:System.Windows.Controls.ControlTemplate> un oggetto personalizzato per <xref:System.Windows.Controls.CheckBox> inserire il contenuto di sopra l'indicatore di <xref:System.Windows.Controls.CheckBox> selezione e visualizza una X quando viene selezionato.</span><span class="sxs-lookup"><span data-stu-id="af184-133">The following illustration shows a <xref:System.Windows.Controls.CheckBox> that uses a custom <xref:System.Windows.Controls.ControlTemplate> to place the content of the <xref:System.Windows.Controls.CheckBox> above the selection indicator and displays an X when the <xref:System.Windows.Controls.CheckBox> is selected.</span></span>  
  
 <span data-ttu-id="af184-134">![Casella di controllo con un modello di controllo personalizzato.](./media/ndp-checkboxcustom.png "NDP_CheckBoxCustom")</span><span class="sxs-lookup"><span data-stu-id="af184-134">![A checkbox with a custom control template.](./media/ndp-checkboxcustom.png "NDP_CheckBoxCustom")</span></span>  
<span data-ttu-id="af184-135">Oggetto CheckBox che usa un modello del controllo personalizzato</span><span class="sxs-lookup"><span data-stu-id="af184-135">A CheckBox that uses a custom control template</span></span>  
  
 <span data-ttu-id="af184-136">Per in questo esempio è relativamente complesso, quindi in questo argomento viene utilizzato un esempio più semplice di creazione di <xref:System.Windows.Controls.ControlTemplate> un oggetto per un oggetto. <xref:System.Windows.Controls.Button> <xref:System.Windows.Controls.ControlTemplate> <xref:System.Windows.Controls.CheckBox></span><span class="sxs-lookup"><span data-stu-id="af184-136">The <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.CheckBox> in this sample is relatively complex, so this topic uses a simpler example of creating a <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button>.</span></span>  
  
<a name="changing_the_visual_structure_of_a_control"></a>   
## <a name="changing-the-visual-structure-of-a-control"></a><span data-ttu-id="af184-137">Modifica della struttura visiva di un controllo</span><span class="sxs-lookup"><span data-stu-id="af184-137">Changing the Visual Structure of a Control</span></span>  
 <span data-ttu-id="af184-138">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], un controllo è spesso un oggetto <xref:System.Windows.FrameworkElement> composito.</span><span class="sxs-lookup"><span data-stu-id="af184-138">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], a control is often a composite <xref:System.Windows.FrameworkElement> objects.</span></span> <span data-ttu-id="af184-139">Quando si crea un <xref:System.Windows.Controls.ControlTemplate>oggetto, si <xref:System.Windows.FrameworkElement> combinano gli oggetti per compilare un unico controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-139">When you create a <xref:System.Windows.Controls.ControlTemplate>, you combine <xref:System.Windows.FrameworkElement> objects to build a single control.</span></span> <span data-ttu-id="af184-140">Un <xref:System.Windows.Controls.ControlTemplate> oggetto deve avere un <xref:System.Windows.FrameworkElement> solo come elemento radice.</span><span class="sxs-lookup"><span data-stu-id="af184-140">A <xref:System.Windows.Controls.ControlTemplate> must have only one <xref:System.Windows.FrameworkElement> as its root element.</span></span> <span data-ttu-id="af184-141">L'elemento radice contiene in genere <xref:System.Windows.FrameworkElement> altri oggetti.</span><span class="sxs-lookup"><span data-stu-id="af184-141">The root element usually contains other <xref:System.Windows.FrameworkElement> objects.</span></span> <span data-ttu-id="af184-142">La combinazione degli oggetti costituisce la struttura visiva del controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-142">The combination of objects makes up the control's visual structure.</span></span>  
  
 <span data-ttu-id="af184-143">Nell'esempio seguente viene creato un <xref:System.Windows.Controls.ControlTemplate> oggetto personalizzato <xref:System.Windows.Controls.Button>per l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="af184-143">The following example creates a custom <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="af184-144">Crea la struttura visiva dell'oggetto <xref:System.Windows.Controls.Button>. <xref:System.Windows.Controls.ControlTemplate></span><span class="sxs-lookup"><span data-stu-id="af184-144">The <xref:System.Windows.Controls.ControlTemplate> creates the visual structure of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="af184-145">In questo esempio, l'aspetto del pulsante non cambia quando si sposta il puntatore del mouse o si fa clic su di esso.</span><span class="sxs-lookup"><span data-stu-id="af184-145">This example does not change the button's appearance when you move the mouse pointer over it or click it.</span></span> <span data-ttu-id="af184-146">La procedura per modificare l'aspetto del pulsante quando è in uno stato diverso viene descritta più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="af184-146">Changing the button's appearance when it is in a different state is discussed later in this topic.</span></span>  
  
 <span data-ttu-id="af184-147">In questo esempio, la struttura visiva è costituita dalle parti seguenti:</span><span class="sxs-lookup"><span data-stu-id="af184-147">In this example, the visual structure consists of the following parts:</span></span>  
  
- <span data-ttu-id="af184-148">Oggetto <xref:System.Windows.Controls.Border> <xref:System.Windows.FrameworkElement>denominato `RootElement` che funge da radice del modello.</span><span class="sxs-lookup"><span data-stu-id="af184-148">A <xref:System.Windows.Controls.Border> named `RootElement` that serves as the template's root <xref:System.Windows.FrameworkElement>.</span></span>  
  
- <span data-ttu-id="af184-149">Oggetto <xref:System.Windows.Controls.Grid> che è un elemento figlio `RootElement`di.</span><span class="sxs-lookup"><span data-stu-id="af184-149">A <xref:System.Windows.Controls.Grid> that is a child of `RootElement`.</span></span>  
  
- <span data-ttu-id="af184-150">Oggetto <xref:System.Windows.Controls.ContentPresenter> che Visualizza il contenuto del pulsante.</span><span class="sxs-lookup"><span data-stu-id="af184-150">A <xref:System.Windows.Controls.ContentPresenter> that displays the button's content.</span></span> <span data-ttu-id="af184-151"><xref:System.Windows.Controls.ContentPresenter> Consente di visualizzare qualsiasi tipo di oggetto.</span><span class="sxs-lookup"><span data-stu-id="af184-151">The <xref:System.Windows.Controls.ContentPresenter> enables any type of object to be displayed.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#BasicTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#basictemplate)]  
  
### <a name="preserving-the-functionality-of-a-controls-properties-by-using-templatebinding"></a><span data-ttu-id="af184-152">Mantenimento della funzionalità delle proprietà di un controllo tramite TemplateBinding</span><span class="sxs-lookup"><span data-stu-id="af184-152">Preserving the Functionality of a Control's Properties by Using TemplateBinding</span></span>  
 <span data-ttu-id="af184-153">Quando si crea un nuovo <xref:System.Windows.Controls.ControlTemplate>, è comunque possibile usare le proprietà pubbliche per modificare l'aspetto del controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-153">When you create a new <xref:System.Windows.Controls.ControlTemplate>, you still might want to use the public properties to change the control's appearance.</span></span> <span data-ttu-id="af184-154">L'estensione di markup [TemplateBinding](../advanced/templatebinding-markup-extension.md) associa una proprietà di un elemento che si trova in <xref:System.Windows.Controls.ControlTemplate> a una proprietà pubblica definita dal controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-154">The [TemplateBinding](../advanced/templatebinding-markup-extension.md) markup extension binds a property of an element that is in the <xref:System.Windows.Controls.ControlTemplate> to a public property that is defined by the control.</span></span> <span data-ttu-id="af184-155">Quando si usa [TemplateBinding](../advanced/templatebinding-markup-extension.md), si consente alle proprietà del controllo di fungere da parametri per il modello.</span><span class="sxs-lookup"><span data-stu-id="af184-155">When you use [TemplateBinding](../advanced/templatebinding-markup-extension.md), you enable properties on the control to act as parameters to the template.</span></span> <span data-ttu-id="af184-156">Ovvero, quando si imposta una proprietà per un controllo, tale valore viene passato all'elemento che dispone del [TemplateBinding](../advanced/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="af184-156">That is, when a property on a control is set, that value is passed on to the element that has the [TemplateBinding](../advanced/templatebinding-markup-extension.md) on it.</span></span>  
  
 <span data-ttu-id="af184-157">Nell'esempio seguente viene ripetuta la parte dell'esempio precedente che usa l'estensione di markup [TemplateBinding](../advanced/templatebinding-markup-extension.md) per associare le proprietà degli elementi presenti in <xref:System.Windows.Controls.ControlTemplate> alle proprietà pubbliche definite dal pulsante.</span><span class="sxs-lookup"><span data-stu-id="af184-157">The following example repeats the part of the preceding example that uses the [TemplateBinding](../advanced/templatebinding-markup-extension.md) markup extension to bind properties of elements that are in the <xref:System.Windows.Controls.ControlTemplate> to public properties that are defined by the button.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#TemplateBinding](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#templatebinding)]  
  
 <span data-ttu-id="af184-158">In questo esempio il <xref:System.Windows.Controls.Grid> modello di <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> proprietà è associato a <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="af184-158">In this example, the <xref:System.Windows.Controls.Grid> has its <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> property template bound to <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="af184-159">Poiché <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> è associato <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> a un modello, è possibile creare più pulsanti che utilizzano <xref:System.Windows.Controls.ControlTemplate> lo stesso e impostare su valori diversi in ogni pulsante.</span><span class="sxs-lookup"><span data-stu-id="af184-159">Because <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> is template bound, you can create multiple buttons that use the same <xref:System.Windows.Controls.ControlTemplate> and set the <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> to different values on each button.</span></span> <span data-ttu-id="af184-160">Se <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> non è associato a un modello a una proprietà di un elemento <xref:System.Windows.Controls.ControlTemplate>in, l' <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> impostazione di di un pulsante non avrà alcun effetto sull'aspetto del pulsante.</span><span class="sxs-lookup"><span data-stu-id="af184-160">If <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> was not template bound to a property of an element in the <xref:System.Windows.Controls.ControlTemplate>, setting the <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> of a button would have no impact on the button's appearance.</span></span>  
  
 <span data-ttu-id="af184-161">Tenere presente che i nomi delle due proprietà non devono necessariamente essere identici.</span><span class="sxs-lookup"><span data-stu-id="af184-161">Note that the names of the two properties do not need to be identical.</span></span> <span data-ttu-id="af184-162">Nell'esempio precedente, <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> la proprietà <xref:System.Windows.Controls.Button> di <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType> è un modello associato <xref:System.Windows.Controls.ContentPresenter>alla proprietà di.</span><span class="sxs-lookup"><span data-stu-id="af184-162">In the preceding example, the <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> property of the <xref:System.Windows.Controls.Button> is template bound to the <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType> property of the <xref:System.Windows.Controls.ContentPresenter>.</span></span> <span data-ttu-id="af184-163">In questo modo il contenuto del pulsante può essere posizionato orizzontalmente.</span><span class="sxs-lookup"><span data-stu-id="af184-163">This enables the content of the button to be positioned horizontally.</span></span> <span data-ttu-id="af184-164"><xref:System.Windows.Controls.ContentPresenter>non dispone di una proprietà denominata `HorizontalContentAlignment`, ma <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> può essere associata a <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="af184-164"><xref:System.Windows.Controls.ContentPresenter> does not have a property named `HorizontalContentAlignment`, but <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> can be bound to <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="af184-165">Quando si associa al modello una proprietà, accertarsi che le proprietà di origine e destinazione siano dello stesso tipo.</span><span class="sxs-lookup"><span data-stu-id="af184-165">When you template bind a property, be sure that the target and source properties are the same type.</span></span>  
  
 <span data-ttu-id="af184-166">La <xref:System.Windows.Controls.Control> classe definisce diverse proprietà che devono essere utilizzate dal modello di controllo per avere un effetto sul controllo quando vengono impostate.</span><span class="sxs-lookup"><span data-stu-id="af184-166">The <xref:System.Windows.Controls.Control> class defines several properties that must be used by the control template to have an effect on the control when they are set.</span></span> <span data-ttu-id="af184-167">La modalità di utilizzo della proprietà dipende dalla proprietà. <xref:System.Windows.Controls.ControlTemplate></span><span class="sxs-lookup"><span data-stu-id="af184-167">How the <xref:System.Windows.Controls.ControlTemplate> uses the property depends on the property.</span></span> <span data-ttu-id="af184-168">È <xref:System.Windows.Controls.ControlTemplate> necessario utilizzare la proprietà in uno dei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="af184-168">The <xref:System.Windows.Controls.ControlTemplate> must use the property in one of the following ways:</span></span>  
  
- <span data-ttu-id="af184-169">Un elemento nel <xref:System.Windows.Controls.ControlTemplate> modello viene associato alla proprietà.</span><span class="sxs-lookup"><span data-stu-id="af184-169">An element in the <xref:System.Windows.Controls.ControlTemplate> template binds to the property.</span></span>  
  
- <span data-ttu-id="af184-170">Un elemento in <xref:System.Windows.Controls.ControlTemplate> eredita la proprietà da un elemento padre <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="af184-170">An element in the <xref:System.Windows.Controls.ControlTemplate> inherits the property from a parent <xref:System.Windows.FrameworkElement>.</span></span>  
  
 <span data-ttu-id="af184-171">Nella tabella seguente sono elencate le proprietà visive ereditate da un <xref:System.Windows.Controls.Control> controllo dalla classe.</span><span class="sxs-lookup"><span data-stu-id="af184-171">The following table lists the visual properties inherited by a control from the <xref:System.Windows.Controls.Control> class.</span></span> <span data-ttu-id="af184-172">Indica anche se il modello del controllo predefinito di un controllo usa il valore della proprietà ereditato o se deve essere associato al modello.</span><span class="sxs-lookup"><span data-stu-id="af184-172">It also indicates whether the default control template of a control uses the inherited property value or if it must be template bound.</span></span>  
  
|<span data-ttu-id="af184-173">Proprietà</span><span class="sxs-lookup"><span data-stu-id="af184-173">Property</span></span>|<span data-ttu-id="af184-174">Metodo di utilizzo</span><span class="sxs-lookup"><span data-stu-id="af184-174">Usage method</span></span>|  
|--------------|------------------|  
|<xref:System.Windows.Controls.Control.Background%2A>|<span data-ttu-id="af184-175">Associazione a modello</span><span class="sxs-lookup"><span data-stu-id="af184-175">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.BorderThickness%2A>|<span data-ttu-id="af184-176">Associazione a modello</span><span class="sxs-lookup"><span data-stu-id="af184-176">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.BorderBrush%2A>|<span data-ttu-id="af184-177">Associazione a modello</span><span class="sxs-lookup"><span data-stu-id="af184-177">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontFamily%2A>|<span data-ttu-id="af184-178">Ereditarietà della proprietà o associazione a modello</span><span class="sxs-lookup"><span data-stu-id="af184-178">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontSize%2A>|<span data-ttu-id="af184-179">Ereditarietà della proprietà o associazione a modello</span><span class="sxs-lookup"><span data-stu-id="af184-179">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontStretch%2A>|<span data-ttu-id="af184-180">Ereditarietà della proprietà o associazione a modello</span><span class="sxs-lookup"><span data-stu-id="af184-180">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontWeight%2A>|<span data-ttu-id="af184-181">Ereditarietà della proprietà o associazione a modello</span><span class="sxs-lookup"><span data-stu-id="af184-181">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.Foreground%2A>|<span data-ttu-id="af184-182">Ereditarietà della proprietà o associazione a modello</span><span class="sxs-lookup"><span data-stu-id="af184-182">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A>|<span data-ttu-id="af184-183">Associazione a modello</span><span class="sxs-lookup"><span data-stu-id="af184-183">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.Padding%2A>|<span data-ttu-id="af184-184">Associazione a modello</span><span class="sxs-lookup"><span data-stu-id="af184-184">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.VerticalContentAlignment%2A>|<span data-ttu-id="af184-185">Associazione a modello</span><span class="sxs-lookup"><span data-stu-id="af184-185">Template binding</span></span>|  
  
 <span data-ttu-id="af184-186">La tabella elenca solo le proprietà visive ereditate <xref:System.Windows.Controls.Control> dalla classe.</span><span class="sxs-lookup"><span data-stu-id="af184-186">The table lists only the visual properties inherited from the <xref:System.Windows.Controls.Control> class.</span></span> <span data-ttu-id="af184-187">Oltre alle proprietà elencate nella tabella, un controllo può ereditare anche le <xref:System.Windows.FrameworkElement.DataContext%2A>proprietà, <xref:System.Windows.FrameworkElement.Language%2A>e <xref:System.Windows.Controls.TextBlock.TextDecorations%2A> dall'elemento del framework padre.</span><span class="sxs-lookup"><span data-stu-id="af184-187">Apart from the properties listed in the table, a control may also inherit the <xref:System.Windows.FrameworkElement.DataContext%2A>, <xref:System.Windows.FrameworkElement.Language%2A>, and <xref:System.Windows.Controls.TextBlock.TextDecorations%2A> properties from the parent framework element.</span></span>  
  
 <span data-ttu-id="af184-188">Inoltre, se l' <xref:System.Windows.Controls.ContentPresenter> oggetto si trova <xref:System.Windows.Controls.ControlTemplate> nell'oggetto <xref:System.Windows.Controls.ContentControl>di un <xref:System.Windows.Controls.ContentPresenter> oggetto, l'oggetto verrà <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> associato <xref:System.Windows.Controls.ContentControl.Content%2A> automaticamente alle proprietà e.</span><span class="sxs-lookup"><span data-stu-id="af184-188">Also, if the <xref:System.Windows.Controls.ContentPresenter> is in the <xref:System.Windows.Controls.ControlTemplate> of a <xref:System.Windows.Controls.ContentControl>, the <xref:System.Windows.Controls.ContentPresenter> will automatically bind to the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> and <xref:System.Windows.Controls.ContentControl.Content%2A> properties.</span></span> <span data-ttu-id="af184-189">Analogamente, <xref:System.Windows.Controls.ItemsPresenter> un oggetto che si <xref:System.Windows.Controls.ControlTemplate> trova in <xref:System.Windows.Controls.ItemsControl> di un oggetto verrà associato <xref:System.Windows.Controls.ItemsControl.Items%2A> automaticamente <xref:System.Windows.Controls.ItemsPresenter> alle proprietà e.</span><span class="sxs-lookup"><span data-stu-id="af184-189">Likewise, an <xref:System.Windows.Controls.ItemsPresenter> that is in the <xref:System.Windows.Controls.ControlTemplate> of an <xref:System.Windows.Controls.ItemsControl> will automatically bind to the <xref:System.Windows.Controls.ItemsControl.Items%2A> and <xref:System.Windows.Controls.ItemsPresenter> properties.</span></span>  
  
 <span data-ttu-id="af184-190">Nell'esempio seguente vengono creati due pulsanti che utilizzano <xref:System.Windows.Controls.ControlTemplate> l'oggetto definito nell'esempio precedente.</span><span class="sxs-lookup"><span data-stu-id="af184-190">The following example creates two buttons that use the <xref:System.Windows.Controls.ControlTemplate> defined in the preceding example.</span></span> <span data-ttu-id="af184-191">Nell'esempio vengono impostate <xref:System.Windows.Controls.Control.Background%2A>le <xref:System.Windows.Controls.Control.Foreground%2A>proprietà, <xref:System.Windows.Controls.Control.FontSize%2A> e per ogni pulsante.</span><span class="sxs-lookup"><span data-stu-id="af184-191">The example sets the <xref:System.Windows.Controls.Control.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, and <xref:System.Windows.Controls.Control.FontSize%2A> properties on each button.</span></span> <span data-ttu-id="af184-192">L'impostazione <xref:System.Windows.Controls.Control.Background%2A> della proprietà ha effetto perché è associato <xref:System.Windows.Controls.ControlTemplate>a un modello in.</span><span class="sxs-lookup"><span data-stu-id="af184-192">Setting the <xref:System.Windows.Controls.Control.Background%2A> property has an effect because it is template bound in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="af184-193">Anche se le <xref:System.Windows.Controls.Control.Foreground%2A> proprietà <xref:System.Windows.Controls.Control.FontSize%2A> e non sono associate al modello, l'impostazione di tali proprietà ha effetto perché i relativi valori vengono ereditati.</span><span class="sxs-lookup"><span data-stu-id="af184-193">Even though the <xref:System.Windows.Controls.Control.Foreground%2A> and <xref:System.Windows.Controls.Control.FontSize%2A> properties are not template bound, setting them has an effect because their values are inherited.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#ButtonDeclaration](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#buttondeclaration)]  
  
 <span data-ttu-id="af184-194">Nell'esempio precedente viene generato un output simile alla figura seguente.</span><span class="sxs-lookup"><span data-stu-id="af184-194">The preceding example produces output that is similar to the following illustration.</span></span>  
  
 <span data-ttu-id="af184-195">![Due pulsanti, uno blu e uno viola.](./media/ndp-buttontwo.png "NDP_ButtonTwo")</span><span class="sxs-lookup"><span data-stu-id="af184-195">![Two buttons, one blue and one purple.](./media/ndp-buttontwo.png "NDP_ButtonTwo")</span></span>  
<span data-ttu-id="af184-196">Due pulsanti con diversi colori di sfondo</span><span class="sxs-lookup"><span data-stu-id="af184-196">Two buttons with different background colors</span></span>  
  
<a name="changing_the_appearance_of_a_control_depending_on_its_state"></a>   
## <a name="changing-the-appearance-of-a-control-depending-on-its-state"></a><span data-ttu-id="af184-197">Modifica dell'aspetto di un controllo in base allo stato</span><span class="sxs-lookup"><span data-stu-id="af184-197">Changing the Appearance of a Control Depending on Its State</span></span>  
 <span data-ttu-id="af184-198">La differenza tra un pulsante con l'aspetto predefinito e il pulsante dell'esempio precedente è che il pulsante predefinito cambia leggermente in relazione allo stato.</span><span class="sxs-lookup"><span data-stu-id="af184-198">The difference between a button with its default appearance and the button in the preceding example is that the default button subtly changes when it is in different states.</span></span> <span data-ttu-id="af184-199">Ad esempio, l'aspetto del pulsante predefinito cambia quando viene premuto o quando il puntatore del mouse viene spostato sul pulsante.</span><span class="sxs-lookup"><span data-stu-id="af184-199">For example, the default button's appearance changes when the button is pressed, or when the mouse pointer is over the button.</span></span> <span data-ttu-id="af184-200"><xref:System.Windows.Controls.ControlTemplate> Sebbene non modifichi la funzionalità di un controllo, modifica il comportamento visivo del controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-200">Although the <xref:System.Windows.Controls.ControlTemplate> does not change the functionality of a control, it does change the control's visual behavior.</span></span> <span data-ttu-id="af184-201">Il comportamento visivo descrive l'aspetto del controllo quando è in un determinato stato.</span><span class="sxs-lookup"><span data-stu-id="af184-201">A visual behavior describes the control appearance when it is in a certain state.</span></span> <span data-ttu-id="af184-202">Per comprendere la differenza tra la funzionalità e il comportamento visivo di un controllo, si consideri l'esempio del pulsante.</span><span class="sxs-lookup"><span data-stu-id="af184-202">To understand the difference between the functionality and visual behavior of a control, consider the button example.</span></span> <span data-ttu-id="af184-203">La funzionalità del pulsante consiste nel generare l' <xref:System.Windows.Controls.Primitives.ButtonBase.Click> evento quando viene fatto clic, ma il comportamento visivo del pulsante consiste nel modificarne l'aspetto quando viene puntato o premuto.</span><span class="sxs-lookup"><span data-stu-id="af184-203">The button's functionality is to raise the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event when it is clicked, but the button's visual behavior is to change its appearance when it is pointed to or pressed.</span></span>  
  
 <span data-ttu-id="af184-204">Gli oggetti <xref:System.Windows.VisualState> vengono usati per specificare l'aspetto di un controllo quando si trova in un determinato stato.</span><span class="sxs-lookup"><span data-stu-id="af184-204">You use <xref:System.Windows.VisualState> objects to specify the appearance of a control when it is in a certain state.</span></span> <span data-ttu-id="af184-205">Un <xref:System.Windows.VisualState> oggetto contiene <xref:System.Windows.Media.Animation.Storyboard> un oggetto che modifica l'aspetto degli <xref:System.Windows.Controls.ControlTemplate>elementi presenti in.</span><span class="sxs-lookup"><span data-stu-id="af184-205">A <xref:System.Windows.VisualState> contains a <xref:System.Windows.Media.Animation.Storyboard> that changes the appearance of the elements that are in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="af184-206">Non è necessario scrivere codice per eseguire questa operazione perché la logica del controllo cambia stato usando <xref:System.Windows.VisualStateManager>.</span><span class="sxs-lookup"><span data-stu-id="af184-206">You do not have to write any code to make this occur because the control's logic changes state by using the <xref:System.Windows.VisualStateManager>.</span></span> <span data-ttu-id="af184-207">Quando il controllo entra nello stato specificato dalla <xref:System.Windows.VisualState.Name%2A?displayProperty=nameWithType> proprietà <xref:System.Windows.Media.Animation.Storyboard> , inizia.</span><span class="sxs-lookup"><span data-stu-id="af184-207">When the control enters the state that is specified by the <xref:System.Windows.VisualState.Name%2A?displayProperty=nameWithType> property, the <xref:System.Windows.Media.Animation.Storyboard> begins.</span></span> <span data-ttu-id="af184-208">Quando il controllo esce dallo stato, <xref:System.Windows.Media.Animation.Storyboard> viene arrestato.</span><span class="sxs-lookup"><span data-stu-id="af184-208">When the control exits the state, the <xref:System.Windows.Media.Animation.Storyboard> stops.</span></span>  
  
 <span data-ttu-id="af184-209">Nell'esempio seguente viene illustrato <xref:System.Windows.VisualState> l'oggetto che modifica l'aspetto <xref:System.Windows.Controls.Button> di un oggetto quando il puntatore del mouse viene spostato su di esso.</span><span class="sxs-lookup"><span data-stu-id="af184-209">The following example shows the <xref:System.Windows.VisualState> that changes the appearance of a <xref:System.Windows.Controls.Button> when the mouse pointer is over it.</span></span> <span data-ttu-id="af184-210">Il <xref:System.Windows.Media.Animation.Storyboard> colore del bordo del pulsante viene modificato modificando il colore `BorderBrush`di.</span><span class="sxs-lookup"><span data-stu-id="af184-210">The <xref:System.Windows.Media.Animation.Storyboard> changes the button's border color by changing the color of the `BorderBrush`.</span></span> <span data-ttu-id="af184-211">Se si <xref:System.Windows.Controls.ControlTemplate> fa riferimento all'esempio all'inizio di questo argomento, si ricorderà che `BorderBrush` è il nome dell'oggetto <xref:System.Windows.Media.SolidColorBrush> assegnato a <xref:System.Windows.Controls.Border.Background%2A> del <xref:System.Windows.Controls.Border>.</span><span class="sxs-lookup"><span data-stu-id="af184-211">If you refer to the <xref:System.Windows.Controls.ControlTemplate> example at the beginning of this topic, you will recall that `BorderBrush` is the name of the <xref:System.Windows.Media.SolidColorBrush> that is assigned to the <xref:System.Windows.Controls.Border.Background%2A> of the <xref:System.Windows.Controls.Border>.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#4](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#4)]  
  
 <span data-ttu-id="af184-212">Il controllo è responsabile della definizione degli stati come parte del relativo contratto e questo aspetto verrà, esaminato in dettaglio nella sezione [Personalizzazione di altri controlli sulla base del contratto di controllo](#customizing_other_controls_by_understanding_the_control_contract) più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="af184-212">The control is responsible for defining the states as part of its control contract, which is discussed in detail in [Customizing Other Controls by Understanding the Control Contract](#customizing_other_controls_by_understanding_the_control_contract) later in this topic.</span></span> <span data-ttu-id="af184-213">Nella tabella seguente sono elencati gli stati specificati per <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="af184-213">The following table lists the states that are specified for the <xref:System.Windows.Controls.Button>.</span></span>  
  
|<span data-ttu-id="af184-214">Nome VisualState</span><span class="sxs-lookup"><span data-stu-id="af184-214">VisualState Name</span></span>|<span data-ttu-id="af184-215">Nome VisualStateGroup</span><span class="sxs-lookup"><span data-stu-id="af184-215">VisualStateGroup Name</span></span>|<span data-ttu-id="af184-216">DESCRIZIONE</span><span class="sxs-lookup"><span data-stu-id="af184-216">Description</span></span>|  
|----------------------|---------------------------|-----------------|  
|<span data-ttu-id="af184-217">Normale</span><span class="sxs-lookup"><span data-stu-id="af184-217">Normal</span></span>|<span data-ttu-id="af184-218">CommonStates</span><span class="sxs-lookup"><span data-stu-id="af184-218">CommonStates</span></span>|<span data-ttu-id="af184-219">Lo stato predefinito.</span><span class="sxs-lookup"><span data-stu-id="af184-219">The default state.</span></span>|  
|<span data-ttu-id="af184-220">MouseOver</span><span class="sxs-lookup"><span data-stu-id="af184-220">MouseOver</span></span>|<span data-ttu-id="af184-221">CommonStates</span><span class="sxs-lookup"><span data-stu-id="af184-221">CommonStates</span></span>|<span data-ttu-id="af184-222">Il puntatore del mouse è posizionato sul controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-222">The mouse pointer is positioned over the control.</span></span>|  
|<span data-ttu-id="af184-223">Premuto</span><span class="sxs-lookup"><span data-stu-id="af184-223">Pressed</span></span>|<span data-ttu-id="af184-224">CommonStates</span><span class="sxs-lookup"><span data-stu-id="af184-224">CommonStates</span></span>|<span data-ttu-id="af184-225">Il controllo è premuto.</span><span class="sxs-lookup"><span data-stu-id="af184-225">The control is pressed.</span></span>|  
|<span data-ttu-id="af184-226">Disabilitata</span><span class="sxs-lookup"><span data-stu-id="af184-226">Disabled</span></span>|<span data-ttu-id="af184-227">CommonStates</span><span class="sxs-lookup"><span data-stu-id="af184-227">CommonStates</span></span>|<span data-ttu-id="af184-228">Il controllo è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="af184-228">The control is disabled.</span></span>|  
|<span data-ttu-id="af184-229">Con stato attivo</span><span class="sxs-lookup"><span data-stu-id="af184-229">Focused</span></span>|<span data-ttu-id="af184-230">FocusStates</span><span class="sxs-lookup"><span data-stu-id="af184-230">FocusStates</span></span>|<span data-ttu-id="af184-231">Il controllo ha lo stato attivo.</span><span class="sxs-lookup"><span data-stu-id="af184-231">The control has focus.</span></span>|  
|<span data-ttu-id="af184-232">Con stato non attivo</span><span class="sxs-lookup"><span data-stu-id="af184-232">Unfocused</span></span>|<span data-ttu-id="af184-233">FocusStates</span><span class="sxs-lookup"><span data-stu-id="af184-233">FocusStates</span></span>|<span data-ttu-id="af184-234">Il controllo non ha lo stato attivo.</span><span class="sxs-lookup"><span data-stu-id="af184-234">The control does not have focus.</span></span>|  
  
 <span data-ttu-id="af184-235">`MouseOver` `Normal` `Disabled` `Pressed`Definisce due gruppi di stati: il `CommonStates` gruppo contiene gli Stati,, e. <xref:System.Windows.Controls.Button></span><span class="sxs-lookup"><span data-stu-id="af184-235">The <xref:System.Windows.Controls.Button> defines two state groups: the `CommonStates` group contains the `Normal`, `MouseOver`, `Pressed`, and `Disabled` states.</span></span> <span data-ttu-id="af184-236">Mentre il gruppo `FocusStates` contiene gli stati `Focused` e `Unfocused`.</span><span class="sxs-lookup"><span data-stu-id="af184-236">The `FocusStates` group contains the `Focused` and `Unfocused` states.</span></span> <span data-ttu-id="af184-237">Gli stati nello stesso gruppo si escludono a vicenda.</span><span class="sxs-lookup"><span data-stu-id="af184-237">States in the same state group are mutually exclusive.</span></span> <span data-ttu-id="af184-238">Il controllo è sempre in uno stato specifico per ogni gruppo.</span><span class="sxs-lookup"><span data-stu-id="af184-238">The control is always in exactly one state per group.</span></span> <span data-ttu-id="af184-239">Ad esempio, un <xref:System.Windows.Controls.Button> oggetto può avere lo stato attivo anche quando il puntatore del mouse non è posizionato <xref:System.Windows.Controls.Button> su di `Focused` esso, quindi un oggetto `MouseOver`nello stato può `Normal` essere nello stato, `Pressed`o.</span><span class="sxs-lookup"><span data-stu-id="af184-239">For example, a <xref:System.Windows.Controls.Button> can have focus even when the mouse pointer is not over it, so a <xref:System.Windows.Controls.Button> in the `Focused` state can be in the `MouseOver`, `Pressed`, or `Normal` state.</span></span>  
  
 <span data-ttu-id="af184-240">Si aggiungono <xref:System.Windows.VisualState> oggetti <xref:System.Windows.VisualStateGroup> a oggetti.</span><span class="sxs-lookup"><span data-stu-id="af184-240">You add <xref:System.Windows.VisualState> objects to <xref:System.Windows.VisualStateGroup> objects.</span></span> <span data-ttu-id="af184-241">Si aggiungono <xref:System.Windows.VisualStateGroup> oggetti <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> alla proprietà associata.</span><span class="sxs-lookup"><span data-stu-id="af184-241">You add <xref:System.Windows.VisualStateGroup> objects to the <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> attached property.</span></span> <span data-ttu-id="af184-242">Nell'esempio seguente vengono definiti <xref:System.Windows.VisualState> gli oggetti per `Normal`gli `MouseOver`Stati, `Pressed` `CommonStates` e, che sono tutti inclusi nel gruppo.</span><span class="sxs-lookup"><span data-stu-id="af184-242">The following example defines the <xref:System.Windows.VisualState> objects for the `Normal`, `MouseOver`, and `Pressed` states, which are all in the `CommonStates` group.</span></span> <span data-ttu-id="af184-243">Il <xref:System.Windows.VisualState.Name%2A> di ogni <xref:System.Windows.VisualState> corrisponde al nome nella tabella precedente.</span><span class="sxs-lookup"><span data-stu-id="af184-243">The <xref:System.Windows.VisualState.Name%2A> of each <xref:System.Windows.VisualState> matches the name in the preceding table.</span></span> <span data-ttu-id="af184-244">Lo stato `Disabled` e gli stati del gruppo `FocusStates` sono stati omessi per brevità, ma sono inclusi nell'esempio completo alla fine di questo argomento.</span><span class="sxs-lookup"><span data-stu-id="af184-244">The `Disabled` state and the states in the `FocusStates` group are omitted to keep the example short, but they are included in the entire example at the end of this topic.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="af184-245">Assicurarsi di impostare la <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> proprietà associata nella radice <xref:System.Windows.FrameworkElement> di <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="af184-245">Be sure to set the <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> attached property on the root <xref:System.Windows.FrameworkElement> of the <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#VisualStates](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#visualstates)]  
  
 <span data-ttu-id="af184-246">Nell'esempio precedente viene generato un output simile alle figure seguenti.</span><span class="sxs-lookup"><span data-stu-id="af184-246">The preceding example produces output that is similar to the following illustrations.</span></span>  
  
 <span data-ttu-id="af184-247">![Un pulsante con un modello di controllo personalizzato.](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span><span class="sxs-lookup"><span data-stu-id="af184-247">![A button with a custom control template.](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span></span>  
<span data-ttu-id="af184-248">Pulsante che usa un modello del controllo personalizzato nello stato normale</span><span class="sxs-lookup"><span data-stu-id="af184-248">A button that uses a custom control template in the normal state</span></span>  
  
 <span data-ttu-id="af184-249">![Un pulsante con un bordo rosso.](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span><span class="sxs-lookup"><span data-stu-id="af184-249">![A button with a red border.](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span></span>  
<span data-ttu-id="af184-250">Pulsante che usa un modello del controllo personalizzato nello stato di passaggio del mouse</span><span class="sxs-lookup"><span data-stu-id="af184-250">A button that uses a custom control template in the mouse over state</span></span>  
  
 <span data-ttu-id="af184-251">![Il bordo è trasparente in un pulsante premuto.](./media/ndp-buttonpressed.png "NDP_ButtonPressed")</span><span class="sxs-lookup"><span data-stu-id="af184-251">![The border is transparent on a pressed button.](./media/ndp-buttonpressed.png "NDP_ButtonPressed")</span></span>  
<span data-ttu-id="af184-252">Pulsante che usa un modello del controllo personalizzato nello stato premuto</span><span class="sxs-lookup"><span data-stu-id="af184-252">A button that uses a custom control template in the pressed state</span></span>  
  
 <span data-ttu-id="af184-253">Per trovare gli stati visivi dei controlli inclusi in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], vedere [Stili e modelli di Control](control-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="af184-253">To find the visual states for controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Control Styles and Templates](control-styles-and-templates.md).</span></span>  
  
<a name="specifying_the_behavior_of_a_control_when_it_transitions_between_states"></a>   
## <a name="specifying-the-behavior-of-a-control-when-it-transitions-between-states"></a><span data-ttu-id="af184-254">Impostazione del comportamento di un controllo nella transizione tra stati</span><span class="sxs-lookup"><span data-stu-id="af184-254">Specifying the Behavior of a Control When It Transitions Between States</span></span>  
 <span data-ttu-id="af184-255">Nell'esempio precedente, l'aspetto del pulsante cambia anche quando viene selezionato dall'utente, ma se non viene premuto per almeno un secondo, l'utente non vede l'effetto.</span><span class="sxs-lookup"><span data-stu-id="af184-255">In the preceding example, the appearance of the button also changes when the user clicks it, but unless the button is pressed for a full second, the user does not see the effect.</span></span> <span data-ttu-id="af184-256">Per impostazione predefinita, l'animazione impiega un secondo per attivarsi.</span><span class="sxs-lookup"><span data-stu-id="af184-256">By default, the animation takes one second to occur.</span></span> <span data-ttu-id="af184-257">Poiché gli utenti possono fare clic e rilasciare un pulsante in tempi molto inferiori, il feedback visivo non sarà efficace se si lascia lo <xref:System.Windows.Controls.ControlTemplate> stato predefinito.</span><span class="sxs-lookup"><span data-stu-id="af184-257">Because users are likely to click and release a button in much less time, the visual feedback will not be effective if you leave the <xref:System.Windows.Controls.ControlTemplate> in its default state.</span></span>  
  
 <span data-ttu-id="af184-258">È possibile specificare la quantità di tempo necessaria per eseguire un'animazione per la transizione graduale di un controllo da uno stato a un altro mediante <xref:System.Windows.VisualTransition> l'aggiunta di <xref:System.Windows.Controls.ControlTemplate>oggetti all'oggetto.</span><span class="sxs-lookup"><span data-stu-id="af184-258">You can specify the amount of time that it takes an animation to occur to smoothly transition a control from one state to another by adding <xref:System.Windows.VisualTransition> objects to the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="af184-259">Quando si crea un <xref:System.Windows.VisualTransition>oggetto, è necessario specificare uno o più degli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="af184-259">When you create a <xref:System.Windows.VisualTransition>, you specify one or more of the following:</span></span>  
  
- <span data-ttu-id="af184-260">Il tempo necessario affinché si verifichi una transizione tra stati.</span><span class="sxs-lookup"><span data-stu-id="af184-260">The time it takes for a transition between states to occur.</span></span>  
  
- <span data-ttu-id="af184-261">Le modifiche aggiuntive nell'aspetto del controllo che si verificano al momento della transizione.</span><span class="sxs-lookup"><span data-stu-id="af184-261">Additional changes in the control's appearance that occur at the time of the transition.</span></span>  
  
- <span data-ttu-id="af184-262">A cui viene <xref:System.Windows.VisualTransition> applicato l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="af184-262">Which states the <xref:System.Windows.VisualTransition> is applied to.</span></span>  
  
### <a name="specifying-the-duration-of-a-transition"></a><span data-ttu-id="af184-263">Impostazione della durata di una transizione</span><span class="sxs-lookup"><span data-stu-id="af184-263">Specifying the Duration of a Transition</span></span>  
 <span data-ttu-id="af184-264">È possibile specificare il tempo necessario per una transizione impostando <xref:System.Windows.VisualTransition.GeneratedDuration%2A> la proprietà.</span><span class="sxs-lookup"><span data-stu-id="af184-264">You can specify how long a transition takes by setting the <xref:System.Windows.VisualTransition.GeneratedDuration%2A> property.</span></span> <span data-ttu-id="af184-265">Nell'esempio precedente viene specificato <xref:System.Windows.VisualState> un valore che specifica che il bordo del pulsante diventa trasparente quando si preme il pulsante, ma l'animazione impiega troppo tempo per essere percettibile se il pulsante viene rapidamente premuto e rilasciato.</span><span class="sxs-lookup"><span data-stu-id="af184-265">The preceding example has a <xref:System.Windows.VisualState> that specifies that the button's border becomes transparent when the button is pressed, but the animation takes too long to be noticeable if the button is quickly pressed and released.</span></span> <span data-ttu-id="af184-266">È possibile usare un <xref:System.Windows.VisualTransition> oggetto per specificare la quantità di tempo impiegato dal controllo per passare allo stato premuto.</span><span class="sxs-lookup"><span data-stu-id="af184-266">You can use a <xref:System.Windows.VisualTransition> to specify the amount of time it takes the control to transition into the pressed state.</span></span> <span data-ttu-id="af184-267">Nell'esempio seguente viene specificato che il controllo impiega un centesimo di secondo per passare allo stato di pressione.</span><span class="sxs-lookup"><span data-stu-id="af184-267">The following example specifies that the control takes one hundredth of a second to go into the pressed state.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#PressedTransition](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#pressedtransition)]  
  
### <a name="specifying-changes-to-the-controls-appearance-during-a-transition"></a><span data-ttu-id="af184-268">Impostazione delle modifiche all'aspetto del controllo durante una transizione</span><span class="sxs-lookup"><span data-stu-id="af184-268">Specifying Changes to the Control's Appearance During a Transition</span></span>  
 <span data-ttu-id="af184-269"><xref:System.Windows.VisualTransition> Contiene un<xref:System.Windows.Media.Animation.Storyboard> che inizia quando il controllo esegue la transizione tra gli Stati.</span><span class="sxs-lookup"><span data-stu-id="af184-269">The <xref:System.Windows.VisualTransition> contains a <xref:System.Windows.Media.Animation.Storyboard> that begins when the control transitions between states.</span></span> <span data-ttu-id="af184-270">Ad esempio, è possibile specificare che una determinata animazione si verifica quando il controllo passa dallo stato `MouseOver` allo stato `Normal`.</span><span class="sxs-lookup"><span data-stu-id="af184-270">For example, you can specify that a certain animation occurs when the control transitions from the `MouseOver` state to the `Normal` State.</span></span> <span data-ttu-id="af184-271">Nell'esempio seguente viene creato <xref:System.Windows.VisualTransition> un oggetto che specifica che quando l'utente sposta il puntatore del mouse fuori dal pulsante, il bordo del pulsante diventa blu, quindi in giallo, quindi in nero in 1,5 secondi.</span><span class="sxs-lookup"><span data-stu-id="af184-271">The following example creates a <xref:System.Windows.VisualTransition> that specifies that when the user moves the mouse pointer away from the button, the button's border changes to blue, then to yellow, then to black in 1.5 seconds.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#8](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#8)]  
  
### <a name="specifying-when-a-visualtransition-is-applied"></a><span data-ttu-id="af184-272">Impostazione dei casi in cui applicare un oggetto VisualTransition</span><span class="sxs-lookup"><span data-stu-id="af184-272">Specifying When a VisualTransition Is Applied</span></span>  
 <span data-ttu-id="af184-273">Un <xref:System.Windows.VisualTransition> oggetto può essere limitato solo a determinati Stati oppure può essere applicato ogni volta che il controllo passa da uno stato all'altro.</span><span class="sxs-lookup"><span data-stu-id="af184-273">A <xref:System.Windows.VisualTransition> can be restricted to apply to only certain states, or it can be applied any time the control transitions between states.</span></span> <span data-ttu-id="af184-274">Nell'esempio <xref:System.Windows.VisualTransition> precedente, viene applicato quando il controllo passa `MouseOver` dallo stato allo `Normal` stato <xref:System.Windows.VisualTransition> ; nell'esempio precedente, viene applicato quando il controllo passa `Pressed` allo stato.</span><span class="sxs-lookup"><span data-stu-id="af184-274">In the preceding example, the <xref:System.Windows.VisualTransition> is applied when the control goes from the `MouseOver` state to the `Normal` state; in the example before that, the <xref:System.Windows.VisualTransition> is applied when the control goes into the `Pressed` state.</span></span> <span data-ttu-id="af184-275">Si limita quando viene <xref:System.Windows.VisualTransition> applicato un oggetto impostando <xref:System.Windows.VisualTransition.To%2A> le <xref:System.Windows.VisualTransition.From%2A> proprietà e.</span><span class="sxs-lookup"><span data-stu-id="af184-275">You restrict when a <xref:System.Windows.VisualTransition> is applied by setting the <xref:System.Windows.VisualTransition.To%2A> and <xref:System.Windows.VisualTransition.From%2A> properties.</span></span> <span data-ttu-id="af184-276">Nella tabella seguente vengono descritti i livelli di restrizione, in modo decrescente dal più restrittivo.</span><span class="sxs-lookup"><span data-stu-id="af184-276">The following table describes the levels of restriction from most restrictive to least restrictive.</span></span>  
  
|<span data-ttu-id="af184-277">Tipo di restrizione</span><span class="sxs-lookup"><span data-stu-id="af184-277">Type of restriction</span></span>|<span data-ttu-id="af184-278">Valore di From</span><span class="sxs-lookup"><span data-stu-id="af184-278">Value of From</span></span>|<span data-ttu-id="af184-279">Valore di To</span><span class="sxs-lookup"><span data-stu-id="af184-279">Value of To</span></span>|  
|-------------------------|-------------------|-----------------|  
|<span data-ttu-id="af184-280">Da uno stato specifico un altro stato specifico</span><span class="sxs-lookup"><span data-stu-id="af184-280">From a specified state to another specified state</span></span>|<span data-ttu-id="af184-281">Nome di un oggetto<xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="af184-281">The name of a <xref:System.Windows.VisualState></span></span>|<span data-ttu-id="af184-282">Nome di un oggetto<xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="af184-282">The name of a <xref:System.Windows.VisualState></span></span>|  
|<span data-ttu-id="af184-283">Da qualsiasi stato a uno stato specifico</span><span class="sxs-lookup"><span data-stu-id="af184-283">From any state to a specified state</span></span>|<span data-ttu-id="af184-284">Non impostato</span><span class="sxs-lookup"><span data-stu-id="af184-284">Not set</span></span>|<span data-ttu-id="af184-285">Nome di un oggetto<xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="af184-285">The name of a <xref:System.Windows.VisualState></span></span>|  
|<span data-ttu-id="af184-286">Da uno stato specifico a qualsiasi stato</span><span class="sxs-lookup"><span data-stu-id="af184-286">From a specified state to any state</span></span>|<span data-ttu-id="af184-287">Nome di un oggetto<xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="af184-287">The name of a <xref:System.Windows.VisualState></span></span>|<span data-ttu-id="af184-288">Non impostato</span><span class="sxs-lookup"><span data-stu-id="af184-288">Not set</span></span>|  
|<span data-ttu-id="af184-289">Da qualsiasi stato a qualsiasi altro stato</span><span class="sxs-lookup"><span data-stu-id="af184-289">From any state to any other state</span></span>|<span data-ttu-id="af184-290">Non impostato</span><span class="sxs-lookup"><span data-stu-id="af184-290">Not set</span></span>|<span data-ttu-id="af184-291">Non impostato</span><span class="sxs-lookup"><span data-stu-id="af184-291">Not set</span></span>|  
  
 <span data-ttu-id="af184-292">È possibile disporre di <xref:System.Windows.VisualTransition> più oggetti in <xref:System.Windows.VisualStateGroup> un che fanno riferimento allo stesso stato, ma verranno utilizzati nell'ordine specificato dalla tabella precedente.</span><span class="sxs-lookup"><span data-stu-id="af184-292">You can have multiple <xref:System.Windows.VisualTransition> objects in a <xref:System.Windows.VisualStateGroup> that refer to the same state, but they will be used in the order that the previous table specifies.</span></span> <span data-ttu-id="af184-293">Nell'esempio seguente sono presenti due <xref:System.Windows.VisualTransition> oggetti.</span><span class="sxs-lookup"><span data-stu-id="af184-293">In the following example, there are two <xref:System.Windows.VisualTransition> objects.</span></span> <span data-ttu-id="af184-294">Quando il controllo passa dallo `Pressed` stato `MouseOver` allo stato <xref:System.Windows.VisualTransition.From%2A> , viene usato l'oggetto <xref:System.Windows.VisualTransition> con l'oggetto e <xref:System.Windows.VisualTransition.To%2A> il set.</span><span class="sxs-lookup"><span data-stu-id="af184-294">When the control transitions from the `Pressed` state to the `MouseOver` state, the <xref:System.Windows.VisualTransition> that has both <xref:System.Windows.VisualTransition.From%2A> and <xref:System.Windows.VisualTransition.To%2A> set is used.</span></span> <span data-ttu-id="af184-295">Quando il controllo passa da uno stato diverso da `Pressed` allo stato `MouseOver`, viene usato l'altro stato.</span><span class="sxs-lookup"><span data-stu-id="af184-295">When the control transitions from a state that is not `Pressed` to the `MouseOver` state, the other state is used.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#7](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#7)]  
  
 <span data-ttu-id="af184-296"><xref:System.Windows.VisualStateGroup.Transitions%2A> <xref:System.Windows.VisualTransition> <xref:System.Windows.VisualState> Dispone di una proprietà che contiene gli<xref:System.Windows.VisualStateGroup>oggetti che si applicano agli oggetti in. <xref:System.Windows.VisualStateGroup></span><span class="sxs-lookup"><span data-stu-id="af184-296">The <xref:System.Windows.VisualStateGroup> has a <xref:System.Windows.VisualStateGroup.Transitions%2A> property that contains the <xref:System.Windows.VisualTransition> objects that apply to the <xref:System.Windows.VisualState> objects in the <xref:System.Windows.VisualStateGroup>.</span></span> <span data-ttu-id="af184-297">L' <xref:System.Windows.Controls.ControlTemplate> autore può <xref:System.Windows.VisualTransition> includere le proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="af184-297">As the <xref:System.Windows.Controls.ControlTemplate> author, you are free to include any <xref:System.Windows.VisualTransition> you want.</span></span> <span data-ttu-id="af184-298">Tuttavia, se le <xref:System.Windows.VisualTransition.To%2A> proprietà <xref:System.Windows.VisualTransition.From%2A> e sono impostate su nomi di stato <xref:System.Windows.VisualStateGroup>che <xref:System.Windows.VisualTransition> non sono in, viene ignorato.</span><span class="sxs-lookup"><span data-stu-id="af184-298">However, if the <xref:System.Windows.VisualTransition.To%2A> and <xref:System.Windows.VisualTransition.From%2A> properties are set to state names that are not in the <xref:System.Windows.VisualStateGroup>, the <xref:System.Windows.VisualTransition> is ignored.</span></span>  
  
 <span data-ttu-id="af184-299">Nell'esempio seguente viene illustrato <xref:System.Windows.VisualStateGroup> l'oggetto `CommonStates`per l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="af184-299">The following example shows the <xref:System.Windows.VisualStateGroup> for the `CommonStates`.</span></span> <span data-ttu-id="af184-300">Nell'esempio viene definito <xref:System.Windows.VisualTransition> un oggetto per ognuna delle transizioni seguenti del pulsante.</span><span class="sxs-lookup"><span data-stu-id="af184-300">The example defines a <xref:System.Windows.VisualTransition> for each of the button's following transitions.</span></span>  
  
- <span data-ttu-id="af184-301">Allo stato `Pressed`.</span><span class="sxs-lookup"><span data-stu-id="af184-301">To the `Pressed` state.</span></span>  
  
- <span data-ttu-id="af184-302">Allo stato `MouseOver`.</span><span class="sxs-lookup"><span data-stu-id="af184-302">To the `MouseOver` state.</span></span>  
  
- <span data-ttu-id="af184-303">Dallo stato `Pressed` allo stato `MouseOver`.</span><span class="sxs-lookup"><span data-stu-id="af184-303">From the `Pressed` state to the `MouseOver` state.</span></span>  
  
- <span data-ttu-id="af184-304">Dallo stato `MouseOver` allo stato `Normal`.</span><span class="sxs-lookup"><span data-stu-id="af184-304">From the `MouseOver` state to the `Normal` state.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#VisualTransitions](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#visualtransitions)]  
  
<a name="customizing_other_controls_by_understanding_the_control_contract"></a>   
## <a name="customizing-other-controls-by-understanding-the-control-contract"></a><span data-ttu-id="af184-305">Personalizzazione di altri controlli sulla base del contratto di controllo</span><span class="sxs-lookup"><span data-stu-id="af184-305">Customizing Other Controls by Understanding the Control Contract</span></span>  
 <span data-ttu-id="af184-306">Un controllo che usa un <xref:System.Windows.Controls.ControlTemplate> oggetto per specificare la relativa struttura visiva ( <xref:System.Windows.FrameworkElement> usando oggetti) e il comportamento visivo ( <xref:System.Windows.VisualState> usando oggetti) usa il modello di controllo Parts.</span><span class="sxs-lookup"><span data-stu-id="af184-306">A control that uses a <xref:System.Windows.Controls.ControlTemplate> to specify its visual structure (by using <xref:System.Windows.FrameworkElement> objects) and visual behavior (by using <xref:System.Windows.VisualState> objects) uses the parts control model.</span></span> <span data-ttu-id="af184-307">Molti dei controlli inclusi in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 4 usano questo modello.</span><span class="sxs-lookup"><span data-stu-id="af184-307">Many of the controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 4 use this model.</span></span> <span data-ttu-id="af184-308">Le parti di cui <xref:System.Windows.Controls.ControlTemplate> un autore deve essere a conoscenza vengono comunicate tramite il contratto di controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-308">The parts that a <xref:System.Windows.Controls.ControlTemplate> author needs to be aware of are communicated through the control contract.</span></span> <span data-ttu-id="af184-309">Quando si conoscono le parti di un contratto di controllo, è possibile personalizzare l'aspetto di qualsiasi controllo che utilizza il modello di controllo part.</span><span class="sxs-lookup"><span data-stu-id="af184-309">When you understand the parts of a control contract, you can customize the appearance of any control that uses the parts control model.</span></span>  
  
 <span data-ttu-id="af184-310">Un contratto di controllo include tre elementi:</span><span class="sxs-lookup"><span data-stu-id="af184-310">A control contract has three elements:</span></span>  
  
- <span data-ttu-id="af184-311">Gli elementi visivi usati dalla logica del controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-311">The visual elements that the control's logic uses.</span></span>  
  
- <span data-ttu-id="af184-312">Gli stati del controllo e il gruppo a cui appartiene ogni stato.</span><span class="sxs-lookup"><span data-stu-id="af184-312">The states of the control and the group each state belongs to.</span></span>  
  
- <span data-ttu-id="af184-313">Le proprietà pubbliche che influiscono visivamente sul controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-313">The public properties that visually affect the control.</span></span>  
  
### <a name="visual-elements-in-the-control-contract"></a><span data-ttu-id="af184-314">Elementi visivi nel contratto di controllo</span><span class="sxs-lookup"><span data-stu-id="af184-314">Visual Elements in the Control Contract</span></span>  
 <span data-ttu-id="af184-315">A volte la logica di un controllo interagisce <xref:System.Windows.FrameworkElement> con un che si <xref:System.Windows.Controls.ControlTemplate>trova in.</span><span class="sxs-lookup"><span data-stu-id="af184-315">Sometimes a control's logic interacts with a <xref:System.Windows.FrameworkElement> that is in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="af184-316">Ad esempio, il controllo può gestire un evento di uno dei relativi elementi.</span><span class="sxs-lookup"><span data-stu-id="af184-316">For example, the control might handle an event of one of its elements.</span></span> <span data-ttu-id="af184-317">Quando un controllo prevede di trovare un particolare <xref:System.Windows.FrameworkElement> <xref:System.Windows.Controls.ControlTemplate>in, deve inviare tali informazioni all' <xref:System.Windows.Controls.ControlTemplate> autore.</span><span class="sxs-lookup"><span data-stu-id="af184-317">When a control expects to find a particular <xref:System.Windows.FrameworkElement> in the <xref:System.Windows.Controls.ControlTemplate>, it must convey that information to the <xref:System.Windows.Controls.ControlTemplate> author.</span></span> <span data-ttu-id="af184-318">Il controllo Usa <xref:System.Windows.TemplatePartAttribute> per indicare il tipo di elemento previsto e il nome dell'elemento che deve essere.</span><span class="sxs-lookup"><span data-stu-id="af184-318">The control uses the <xref:System.Windows.TemplatePartAttribute> to convey the type of element that is expected, and what the name of the element should be.</span></span> <span data-ttu-id="af184-319">Non dispone <xref:System.Windows.FrameworkElement> di parti nel relativo contratto di controllo, ma anche di altri <xref:System.Windows.Controls.ComboBox>controlli, ad esempio,. <xref:System.Windows.Controls.Button></span><span class="sxs-lookup"><span data-stu-id="af184-319">The <xref:System.Windows.Controls.Button> does not have <xref:System.Windows.FrameworkElement> parts in its control contract, but other controls, such as the <xref:System.Windows.Controls.ComboBox>, do.</span></span>  
  
 <span data-ttu-id="af184-320">Nell'esempio seguente vengono illustrati <xref:System.Windows.TemplatePartAttribute> gli oggetti specificati <xref:System.Windows.Controls.ComboBox> nella classe.</span><span class="sxs-lookup"><span data-stu-id="af184-320">The following example shows the <xref:System.Windows.TemplatePartAttribute> objects that are specified on the <xref:System.Windows.Controls.ComboBox> class.</span></span> <span data-ttu-id="af184-321">La logica di <xref:System.Windows.Controls.ComboBox> prevede di trovare un oggetto <xref:System.Windows.Controls.TextBox> denominato `PART_EditableTextBox` e un <xref:System.Windows.Controls.Primitives.Popup> oggetto `PART_Popup` denominato nel <xref:System.Windows.Controls.ControlTemplate>relativo.</span><span class="sxs-lookup"><span data-stu-id="af184-321">The logic of <xref:System.Windows.Controls.ComboBox> expects to find a <xref:System.Windows.Controls.TextBox> named `PART_EditableTextBox` and a <xref:System.Windows.Controls.Primitives.Popup> named `PART_Popup` in its <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 [!code-csharp[VSMButtonTemplate#ComboBoxContract](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/controlcontracts.cs#comboboxcontract)]
 [!code-vb[VSMButtonTemplate#ComboBoxContract](~/samples/snippets/visualbasic/VS_Snippets_Wpf/vsmbuttontemplate/visualbasic/window1.xaml.vb#comboboxcontract)]  
  
 <span data-ttu-id="af184-322">Nell'esempio seguente viene illustrato un <xref:System.Windows.Controls.ControlTemplate> oggetto semplificato per l' <xref:System.Windows.Controls.ComboBox> oggetto che include gli elementi specificati <xref:System.Windows.TemplatePartAttribute> <xref:System.Windows.Controls.ComboBox> dagli oggetti sulla classe.</span><span class="sxs-lookup"><span data-stu-id="af184-322">The following example shows a simplified <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.ComboBox> that includes the elements that are specified by the <xref:System.Windows.TemplatePartAttribute> objects on the <xref:System.Windows.Controls.ComboBox> class.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#ComboBoxTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/window1.xaml#comboboxtemplate)]  
  
### <a name="states-in-the-control-contract"></a><span data-ttu-id="af184-323">Stati nel contratto di controllo</span><span class="sxs-lookup"><span data-stu-id="af184-323">States in the Control Contract</span></span>  
 <span data-ttu-id="af184-324">Anche gli stati di un controllo fanno parte del contratto di controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-324">The states of a control are also a part of the control contract.</span></span> <span data-ttu-id="af184-325">Nell'esempio di creazione di <xref:System.Windows.Controls.ControlTemplate> un oggetto <xref:System.Windows.Controls.Button> per un oggetto viene illustrato come specificare l' <xref:System.Windows.Controls.Button> aspetto di un oggetto a seconda degli Stati.</span><span class="sxs-lookup"><span data-stu-id="af184-325">The example of creating a <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button> shows how to specify the appearance of a <xref:System.Windows.Controls.Button> depending on its states.</span></span> <span data-ttu-id="af184-326">Si crea un <xref:System.Windows.VisualState> per ogni stato specificato e si inseriscono tutti <xref:System.Windows.VisualState> gli <xref:System.Windows.TemplateVisualStateAttribute.GroupName%2A> oggetti che <xref:System.Windows.VisualStateGroup>condividono un oggetto in un oggetto, come descritto in [modifica dell'aspetto di un controllo a seconda dello stato](#changing_the_appearance_of_a_control_depending_on_its_state) precedente in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="af184-326">You create a <xref:System.Windows.VisualState> for each specified state and put all <xref:System.Windows.VisualState> objects that share a <xref:System.Windows.TemplateVisualStateAttribute.GroupName%2A> in a <xref:System.Windows.VisualStateGroup>, as described in [Changing the Appearance of a Control Depending on Its State](#changing_the_appearance_of_a_control_depending_on_its_state) earlier in this topic.</span></span> <span data-ttu-id="af184-327">I <xref:System.Windows.TemplateVisualStateAttribute>controlli di terze parti devono specificare gli Stati tramite, che consente agli strumenti di progettazione, ad esempio Expression Blend, di esporre gli Stati del controllo per la creazione di modelli di controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-327">Third-party controls should specify states by using the <xref:System.Windows.TemplateVisualStateAttribute>, which enables designer tools, such as Expression Blend, to expose the control's states for authoring control templates.</span></span>  
  
 <span data-ttu-id="af184-328">Per trovare il contratto di controllo dei controlli inclusi in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], vedere [Stili e modelli di Control](control-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="af184-328">To find the control contract for controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Control Styles and Templates](control-styles-and-templates.md).</span></span>  
  
### <a name="properties-in-the-control-contract"></a><span data-ttu-id="af184-329">Proprietà nel contratto di controllo</span><span class="sxs-lookup"><span data-stu-id="af184-329">Properties in the Control Contract</span></span>  
 <span data-ttu-id="af184-330">Anche le proprietà pubbliche che influiscono visivamente sul controllo sono incluse nel contratto di controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-330">The public properties that visually affect the control are also included in the control contract.</span></span> <span data-ttu-id="af184-331">È possibile impostare queste proprietà per modificare l'aspetto del controllo senza creare un nuovo <xref:System.Windows.Controls.ControlTemplate>oggetto.</span><span class="sxs-lookup"><span data-stu-id="af184-331">You can set these properties to change the appearance of the control without creating a new <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="af184-332">È anche possibile usare l'estensione di markup [TemplateBinding](../advanced/templatebinding-markup-extension.md) per associare le proprietà degli elementi presenti in <xref:System.Windows.Controls.ControlTemplate> alle proprietà pubbliche definite da. <xref:System.Windows.Controls.Button></span><span class="sxs-lookup"><span data-stu-id="af184-332">You can also use the [TemplateBinding](../advanced/templatebinding-markup-extension.md) markup extension to bind properties of elements that are in the <xref:System.Windows.Controls.ControlTemplate> to public properties that are defined by the <xref:System.Windows.Controls.Button>.</span></span>  
  
 <span data-ttu-id="af184-333">L'esempio seguente illustra il contratto di controllo per il pulsante.</span><span class="sxs-lookup"><span data-stu-id="af184-333">The following example shows the control contract for the button.</span></span>  
  
 [!code-csharp[VSMButtonTemplate#ButtonContract](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/controlcontracts.cs#buttoncontract)]
 [!code-vb[VSMButtonTemplate#ButtonContract](~/samples/snippets/visualbasic/VS_Snippets_Wpf/vsmbuttontemplate/visualbasic/window1.xaml.vb#buttoncontract)]  
  
 <span data-ttu-id="af184-334">Quando si crea <xref:System.Windows.Controls.ControlTemplate>un oggetto, è spesso più semplice iniziare con un <xref:System.Windows.Controls.ControlTemplate> oggetto esistente e apportare modifiche.</span><span class="sxs-lookup"><span data-stu-id="af184-334">When creating a <xref:System.Windows.Controls.ControlTemplate>, it is often easiest to begin with an existing <xref:System.Windows.Controls.ControlTemplate> and make changes to it.</span></span> <span data-ttu-id="af184-335">Per modificare una esistente <xref:System.Windows.Controls.ControlTemplate>, è possibile eseguire una delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="af184-335">You can do one of the following to change an existing <xref:System.Windows.Controls.ControlTemplate>:</span></span>  
  
- <span data-ttu-id="af184-336">Utilizzare una finestra di progettazione, ad esempio Expression Blend, che fornisce un'interfaccia utente grafica per la creazione di modelli del controllo.</span><span class="sxs-lookup"><span data-stu-id="af184-336">Use a designer, such as Expression Blend, which provides a graphical user interface for creating control templates.</span></span> <span data-ttu-id="af184-337">Per altre informazioni, vedere [Applicazione di stili a un controllo che supporta modelli](https://go.microsoft.com/fwlink/?LinkId=161153).</span><span class="sxs-lookup"><span data-stu-id="af184-337">For more information, see [Styling a control that supports templates](https://go.microsoft.com/fwlink/?LinkId=161153).</span></span>  
  
- <span data-ttu-id="af184-338">Ottenere il valore <xref:System.Windows.Controls.ControlTemplate> predefinito e modificarlo.</span><span class="sxs-lookup"><span data-stu-id="af184-338">Get the default <xref:System.Windows.Controls.ControlTemplate> and edit it.</span></span> <span data-ttu-id="af184-339">Per trovare i modelli del controllo predefiniti che sono inclusi in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], vedere [Temi WPF predefiniti](https://go.microsoft.com/fwlink/?LinkID=158252).</span><span class="sxs-lookup"><span data-stu-id="af184-339">To find the default control templates that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Default WPF Themes](https://go.microsoft.com/fwlink/?LinkID=158252).</span></span>  
  
<a name="complete_example"></a>   
## <a name="complete-example"></a><span data-ttu-id="af184-340">Esempio completo</span><span class="sxs-lookup"><span data-stu-id="af184-340">Complete Example</span></span>  
 <span data-ttu-id="af184-341">Nell'esempio seguente viene illustrato il <xref:System.Windows.Controls.Button> completamento <xref:System.Windows.Controls.ControlTemplate> descritto in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="af184-341">The following example shows the complete <xref:System.Windows.Controls.Button><xref:System.Windows.Controls.ControlTemplate> that is discussed in this topic.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#3](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#3)]  
  
## <a name="see-also"></a><span data-ttu-id="af184-342">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="af184-342">See also</span></span>

- [<span data-ttu-id="af184-343">Applicazione di stili e modelli</span><span class="sxs-lookup"><span data-stu-id="af184-343">Styling and Templating</span></span>](styling-and-templating.md)

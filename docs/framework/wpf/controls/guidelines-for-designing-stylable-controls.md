---
title: Linee guida per la progettazione di controlli a cui è possibile applicare degli stili
ms.date: 03/30/2017
helpviewer_keywords:
- style design for controls [WPF]
- controls [WPF], style design
ms.assetid: c52dde45-a311-4531-af4c-853371c4d5f4
ms.openlocfilehash: a5a91d6a1f046b31ff26e769e9fcc1c7516904c8
ms.sourcegitcommit: d6e27023aeaffc4b5a3cb4b88685018d6284ada4
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/09/2019
ms.locfileid: "67662598"
---
# <a name="guidelines-for-designing-stylable-controls"></a><span data-ttu-id="dc473-102">Linee guida per la progettazione di controlli a cui è possibile applicare degli stili</span><span class="sxs-lookup"><span data-stu-id="dc473-102">Guidelines for Designing Stylable Controls</span></span>

<span data-ttu-id="dc473-103">Questo documento offre un riepilogo di una serie di procedure consigliate per la progettazione di un controllo a cui siano facilmente applicabili stili e modelli.</span><span class="sxs-lookup"><span data-stu-id="dc473-103">This document summarizes a set of best practices to consider when designing a control which you intend to be easily stylable and templatable.</span></span> <span data-ttu-id="dc473-104">Questo è il risultato di molti tentativi ed errori durante l’elaborazione degli stili dei controlli dei temi per il set di controlli [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] incorporato.</span><span class="sxs-lookup"><span data-stu-id="dc473-104">We came to this set of best practices through a lot of trial and error while working on the theme control styles for the built-in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] control set.</span></span> <span data-ttu-id="dc473-105">La corretta applicazione degli stili è una funzione che non dipende solo dalla corretta progettazione del modello a oggetti ma anche dallo stile stesso.</span><span class="sxs-lookup"><span data-stu-id="dc473-105">We learned that successful styling is as much a function of a well-designed object model as it is of the style itself.</span></span> <span data-ttu-id="dc473-106">I destinatari di questo documento sono gli autori dei controlli, non gli autori degli stili.</span><span class="sxs-lookup"><span data-stu-id="dc473-106">The intended audience for this document is the control author, not the style author.</span></span>

<a name="Terminology"></a>

## <a name="terminology"></a><span data-ttu-id="dc473-107">Terminologia</span><span class="sxs-lookup"><span data-stu-id="dc473-107">Terminology</span></span>

<span data-ttu-id="dc473-108">Per applicazione di stili e modelli si intende un insieme di tecnologie che consente a un autore di controlli di rinviare gli aspetti visivi del controllo allo stile e al modello del controllo.</span><span class="sxs-lookup"><span data-stu-id="dc473-108">"Styling and templating" refer to the suite of technologies that enable a control author to defer the visual aspects of the control to the style and template of the control.</span></span> <span data-ttu-id="dc473-109">Questo insieme di tecnologie include:</span><span class="sxs-lookup"><span data-stu-id="dc473-109">This suite of technologies includes:</span></span>

- <span data-ttu-id="dc473-110">Stili (inclusi i setter delle proprietà, i trigger e gli storyboard).</span><span class="sxs-lookup"><span data-stu-id="dc473-110">Styles (including property setters, triggers, and storyboards).</span></span>

- <span data-ttu-id="dc473-111">Risorse.</span><span class="sxs-lookup"><span data-stu-id="dc473-111">Resources.</span></span>

- <span data-ttu-id="dc473-112">Modelli di controllo.</span><span class="sxs-lookup"><span data-stu-id="dc473-112">Control templates.</span></span>

- <span data-ttu-id="dc473-113">Modelli di dati.</span><span class="sxs-lookup"><span data-stu-id="dc473-113">Data templates.</span></span>

<span data-ttu-id="dc473-114">Per un'introduzione all'applicazione di stili e modelli, vedere [Applicazione di stili e modelli](styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="dc473-114">For an introduction to styling and templating, see [Styling and Templating](styling-and-templating.md).</span></span>

<a name="Before_You_Start__Understanding_Your_Control"></a>

## <a name="before-you-start-understanding-your-control"></a><span data-ttu-id="dc473-115">Prima di iniziare: Informazioni sul controllo</span><span class="sxs-lookup"><span data-stu-id="dc473-115">Before You Start: Understanding Your Control</span></span>

<span data-ttu-id="dc473-116">Prima di leggere queste linee guida, è importante aver compreso e definito l'uso comune del controllo.</span><span class="sxs-lookup"><span data-stu-id="dc473-116">Before you jump into these guidelines, it is important to understand and have defined the common usage of your control.</span></span> <span data-ttu-id="dc473-117">L'applicazione degli stili offre spesso una serie di possibilità che non seguono regole precise.</span><span class="sxs-lookup"><span data-stu-id="dc473-117">Styling exposes an often unruly set of possibilities.</span></span> <span data-ttu-id="dc473-118">I controlli creati per un ampio utilizzo (in un gran numero di applicazioni, da molti sviluppatori) presentano il problema che l'applicazione degli stili può essere usata per apportare modifiche di vasta portata all'aspetto visivo del controllo,</span><span class="sxs-lookup"><span data-stu-id="dc473-118">Controls that are written to be used broadly (in many applications, by many developers) face the challenge that styling can be used to make far-reaching changes to the visual appearance of the control.</span></span> <span data-ttu-id="dc473-119">al punto che il controllo a cui è stato applicato uno stile potrebbe non corrispondere al progetto dell'autore.</span><span class="sxs-lookup"><span data-stu-id="dc473-119">In fact, the styled control may not even resemble the control author's intentions.</span></span> <span data-ttu-id="dc473-120">Poiché la flessibilità offerta dall'applicazione degli stili è essenzialmente illimitata, è possibile usare il concetto di uso comune per circoscrivere l’ambito delle proprie decisioni.</span><span class="sxs-lookup"><span data-stu-id="dc473-120">Since the flexibility offered by styling is essentially boundless, you can use the idea of common usage to help you scope your decisions.</span></span>

<span data-ttu-id="dc473-121">Per comprendere l'uso comune del controllo, è consigliabile valutare la proposta di valore del controllo.</span><span class="sxs-lookup"><span data-stu-id="dc473-121">To understand your control's common usage, it's good to think about the value proposition of the control.</span></span> <span data-ttu-id="dc473-122">Quali sono i vantaggi che porta il controllo alla tabella e che nessun altro controllo può offrire?</span><span class="sxs-lookup"><span data-stu-id="dc473-122">What does your control bring to the table that no other control can offer?</span></span> <span data-ttu-id="dc473-123">L'uso comune non è legato a uno specifico aspetto visivo, ma piuttosto alla filosofia del controllo e a una serie di ragionevoli aspettative per l'uso del controllo stesso.</span><span class="sxs-lookup"><span data-stu-id="dc473-123">Common usage does not imply any specific visual appearance, but rather the philosophy of the control and a reasonable set of expectations about its usage.</span></span> <span data-ttu-id="dc473-124">Questa considerazione consente di formulare delle ipotesi sul modello di composizione e sui comportamenti standard del controllo definiti dallo stile.</span><span class="sxs-lookup"><span data-stu-id="dc473-124">This understanding allows you to make some assumptions about the composition model and the style-defined behaviors of the control in the common case.</span></span> <span data-ttu-id="dc473-125">Nel caso di <xref:System.Windows.Controls.ComboBox>, ad esempio, la comprensione di uso comune non sarà è alcuna informazione su se un particolare <xref:System.Windows.Controls.ComboBox> presenta angoli arrotondati, ma in questo caso sarà approfondite del fatto che il <xref:System.Windows.Controls.ComboBox> probabilmente richiede una finestra popup e alcune modalità di attivazione/disattivazione se è aperto.</span><span class="sxs-lookup"><span data-stu-id="dc473-125">In the case of <xref:System.Windows.Controls.ComboBox>, for example, understanding the common usage won't give you any insight about whether a particular <xref:System.Windows.Controls.ComboBox> has rounded corners, but it will give you insight into the fact that the <xref:System.Windows.Controls.ComboBox> probably needs a pop-up window and some way of toggling whether it is open.</span></span>

<a name="General_Guidelines"></a>

## <a name="general-guidelines"></a><span data-ttu-id="dc473-126">Indicazioni generali</span><span class="sxs-lookup"><span data-stu-id="dc473-126">General Guidelines</span></span>

- <span data-ttu-id="dc473-127">**Non applicare in maniera rigida i contratti dei modelli.**</span><span class="sxs-lookup"><span data-stu-id="dc473-127">**Do not strictly enforce template contracts.**</span></span> <span data-ttu-id="dc473-128">Il contratto del modello di un controllo può includere elementi, comandi, associazioni, trigger o anche impostazioni di proprietà richieste o previste per il corretto funzionamento del controllo.</span><span class="sxs-lookup"><span data-stu-id="dc473-128">The template contract of a control might consist of elements, commands, bindings, triggers, or even property settings that are required or expected for a control to function properly.</span></span>

  - <span data-ttu-id="dc473-129">Ridurre al minimo i contratti il più possibile.</span><span class="sxs-lookup"><span data-stu-id="dc473-129">Minimize contracts as much as possible.</span></span>

  - <span data-ttu-id="dc473-130">Eseguire la progettazione con la consapevolezza che in questa fase (ovvero quando si usa uno strumento di progettazione) è normale che il modello del controllo sia in uno stato incompleto.</span><span class="sxs-lookup"><span data-stu-id="dc473-130">Design around the expectation that during design time (that is, when using a design tool) it is common for a control template to be in an incomplete state.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="dc473-131">non offre un'infrastruttura di stato di composizione. La compilazione dei controlli deve essere eseguita con la prospettiva che tale stato possa essere valido.</span><span class="sxs-lookup"><span data-stu-id="dc473-131">does not offer a "composing" state infrastructure, so controls have to be built with the expectation that such a state might be valid.</span></span>

  - <span data-ttu-id="dc473-132">Non generare eccezioni quando un aspetto qualsiasi di un contratto del modello non viene seguito.</span><span class="sxs-lookup"><span data-stu-id="dc473-132">Do not throw exceptions when any aspect of a template contract is not followed.</span></span> <span data-ttu-id="dc473-133">In tal senso i pannelli non devono generare eccezioni se contengono un numero troppo elevato o troppo esiguo di elementi figlio.</span><span class="sxs-lookup"><span data-stu-id="dc473-133">Along these lines, panels should not throw exceptions if they have too many or too few children.</span></span>

- <span data-ttu-id="dc473-134">**Scomporre le funzionalità secondarie in elementi helper del modello.**</span><span class="sxs-lookup"><span data-stu-id="dc473-134">**Factor peripheral functionality into template helper elements.**</span></span> <span data-ttu-id="dc473-135">Ogni controllo deve essere incentrato sulla funzionalità di base e sulla reale proposta di valore e definito in base all'uso comune.</span><span class="sxs-lookup"><span data-stu-id="dc473-135">Each control should be focused on its core functionality and true value proposition and defined by the control's common usage.</span></span> <span data-ttu-id="dc473-136">A tal fine, usare elementi di composizione e helper all'interno del modello per abilitare comportamenti e visualizzazioni secondari, cioè quei comportamenti e quelle visualizzazioni che non contribuiscono alla funzionalità di base del controllo.</span><span class="sxs-lookup"><span data-stu-id="dc473-136">To that end, use composition and helper elements within the template to enable peripheral behaviors and visualizations, that is, those behaviors and visualizations that do not contribute to the core functionality of the control.</span></span> <span data-ttu-id="dc473-137">Questi elementi sono suddivisi in tre categorie:</span><span class="sxs-lookup"><span data-stu-id="dc473-137">Helper elements fall into three categories:</span></span>

  - <span data-ttu-id="dc473-138">Gli helper **autonomi** sono controlli o primitive pubblici e riutilizzabili che vengono usati "in modo anonimo" in un modello, vale a dire che l'elemento helper non è in grado di rilevare il controllo al quale è stato applicato lo stile e viceversa.</span><span class="sxs-lookup"><span data-stu-id="dc473-138">**Standalone** helper types are public and reusable controls or primitives that are used "anonymously" in a template, meaning that neither the helper element nor the styled control is aware of the other.</span></span> <span data-ttu-id="dc473-139">Tecnicamente, qualsiasi elemento può essere di tipo anonimo, ma in questo contesto il termine descrive i tipi che incapsulano funzionalità specializzate per abilitare scenari di destinazione.</span><span class="sxs-lookup"><span data-stu-id="dc473-139">Technically, any element can be an anonymous type, but in this context the term describes those types that encapsulate specialized functionality to enable targeted scenarios.</span></span>

  - <span data-ttu-id="dc473-140">Gli elementi helper **basati su tipi** sono nuovi tipi che incapsulano funzionalità specializzate.</span><span class="sxs-lookup"><span data-stu-id="dc473-140">**Type-based** helper elements are new types that encapsulate specialized functionality.</span></span> <span data-ttu-id="dc473-141">Questi elementi vengono progettati in genere con una gamma di funzionalità più limitata rispetto ai controlli o alle primitive comuni.</span><span class="sxs-lookup"><span data-stu-id="dc473-141">These elements are typically designed with a narrower range of functionality than common controls or primitives.</span></span> <span data-ttu-id="dc473-142">A differenza degli elementi helper autonomi, quelli basati su tipi sono in grado di rilevare il contesto in cui vengono usati e in genere devono condividere i dati con il controllo del relativo modello di appartenenza.</span><span class="sxs-lookup"><span data-stu-id="dc473-142">Unlike standalone helper elements, type-based helper elements are aware of the context in which they are used and typically must share data with the control to whose template they belong.</span></span>

  - <span data-ttu-id="dc473-143">Gli elementi helper **denominati** sono controlli o primitive comuni che un controllo prevede di identificare in base al nome all'interno del relativo modello.</span><span class="sxs-lookup"><span data-stu-id="dc473-143">**Named** helper elements are common controls or primitives that a control expects to find within its template by name.</span></span> <span data-ttu-id="dc473-144">A tali elementi viene assegnato un nome noto all'interno del modello, consentendo in questo modo a un controllo di individuare l'elemento e di interagire con esso a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="dc473-144">These elements are given a well-known name within the template, making it possible for a control to find the element and interact with it programmatically.</span></span> <span data-ttu-id="dc473-145">In ciascun modello può esistere un solo elemento con un determinato nome.</span><span class="sxs-lookup"><span data-stu-id="dc473-145">There can only be one element with a given name in any template.</span></span>

  <span data-ttu-id="dc473-146">La tabella seguente include gli elementi helper attualmente usati dagli stili del controllo (l'elenco non è completo):</span><span class="sxs-lookup"><span data-stu-id="dc473-146">The following table shows helper elements employed by control styles today (this list is not exhaustive):</span></span>

  |<span data-ttu-id="dc473-147">Elemento</span><span class="sxs-lookup"><span data-stu-id="dc473-147">Element</span></span>|<span data-ttu-id="dc473-148">Tipo</span><span class="sxs-lookup"><span data-stu-id="dc473-148">Type</span></span>|<span data-ttu-id="dc473-149">Utilizzata da</span><span class="sxs-lookup"><span data-stu-id="dc473-149">Used by</span></span>|
  |-------------|----------|-------------|
  |<xref:System.Windows.Controls.ContentPresenter>|<span data-ttu-id="dc473-150">Basato su tipi</span><span class="sxs-lookup"><span data-stu-id="dc473-150">Type-based</span></span>|<span data-ttu-id="dc473-151"><xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.CheckBox>, <xref:System.Windows.Controls.RadioButton>, <xref:System.Windows.Controls.Frame>e così via (tutti <xref:System.Windows.Controls.ContentControl> tipi)</span><span class="sxs-lookup"><span data-stu-id="dc473-151"><xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.CheckBox>, <xref:System.Windows.Controls.RadioButton>, <xref:System.Windows.Controls.Frame>, and so on (all <xref:System.Windows.Controls.ContentControl> types)</span></span>|
  |<xref:System.Windows.Controls.ItemsPresenter>|<span data-ttu-id="dc473-152">Basato su tipi</span><span class="sxs-lookup"><span data-stu-id="dc473-152">Type-based</span></span>|<span data-ttu-id="dc473-153"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>e così via (tutti <xref:System.Windows.Controls.ItemsControl> tipi)</span><span class="sxs-lookup"><span data-stu-id="dc473-153"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, and so on (all <xref:System.Windows.Controls.ItemsControl> types)</span></span>|
  |<xref:System.Windows.Controls.Primitives.ToolBarOverflowPanel>|<span data-ttu-id="dc473-154">Con nome</span><span class="sxs-lookup"><span data-stu-id="dc473-154">Named</span></span>|<xref:System.Windows.Controls.ToolBar>|
  |<xref:System.Windows.Controls.Primitives.Popup>|<span data-ttu-id="dc473-155">Autonomo</span><span class="sxs-lookup"><span data-stu-id="dc473-155">Standalone</span></span>|<span data-ttu-id="dc473-156"><xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.ToolBar>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolTip>e così via</span><span class="sxs-lookup"><span data-stu-id="dc473-156"><xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.ToolBar>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolTip>, and so on</span></span>|
  |<xref:System.Windows.Controls.Primitives.RepeatButton>|<span data-ttu-id="dc473-157">Con nome</span><span class="sxs-lookup"><span data-stu-id="dc473-157">Named</span></span>|<span data-ttu-id="dc473-158"><xref:System.Windows.Controls.Slider>, <xref:System.Windows.Controls.Primitives.ScrollBar>e così via</span><span class="sxs-lookup"><span data-stu-id="dc473-158"><xref:System.Windows.Controls.Slider>, <xref:System.Windows.Controls.Primitives.ScrollBar>, and so on</span></span>|
  |<xref:System.Windows.Controls.Primitives.ScrollBar>|<span data-ttu-id="dc473-159">Con nome</span><span class="sxs-lookup"><span data-stu-id="dc473-159">Named</span></span>|<xref:System.Windows.Controls.ScrollViewer>|
  |<xref:System.Windows.Controls.ScrollViewer>|<span data-ttu-id="dc473-160">Autonomo</span><span class="sxs-lookup"><span data-stu-id="dc473-160">Standalone</span></span>|<span data-ttu-id="dc473-161"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.Frame>e così via</span><span class="sxs-lookup"><span data-stu-id="dc473-161"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.Frame>, and so on</span></span>|
  |<xref:System.Windows.Controls.Primitives.TabPanel>|<span data-ttu-id="dc473-162">Autonomo</span><span class="sxs-lookup"><span data-stu-id="dc473-162">Standalone</span></span>|<xref:System.Windows.Controls.TabControl>|
  |<xref:System.Windows.Controls.TextBox>|<span data-ttu-id="dc473-163">Con nome</span><span class="sxs-lookup"><span data-stu-id="dc473-163">Named</span></span>|<xref:System.Windows.Controls.ComboBox>|
  |<xref:System.Windows.Controls.Primitives.TickBar>|<span data-ttu-id="dc473-164">Basato su tipi</span><span class="sxs-lookup"><span data-stu-id="dc473-164">Type-based</span></span>|<xref:System.Windows.Controls.Slider>|

- <span data-ttu-id="dc473-165">**Ridurre al minimo le associazioni o le impostazioni di proprietà richieste specificate dall'utente per gli elementi helper**.</span><span class="sxs-lookup"><span data-stu-id="dc473-165">**Minimize required user-specified bindings or property settings on helper elements**.</span></span> <span data-ttu-id="dc473-166">Un elemento helper richiede determinate associazioni o impostazioni di proprietà per un corretto funzionamento all'interno del modello di controllo.</span><span class="sxs-lookup"><span data-stu-id="dc473-166">It is common for a helper element to require certain bindings or property settings in order to function properly within the control template.</span></span> <span data-ttu-id="dc473-167">Tali impostazioni dovrebbero essere indicate, per quanto possibile, dall'elemento helper e dal controllo basato su modelli.</span><span class="sxs-lookup"><span data-stu-id="dc473-167">The helper element and templated control should, as much as possible, establish these settings.</span></span> <span data-ttu-id="dc473-168">Al momento dell'impostazione delle proprietà o della definizione delle associazioni, è necessario prestare attenzione a non eseguire l'override dei valori impostati dall'utente.</span><span class="sxs-lookup"><span data-stu-id="dc473-168">When setting properties or establishing bindings, care should be taken to not override values set by the user.</span></span> <span data-ttu-id="dc473-169">Di seguito sono indicate le procedure consigliate:</span><span class="sxs-lookup"><span data-stu-id="dc473-169">Specific best practices are as follows:</span></span>

  - <span data-ttu-id="dc473-170">Gli elementi helper con nome devono essere identificati dall'elemento padre, che deve stabilire le impostazioni richieste nell'elemento helper.</span><span class="sxs-lookup"><span data-stu-id="dc473-170">Named helper elements should be identified by the parent and the parent should establish any required settings on the helper element.</span></span>

  - <span data-ttu-id="dc473-171">Le impostazioni richieste per gli elementi helper basati su tipi devono essere stabilite direttamente negli elementi stessi.</span><span class="sxs-lookup"><span data-stu-id="dc473-171">Type-based helper elements should establish any required settings directly on themselves.</span></span> <span data-ttu-id="dc473-172">Tale operazione potrebbe richiedere, da parte dell'elemento di supporto, l'esecuzione di una query sul contesto delle informazioni in cui viene usato, incluso l'oggetto `TemplatedParent` (il tipo di controllo del modello in cui viene usato).</span><span class="sxs-lookup"><span data-stu-id="dc473-172">Doing this may require the helper element to query for information context in which it is being used, including its `TemplatedParent` (the control type of the template in which it is being used).</span></span> <span data-ttu-id="dc473-173">Ad esempio, <xref:System.Windows.Controls.ContentPresenter> associa automaticamente il `Content` proprietà del relativo `TemplatedParent` a relativo <xref:System.Windows.Controls.ContentPresenter.Content%2A> proprietà quando viene utilizzata un <xref:System.Windows.Controls.ContentControl> tipo derivato.</span><span class="sxs-lookup"><span data-stu-id="dc473-173">For example, <xref:System.Windows.Controls.ContentPresenter> automatically binds the `Content` property of its `TemplatedParent` to its <xref:System.Windows.Controls.ContentPresenter.Content%2A> property when used in a <xref:System.Windows.Controls.ContentControl> derived type.</span></span>

  - <span data-ttu-id="dc473-174">Non è possibile ottimizzare allo stesso modo gli elementi helper autonomi, perché, per definizione, l'elemento helper e l'elemento padre non sono in grado di rilevarsi a vicenda.</span><span class="sxs-lookup"><span data-stu-id="dc473-174">Standalone helper elements cannot be optimized in this way because, by definition, neither the helper element nor the parent knows about the other.</span></span>

- <span data-ttu-id="dc473-175">**Usare la proprietà Name contrassegnare gli elementi all'interno di un modello**.</span><span class="sxs-lookup"><span data-stu-id="dc473-175">**Use the Name property to flag elements within a template**.</span></span> <span data-ttu-id="dc473-176">Un controllo che deve individuare un elemento dello stile e accedervi a livello di codice, dovrà usare la proprietà `Name` e il paradigma `FindName`.</span><span class="sxs-lookup"><span data-stu-id="dc473-176">A control that needs to find an element in its style in order to access it programmatically should do so using the `Name` property and the `FindName` paradigm.</span></span> <span data-ttu-id="dc473-177">Se l'elemento non viene trovato, il controllo non dovrà generare un'eccezione, ma disabilitare in modo normale e senza visualizzare messaggi la funzionalità in cui tale elemento era richiesto.</span><span class="sxs-lookup"><span data-stu-id="dc473-177">A control should not throw an exception when an element is not found, but silently and gracefully disable the functionality which required that element.</span></span>

- <span data-ttu-id="dc473-178">**Usare le procedure consigliate per esprimere lo stato e il comportamento del controllo in uno stile.**</span><span class="sxs-lookup"><span data-stu-id="dc473-178">**Use best practices for expressing control state and behavior in a style.**</span></span> <span data-ttu-id="dc473-179">Di seguito è riportato un elenco ordinato delle procedure consigliate per indicare le modifiche e il comportamento dello stato del controllo in uno stile.</span><span class="sxs-lookup"><span data-stu-id="dc473-179">The following is an ordered list of best practices for expressing control state changes and behavior in a style.</span></span> <span data-ttu-id="dc473-180">È consigliabile usare il primo elemento dell'elenco per abilitare lo scenario.</span><span class="sxs-lookup"><span data-stu-id="dc473-180">You should use the first item on the list that enables your scenario.</span></span>

  1. <span data-ttu-id="dc473-181">Associazione di proprietà.</span><span class="sxs-lookup"><span data-stu-id="dc473-181">Property binding.</span></span> <span data-ttu-id="dc473-182">Esempio: associazione tra <xref:System.Windows.Controls.ComboBox.IsDropDownOpen%2A?displayProperty=nameWithType> e <xref:System.Windows.Controls.Primitives.ToggleButton.IsChecked%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="dc473-182">Example: binding between <xref:System.Windows.Controls.ComboBox.IsDropDownOpen%2A?displayProperty=nameWithType> and <xref:System.Windows.Controls.Primitives.ToggleButton.IsChecked%2A?displayProperty=nameWithType>.</span></span>

  2. <span data-ttu-id="dc473-183">Modifiche delle proprietà attivate o animazioni delle proprietà.</span><span class="sxs-lookup"><span data-stu-id="dc473-183">Triggered property changes or property animations.</span></span> <span data-ttu-id="dc473-184">Esempio: il passaggio del mouse lo stato di un <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="dc473-184">Example: the hover state of a <xref:System.Windows.Controls.Button>.</span></span>

  3. <span data-ttu-id="dc473-185">Comando.</span><span class="sxs-lookup"><span data-stu-id="dc473-185">Command.</span></span> <span data-ttu-id="dc473-186">Esempio: <xref:System.Windows.Controls.Primitives.ScrollBar.LineUpCommand>  /  <xref:System.Windows.Controls.Primitives.ScrollBar.LineDownCommand> in <xref:System.Windows.Controls.Primitives.ScrollBar>.</span><span class="sxs-lookup"><span data-stu-id="dc473-186">Example: <xref:System.Windows.Controls.Primitives.ScrollBar.LineUpCommand> / <xref:System.Windows.Controls.Primitives.ScrollBar.LineDownCommand> in <xref:System.Windows.Controls.Primitives.ScrollBar>.</span></span>

  4. <span data-ttu-id="dc473-187">Elementi helper autonomi.</span><span class="sxs-lookup"><span data-stu-id="dc473-187">Standalone helper elements.</span></span> <span data-ttu-id="dc473-188">Esempio: <xref:System.Windows.Controls.Primitives.TabPanel> in <xref:System.Windows.Controls.TabControl>.</span><span class="sxs-lookup"><span data-stu-id="dc473-188">Example: <xref:System.Windows.Controls.Primitives.TabPanel> in <xref:System.Windows.Controls.TabControl>.</span></span>

  5. <span data-ttu-id="dc473-189">Tipi di helper basati su tipi.</span><span class="sxs-lookup"><span data-stu-id="dc473-189">Type-based helper types.</span></span> <span data-ttu-id="dc473-190">Esempio: <xref:System.Windows.Controls.ContentPresenter> nelle <xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.Primitives.TickBar> in <xref:System.Windows.Controls.Slider>.</span><span class="sxs-lookup"><span data-stu-id="dc473-190">Example: <xref:System.Windows.Controls.ContentPresenter> in <xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.Primitives.TickBar> in <xref:System.Windows.Controls.Slider>.</span></span>

  6. <span data-ttu-id="dc473-191">Elementi helper con nome.</span><span class="sxs-lookup"><span data-stu-id="dc473-191">Named helper elements.</span></span> <span data-ttu-id="dc473-192">Esempio: <xref:System.Windows.Controls.TextBox> in <xref:System.Windows.Controls.ComboBox>.</span><span class="sxs-lookup"><span data-stu-id="dc473-192">Example: <xref:System.Windows.Controls.TextBox> in <xref:System.Windows.Controls.ComboBox>.</span></span>

  7. <span data-ttu-id="dc473-193">Eventi propagati da tipi di supporto con nome.</span><span class="sxs-lookup"><span data-stu-id="dc473-193">Bubbled events from named helper types.</span></span> <span data-ttu-id="dc473-194">Se si è in ascolto di eventi propagati da un elemento dello stile, è consigliabile richiedere che l'elemento che ha generato l'evento possa venire identificato in modo univoco.</span><span class="sxs-lookup"><span data-stu-id="dc473-194">If you listen for bubbled events from a style element, you should require that the element generating the event can be uniquely identified.</span></span> <span data-ttu-id="dc473-195">Esempio: <xref:System.Windows.Controls.Primitives.Thumb> in <xref:System.Windows.Controls.ToolBar>.</span><span class="sxs-lookup"><span data-stu-id="dc473-195">Example: <xref:System.Windows.Controls.Primitives.Thumb> in <xref:System.Windows.Controls.ToolBar>.</span></span>

  8. <span data-ttu-id="dc473-196">Comportamento di `OnRender` personalizzato.</span><span class="sxs-lookup"><span data-stu-id="dc473-196">Custom `OnRender` behavior.</span></span> <span data-ttu-id="dc473-197">Esempio: <xref:Microsoft.Windows.Themes.ButtonChrome> in <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="dc473-197">Example: <xref:Microsoft.Windows.Themes.ButtonChrome> in <xref:System.Windows.Controls.Button>.</span></span>

- <span data-ttu-id="dc473-198">**Usare i trigger degli stili (anziché i trigger dei modelli) con moderazione**.</span><span class="sxs-lookup"><span data-stu-id="dc473-198">**Use style triggers (as opposed to template triggers) sparingly**.</span></span> <span data-ttu-id="dc473-199">I trigger che hanno effetto sulle proprietà degli elementi del modello devono essere dichiarati nel modello.</span><span class="sxs-lookup"><span data-stu-id="dc473-199">Triggers that affect properties on elements in the template must be declared in the template.</span></span> <span data-ttu-id="dc473-200">I trigger che hanno effetto sulle proprietà del controllo (eccetto `TargetName`) possono essere dichiarati nello stile, a meno che la modifica del modello non comporti l'eliminazione del trigger.</span><span class="sxs-lookup"><span data-stu-id="dc473-200">Triggers that affect properties on the control (no `TargetName`) may be declared in the style unless you know that changing the template should also destroy the trigger.</span></span>

- <span data-ttu-id="dc473-201">**Essere coerenti con i modelli di applicazione di stili esistenti.**</span><span class="sxs-lookup"><span data-stu-id="dc473-201">**Be consistent with existing styling patterns.**</span></span> <span data-ttu-id="dc473-202">Spesso esistono diversi modi per risolvere un problema.</span><span class="sxs-lookup"><span data-stu-id="dc473-202">Many times there are multiple ways to solve a problem.</span></span> <span data-ttu-id="dc473-203">Essere consapevoli e, se possibile, essere coerenti con i modelli di applicazione dello stile del controllo esistenti.</span><span class="sxs-lookup"><span data-stu-id="dc473-203">Be aware of and, when possible, consistent with existing control styling patterns.</span></span> <span data-ttu-id="dc473-204">Ciò è particolarmente importante per i controlli che derivano dallo stesso tipo di base (ad esempio, <xref:System.Windows.Controls.ContentControl>, <xref:System.Windows.Controls.ItemsControl>, <xref:System.Windows.Controls.Primitives.RangeBase>e così via).</span><span class="sxs-lookup"><span data-stu-id="dc473-204">This is especially important for controls that derive from the same base type (for example, <xref:System.Windows.Controls.ContentControl>, <xref:System.Windows.Controls.ItemsControl>, <xref:System.Windows.Controls.Primitives.RangeBase>, and so on).</span></span>

- <span data-ttu-id="dc473-205">**Esporre le proprietà per abilitare scenari di personalizzazione comuni senza applicare nuovamente i modelli**.</span><span class="sxs-lookup"><span data-stu-id="dc473-205">**Expose properties to enable common customization scenarios without retemplating**.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="dc473-206">non supporta parti personalizzabili o collegabili; pertanto, l'utente di un controllo avrà a disposizione soltanto due metodi per la personalizzazione: l'impostazione diretta delle proprietà o l'impostazione delle proprietà tramite gli stili.</span><span class="sxs-lookup"><span data-stu-id="dc473-206">does not support pluggable/customizable parts, so a control user is left with only two methods of customization: setting properties directly or setting properties using styles.</span></span> <span data-ttu-id="dc473-207">È consigliabile pertanto di limitare il numero di proprietà destinate a scenari di personalizzazione molto comuni, ad alta priorità, che richiederebbero altrimenti una nuova applicazione dei modelli.</span><span class="sxs-lookup"><span data-stu-id="dc473-207">With that in mind, it is appropriate to surface a limited number of properties targeted at very common, high-priority customization scenarios which would otherwise require the retemplating.</span></span> <span data-ttu-id="dc473-208">Di seguito sono riportate le procedure consigliate per stabilire il momento e il metodo adatti per abilitare gli scenari di personalizzazione:</span><span class="sxs-lookup"><span data-stu-id="dc473-208">Here are best practices for when and how to enable customization scenarios:</span></span>

  - <span data-ttu-id="dc473-209">Le personalizzazioni molto comuni devono essere esposte come proprietà nel controllo e usate dal modello.</span><span class="sxs-lookup"><span data-stu-id="dc473-209">Very common customizations should be exposed as properties on the control and consumed by the template.</span></span>

  - <span data-ttu-id="dc473-210">Le personalizzazioni meno comuni (anche se non rare) devono essere esposte come proprietà associate e usate dal modello.</span><span class="sxs-lookup"><span data-stu-id="dc473-210">Less common (though not rare) customizations should be exposed as attached properties and consumed by the template.</span></span>

  - <span data-ttu-id="dc473-211">È accettabile che le personalizzazioni note ma rare richiedano una nuova applicazione di modelli.</span><span class="sxs-lookup"><span data-stu-id="dc473-211">It is acceptable for known but rare customizations to require retemplating.</span></span>

<a name="Theme_Considerations"></a>

## <a name="theme-considerations"></a><span data-ttu-id="dc473-212">Considerazioni sui temi</span><span class="sxs-lookup"><span data-stu-id="dc473-212">Theme Considerations</span></span>

- <span data-ttu-id="dc473-213">**Gli stili dei temi dovrebbero avere una semantica delle proprietà coerente in tutti i temi, tuttavia non offrono alcuna garanzia**.</span><span class="sxs-lookup"><span data-stu-id="dc473-213">**Theme styles should attempt to have consistent property semantics across all themes, but make no guarantee**.</span></span> <span data-ttu-id="dc473-214">Come parte della documentazione, il controllo dovrebbe includere un documento con la descrizione della semantica delle proprietà del controllo, vale a dire il "significato" di una proprietà per un controllo.</span><span class="sxs-lookup"><span data-stu-id="dc473-214">As part of its documentation, your control should have a document describing the control's property semantics, that is, the "meaning" of a property for a control.</span></span> <span data-ttu-id="dc473-215">Ad esempio, il <xref:System.Windows.Controls.ComboBox> controllo deve definire il significato del <xref:System.Windows.Controls.Control.Background%2A> proprietà all'interno di <xref:System.Windows.Controls.ComboBox>.</span><span class="sxs-lookup"><span data-stu-id="dc473-215">For example, the <xref:System.Windows.Controls.ComboBox> control should define the meaning of the <xref:System.Windows.Controls.Control.Background%2A> property within <xref:System.Windows.Controls.ComboBox>.</span></span> <span data-ttu-id="dc473-216">Gli stili predefiniti per il controllo dovrebbero attenersi alla semantica definita in tale documento per tutti i temi.</span><span class="sxs-lookup"><span data-stu-id="dc473-216">The default styles for your control should attempt to follow the semantics defined in that document across all themes.</span></span> <span data-ttu-id="dc473-217">Gli utenti del controllo, d'altra parte, dovrebbero essere consapevoli del fatto che la semantica delle proprietà può variare da tema a tema.</span><span class="sxs-lookup"><span data-stu-id="dc473-217">Control users, on the other hand, should be aware that property semantics can change from theme to theme.</span></span> <span data-ttu-id="dc473-218">In alcuni casi, potrebbe non essere possibile esprimere una determinata proprietà per i vincoli visivi richiesti da un determinato tema.</span><span class="sxs-lookup"><span data-stu-id="dc473-218">In certain cases, a given property may not be expressible under the visual constraints required by a particular theme.</span></span> <span data-ttu-id="dc473-219">Ad esempio, nel tema Classico non è disponibile un singolo bordo a cui applicare `Thickness` per molti controlli.</span><span class="sxs-lookup"><span data-stu-id="dc473-219">(The Classic theme, for example, does not have a single border to which `Thickness` can be applied for many controls.)</span></span>

- <span data-ttu-id="dc473-220">**Gli stili dei temi non devono necessariamente avere una semantica dei trigger coerente in tutti i temi**.</span><span class="sxs-lookup"><span data-stu-id="dc473-220">**Theme styles do not need to have consistent trigger semantics across all themes**.</span></span> <span data-ttu-id="dc473-221">Il comportamento esposto da uno stile del controllo tramite trigger o animazioni può variare da tema a tema.</span><span class="sxs-lookup"><span data-stu-id="dc473-221">The behavior exposed by a control style through triggers or animations may vary from theme to theme.</span></span> <span data-ttu-id="dc473-222">Gli utenti del controllo dovrebbero essere consapevoli che un controllo non impiega necessariamente lo stesso meccanismo per ottenere un comportamento specifico in tutti i temi.</span><span class="sxs-lookup"><span data-stu-id="dc473-222">Control users should be aware that a control will not necessarily employ the same mechanism to achieve a particular behavior across all themes.</span></span> <span data-ttu-id="dc473-223">Un tema, ad esempio, può usare un'animazione per esprimere il comportamento al passaggio del mouse mentre un altro tema usa un trigger.</span><span class="sxs-lookup"><span data-stu-id="dc473-223">One theme, for example, may use an animation to express hover behavior where another theme uses a trigger.</span></span> <span data-ttu-id="dc473-224">Nei controlli personalizzati è pertanto possibile che si verifichino incoerenze nella conservazione di un comportamento.</span><span class="sxs-lookup"><span data-stu-id="dc473-224">This can result in inconsistencies in behavior preservation on customized controls.</span></span> <span data-ttu-id="dc473-225">La modifica della proprietà dello sfondo, ad esempio, potrebbe non avere effetto sullo stato del controllo al passaggio del mouse, se questo viene espresso mediante un trigger.</span><span class="sxs-lookup"><span data-stu-id="dc473-225">(Changing the background property, for example, might not affect the hover state of the control if that state is expressed using a trigger.</span></span> <span data-ttu-id="dc473-226">Se lo stato al passaggio del mouse viene tuttavia implementato mediante un'animazione, la modifica dello sfondo potrebbe interrompere l'animazione e quindi la transizione di stato.</span><span class="sxs-lookup"><span data-stu-id="dc473-226">However, if the hover state is implemented using an animation, changing to background could irreparably break the animation and therefore the state transition.)</span></span>

- <span data-ttu-id="dc473-227">**Gli stili dei temi non devono necessariamente presentare una semantica dei "layout" coerente in tutti i temi**.</span><span class="sxs-lookup"><span data-stu-id="dc473-227">**Theme styles do not need to have consistent "layout" semantics across all themes**.</span></span> <span data-ttu-id="dc473-228">L'uso dello stile predefinito, ad esempio, non deve garantire che un controllo abbia le stesse dimensioni in tutti i temi o che il contenuto abbia gli stessi margini o la stessa spaziatura interna in tutti i temi.</span><span class="sxs-lookup"><span data-stu-id="dc473-228">For example, the default style does not need to guarantee that a control will occupy the same amount of size in all themes or guarantee that a control will have the same content margins / padding across all themes.</span></span>

## <a name="see-also"></a><span data-ttu-id="dc473-229">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="dc473-229">See also</span></span>

- [<span data-ttu-id="dc473-230">Applicazione di stili e modelli</span><span class="sxs-lookup"><span data-stu-id="dc473-230">Styling and Templating</span></span>](styling-and-templating.md)
- [<span data-ttu-id="dc473-231">Cenni preliminari sulla modifica di controlli</span><span class="sxs-lookup"><span data-stu-id="dc473-231">Control Authoring Overview</span></span>](control-authoring-overview.md)

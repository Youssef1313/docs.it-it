---
title: Eventi di modifica delle proprietà
ms.date: 03/30/2017
helpviewer_keywords:
- dependency properties [WPF], change events
- property value changes [WPF]
- change events [WPF], property
- events [WPF], change in property values
- creating property triggers [WPF]
- property change events [WPF], types of
- property change events [WPF]
- property triggers [WPF]
- identifying changed property events [WPF]
- property triggers [WPF], definition of
ms.assetid: 0a7989df-9674-4cc1-bc50-5d8ef5d9c055
ms.openlocfilehash: f8d0d5e65101ffda0edaaeabdea2870287ba0f1f
ms.sourcegitcommit: 24a4a8eb6d8cfe7b8549fb6d823076d7c697e0c6
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/23/2019
ms.locfileid: "68400848"
---
# <a name="property-change-events"></a><span data-ttu-id="811d6-102">Eventi di modifica delle proprietà</span><span class="sxs-lookup"><span data-stu-id="811d6-102">Property Change Events</span></span>
[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="811d6-103">definisce diversi eventi generati in risposta a una modifica nel valore di una proprietà.</span><span class="sxs-lookup"><span data-stu-id="811d6-103">defines several events that are raised in response to a change in the value of a property.</span></span> <span data-ttu-id="811d6-104">Spesso la proprietà è una proprietà di dipendenza.</span><span class="sxs-lookup"><span data-stu-id="811d6-104">Often the property is a dependency property.</span></span> <span data-ttu-id="811d6-105">L'evento stesso è talvolta un evento indirizzato ed è talvolta un evento standard Common Language Runtime (CLR).</span><span class="sxs-lookup"><span data-stu-id="811d6-105">The event itself is sometimes a routed event and is sometimes a standard common language runtime (CLR) event.</span></span> <span data-ttu-id="811d6-106">La definizione dell'evento varia in base allo scenario, poiché alcune modifiche delle proprietà sono inviate in modo più appropriato tramite un albero di elementi, mentre altre in genere sono di interesse solo per l'oggetto in cui la proprietà è stata modificata.</span><span class="sxs-lookup"><span data-stu-id="811d6-106">The definition of the event varies depending on the scenario, because some property changes are more appropriately routed through an element tree, whereas other property changes are generally only of concern to the object where the property changed.</span></span>  
  
## <a name="identifying-a-property-change-event"></a><span data-ttu-id="811d6-107">Identificazione di un evento di modifica delle proprietà</span><span class="sxs-lookup"><span data-stu-id="811d6-107">Identifying a Property Change Event</span></span>  
 <span data-ttu-id="811d6-108">Non tutti gli eventi che segnalano una modifica delle proprietà sono identificati in modo esplicito come eventi di modifica delle proprietà, per mezzo di un pattern di firma o di nome.</span><span class="sxs-lookup"><span data-stu-id="811d6-108">Not all events that report a property change are explicitly identified as a property changed event, either by virtue of a signature pattern or a naming pattern.</span></span> <span data-ttu-id="811d6-109">In genere, la descrizione dell'evento nella documentazione [!INCLUDE[TLA#tla_sdk](../../../../includes/tlasharptla-sdk-md.md)] indica se l'evento è direttamente collegato alla modifica del valore di una proprietà e fornisce riferimenti incrociati tra la proprietà e l'evento.</span><span class="sxs-lookup"><span data-stu-id="811d6-109">Generally, the description of the event in the [!INCLUDE[TLA#tla_sdk](../../../../includes/tlasharptla-sdk-md.md)] documentation indicates whether the event is directly tied to a property value change and provides cross-references between the property and event.</span></span>  
  
### <a name="routedpropertychanged-events"></a><span data-ttu-id="811d6-110">Eventi RoutedPropertyChanged</span><span class="sxs-lookup"><span data-stu-id="811d6-110">RoutedPropertyChanged Events</span></span>  
 <span data-ttu-id="811d6-111">Alcuni eventi usano un tipo di dati di evento e un delegato che vengono usati in modo esplicito per gli eventi di modifica delle proprietà.</span><span class="sxs-lookup"><span data-stu-id="811d6-111">Certain events use an event data type and delegate that are explicitly used for property change events.</span></span> <span data-ttu-id="811d6-112">Il tipo di dati dell' <xref:System.Windows.RoutedPropertyChangedEventArgs%601>evento è e il delegato <xref:System.Windows.RoutedPropertyChangedEventHandler%601>è.</span><span class="sxs-lookup"><span data-stu-id="811d6-112">The event data type is <xref:System.Windows.RoutedPropertyChangedEventArgs%601>, and the delegate is <xref:System.Windows.RoutedPropertyChangedEventHandler%601>.</span></span> <span data-ttu-id="811d6-113">I dati di evento e il delegato dispongono entrambi di un parametro di tipo generico, usato per specificare il tipo effettivo della proprietà modificata quando si definisce il gestore.</span><span class="sxs-lookup"><span data-stu-id="811d6-113">The event data and delegate both have a generic type parameter that is used to specify the actual type of the changing property when you define the handler.</span></span> <span data-ttu-id="811d6-114">I dati dell'evento contengono due proprietà <xref:System.Windows.RoutedPropertyChangedEventArgs%601.OldValue%2A> , <xref:System.Windows.RoutedPropertyChangedEventArgs%601.NewValue%2A>e, che vengono entrambe passate come argomento di tipo nei dati dell'evento.</span><span class="sxs-lookup"><span data-stu-id="811d6-114">The event data contains two properties, <xref:System.Windows.RoutedPropertyChangedEventArgs%601.OldValue%2A> and <xref:System.Windows.RoutedPropertyChangedEventArgs%601.NewValue%2A>, which are both then passed as the type argument in the event data.</span></span>  
  
 <span data-ttu-id="811d6-115">La parte "Routed" del nome indica che l'evento di modifica proprietà è registrato come evento indirizzato.</span><span class="sxs-lookup"><span data-stu-id="811d6-115">The "Routed" part of the name indicates that the property changed event is registered as a routed event.</span></span> <span data-ttu-id="811d6-116">Il vantaggio che si ottiene nell'indirizzare un evento di modifica proprietà è dato dal fatto che il livello superiore di un controllo può ricevere eventi di modifica proprietà se vengono modificati i valori delle proprietà sugli elementi figlio (parti composite del controllo).</span><span class="sxs-lookup"><span data-stu-id="811d6-116">The advantage of routing a property changed event is that the top level of a control can receive property changed events if properties on the child elements (the control's composite parts) change values.</span></span> <span data-ttu-id="811d6-117">Ad esempio, è possibile creare un controllo che incorpora un <xref:System.Windows.Controls.Primitives.RangeBase> controllo, ad esempio. <xref:System.Windows.Controls.Slider></span><span class="sxs-lookup"><span data-stu-id="811d6-117">For instance, you might create a control that incorporates a <xref:System.Windows.Controls.Primitives.RangeBase> control such as a <xref:System.Windows.Controls.Slider>.</span></span> <span data-ttu-id="811d6-118">Se il valore della <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> proprietà viene modificato sulla parte del dispositivo di scorrimento, potrebbe essere necessario gestire tale modifica nel controllo padre anziché nella parte.</span><span class="sxs-lookup"><span data-stu-id="811d6-118">If the value of the <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> property changes on the slider part, you might want to handle that change on the parent control rather than on the part.</span></span>  
  
 <span data-ttu-id="811d6-119">Poiché si hanno un valore vecchio e un valore nuovo, può sembrare opportuno usare questo gestore eventi come validator per il valore della proprietà.</span><span class="sxs-lookup"><span data-stu-id="811d6-119">Because you have an old value and a new value, it might be tempting to use this event handler as a validator for the property value.</span></span> <span data-ttu-id="811d6-120">Quest'uso, tuttavia, non rientra negli intenti di progettazione della maggior parte degli eventi di modifica proprietà.</span><span class="sxs-lookup"><span data-stu-id="811d6-120">However, that is not the design intention of most property changed events.</span></span> <span data-ttu-id="811d6-121">In genere i valori vengono forniti per consentire di eseguire azioni su di essi in altre aree logiche del codice, ma la modifica dei valori dall'interno del gestore eventi non è consigliabile e può causare ricorsione non intenzionale a seconda della modalità di implementazione del gestore.</span><span class="sxs-lookup"><span data-stu-id="811d6-121">Generally, the values are provided so that you can act on those values in other logic areas of your code, but actually changing the values from within the event handler is not advisable, and may cause unintentional recursion depending on how your handler is implemented.</span></span>  
  
 <span data-ttu-id="811d6-122">Se la proprietà è una proprietà di dipendenza personalizzata o se si utilizza una classe derivata in cui è stato definito il codice di creazione dell'istanza, è disponibile un meccanismo molto migliore per tenere traccia delle modifiche delle proprietà compilate nel sistema di [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] proprietà: callback <xref:System.Windows.CoerceValueCallback> del sistema di proprietà <xref:System.Windows.PropertyChangedCallback>e.</span><span class="sxs-lookup"><span data-stu-id="811d6-122">If your property is a custom dependency property, or if you are working with a derived class where you have defined the instantiation code, there is a much better mechanism for tracking property changes that is built in to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system: the property system callbacks <xref:System.Windows.CoerceValueCallback> and <xref:System.Windows.PropertyChangedCallback>.</span></span> <span data-ttu-id="811d6-123">Per informazioni dettagliate su come usare il sistema di proprietà [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] per la convalida e la coercizione, vedere [Callback e convalida delle proprietà di dipendenza](dependency-property-callbacks-and-validation.md) e [Proprietà di dipendenza personalizzate](custom-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="811d6-123">For more details about how you can use the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system for validation and coercion, see [Dependency Property Callbacks and Validation](dependency-property-callbacks-and-validation.md) and [Custom Dependency Properties](custom-dependency-properties.md).</span></span>  
  
### <a name="dependencypropertychanged-events"></a><span data-ttu-id="811d6-124">Eventi DependencyPropertyChanged</span><span class="sxs-lookup"><span data-stu-id="811d6-124">DependencyPropertyChanged Events</span></span>  
 <span data-ttu-id="811d6-125">Un'altra coppia di tipi che fanno parte di uno scenario di evento modificato <xref:System.Windows.DependencyPropertyChangedEventArgs> da <xref:System.Windows.DependencyPropertyChangedEventHandler>proprietà è e.</span><span class="sxs-lookup"><span data-stu-id="811d6-125">Another pair of types that are part of a property changed event scenario is <xref:System.Windows.DependencyPropertyChangedEventArgs> and <xref:System.Windows.DependencyPropertyChangedEventHandler>.</span></span> <span data-ttu-id="811d6-126">Gli eventi per queste modifiche delle proprietà non vengono indirizzati; si tratta di eventi CLR standard.</span><span class="sxs-lookup"><span data-stu-id="811d6-126">Events for these property changes are not routed; they are standard CLR events.</span></span> <span data-ttu-id="811d6-127"><xref:System.Windows.DependencyPropertyChangedEventArgs>tipo di segnalazione dati evento insolito perché non deriva da <xref:System.EventArgs>. <xref:System.Windows.DependencyPropertyChangedEventArgs> è una struttura, non una classe.</span><span class="sxs-lookup"><span data-stu-id="811d6-127"><xref:System.Windows.DependencyPropertyChangedEventArgs> is an unusual event data reporting type because it does not derive from <xref:System.EventArgs>; <xref:System.Windows.DependencyPropertyChangedEventArgs> is a structure, not a class.</span></span>  
  
 <span data-ttu-id="811d6-128">Gli eventi che <xref:System.Windows.DependencyPropertyChangedEventArgs> usano <xref:System.Windows.DependencyPropertyChangedEventHandler> e sono leggermente più comuni `RoutedPropertyChanged` degli eventi.</span><span class="sxs-lookup"><span data-stu-id="811d6-128">Events that use <xref:System.Windows.DependencyPropertyChangedEventArgs> and <xref:System.Windows.DependencyPropertyChangedEventHandler> are slightly more common than `RoutedPropertyChanged` events.</span></span> <span data-ttu-id="811d6-129">Un esempio di evento che usa questi tipi è <xref:System.Windows.UIElement.IsMouseCapturedChanged>.</span><span class="sxs-lookup"><span data-stu-id="811d6-129">An example of an event that uses these types is <xref:System.Windows.UIElement.IsMouseCapturedChanged>.</span></span>  
  
 <span data-ttu-id="811d6-130"><xref:System.Windows.RoutedPropertyChangedEventArgs%601>Analogamente <xref:System.Windows.DependencyPropertyChangedEventArgs> a, segnala anche un valore precedente e nuovo per la proprietà.</span><span class="sxs-lookup"><span data-stu-id="811d6-130">Like <xref:System.Windows.RoutedPropertyChangedEventArgs%601>, <xref:System.Windows.DependencyPropertyChangedEventArgs> also reports an old and new value for the property.</span></span> <span data-ttu-id="811d6-131">Inoltre, a questo evento si applicano le stesse considerazioni relative all'uso dei valori. In genere è sconsigliabile provare a modificare nuovamente i valori sul mittente in risposta all'evento.</span><span class="sxs-lookup"><span data-stu-id="811d6-131">Also, the same considerations about what you can do with the values apply; it is generally not recommended that you attempt to change the values again on the sender in response to the event.</span></span>  
  
## <a name="property-triggers"></a><span data-ttu-id="811d6-132">Trigger di proprietà</span><span class="sxs-lookup"><span data-stu-id="811d6-132">Property Triggers</span></span>  
 <span data-ttu-id="811d6-133">Un concetto correlato strettamente a un evento di modifica proprietà è quello di trigger di proprietà.</span><span class="sxs-lookup"><span data-stu-id="811d6-133">A closely related concept to a property changed event is a property trigger.</span></span> <span data-ttu-id="811d6-134">Un trigger di proprietà viene creato all'interno di uno stile o di un modello e consente di creare un comportamento condizionale basato sul valore della proprietà a cui il trigger è assegnato.</span><span class="sxs-lookup"><span data-stu-id="811d6-134">A property trigger is created within a style or template and enables you to create a conditional behavior based on the value of the property where the property trigger is assigned.</span></span>  
  
 <span data-ttu-id="811d6-135">La proprietà per un trigger di proprietà deve essere una proprietà di dipendenza.</span><span class="sxs-lookup"><span data-stu-id="811d6-135">The property for a property trigger must be a dependency property.</span></span> <span data-ttu-id="811d6-136">Può trattarsi, come spesso accade, di una proprietà di dipendenza di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="811d6-136">It can be (and frequently is) a read-only dependency property.</span></span> <span data-ttu-id="811d6-137">Un buon indicatore del fatto che una proprietà di dipendenza esposta da un controllo sia progettata almeno parzialmente come trigger di proprietà è la presenza del termine "Is" nel nome della proprietà.</span><span class="sxs-lookup"><span data-stu-id="811d6-137">A good indicator for when a dependency property exposed by a control is at least partially designed to be a property trigger is if the property name begins with "Is".</span></span> <span data-ttu-id="811d6-138">Le proprietà con questo nome sono spesso proprietà di dipendenza booleane di sola lettura il cui scenario primario è la segnalazione dello stato di un controllo che può avere conseguenze sull'interfaccia utente in tempo reale, pertanto sono un buon candidato ad essere trigger di proprietà.</span><span class="sxs-lookup"><span data-stu-id="811d6-138">Properties that have this naming are often a read-only Boolean dependency property where the primary scenario for the property is reporting control state that might have consequences to the real-time UI and is thus a property trigger candidate.</span></span>  
  
 <span data-ttu-id="811d6-139">Alcune di queste proprietà hanno anche un evento di modifica proprietà dedicato.</span><span class="sxs-lookup"><span data-stu-id="811d6-139">Some of these properties also have a dedicated property changed event.</span></span> <span data-ttu-id="811d6-140">Ad esempio, la proprietà <xref:System.Windows.UIElement.IsMouseCaptured%2A> ha un evento <xref:System.Windows.UIElement.IsMouseCapturedChanged>di modifica della proprietà.</span><span class="sxs-lookup"><span data-stu-id="811d6-140">For instance, the property <xref:System.Windows.UIElement.IsMouseCaptured%2A> has a property changed event <xref:System.Windows.UIElement.IsMouseCapturedChanged>.</span></span> <span data-ttu-id="811d6-141">La proprietà stessa è di sola lettura, con il relativo valore regolato dal sistema di input e il sistema di input <xref:System.Windows.UIElement.IsMouseCapturedChanged> genera ogni modifica in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="811d6-141">The property itself is read-only, with its value adjusted by the input system, and the input system raises <xref:System.Windows.UIElement.IsMouseCapturedChanged> on each real-time change.</span></span>  
  
 <span data-ttu-id="811d6-142">Rispetto a un vero evento di modifica proprietà, l'uso di un trigger per gestire una modifica di proprietà presenta alcune limitazioni.</span><span class="sxs-lookup"><span data-stu-id="811d6-142">Compared to a true property changed event, using a property trigger to act on a property change has some limitations.</span></span>  
  
 <span data-ttu-id="811d6-143">I trigger di proprietà funzionano in base a una logica di corrispondenza esatta.</span><span class="sxs-lookup"><span data-stu-id="811d6-143">Property triggers work through an exact match logic.</span></span> <span data-ttu-id="811d6-144">Si specificano una proprietà e un valore che indica il particolare valore per cui interviene il trigger. Ad esempio, `<Setter Property="IsMouseCaptured" Value="true"> ... </Setter>`.</span><span class="sxs-lookup"><span data-stu-id="811d6-144">You specify a property and a value that indicates the specific value for which the trigger will act. For instance: `<Setter Property="IsMouseCaptured" Value="true"> ... </Setter>`.</span></span> <span data-ttu-id="811d6-145">A causa di questa limitazione, nella maggior parte dei casi i trigger di proprietà vengono usati per proprietà booleane, o proprietà che accettano un valore di enumerazione dedicato, in cui l'intervallo di valori possibili è sufficientemente gestibile da consentire la definizione di un trigger per ogni caso.</span><span class="sxs-lookup"><span data-stu-id="811d6-145">Because of this limitation, the majority of property trigger usages will be for Boolean properties, or properties that take a dedicated enumeration value, where the possible value range is manageable enough to define a trigger for each case.</span></span> <span data-ttu-id="811d6-146">In alternativa, potrebbero esistere trigger di proprietà solo per valori speciali, ad esempio nel caso che un conteggio di elementi raggiunga lo zero, senza trigger che tengano conto dei casi in cui il valore della proprietà viene di nuovo modificato in un numero diverso da zero (anziché disporre di trigger per tutti i casi, in questo scenario potrebbe essere necessario un gestore eventi di codice o un comportamento predefinito per ripristinare lo stato del trigger quando il valore è diverso da zero).</span><span class="sxs-lookup"><span data-stu-id="811d6-146">Or property triggers might exist only for special values, such as when an items count reaches zero, and there would be no trigger that accounts for the cases when the property value changes away from zero again (instead of triggers for all cases, you might need a code event handler here, or a default behavior that toggles back from the trigger state again when the value is nonzero).</span></span>  
  
 <span data-ttu-id="811d6-147">La sintassi del trigger di proprietà è analoga a un'istruzione "if" nella programmazione.</span><span class="sxs-lookup"><span data-stu-id="811d6-147">The property trigger syntax is analogous to an "if" statement in programming.</span></span> <span data-ttu-id="811d6-148">Se la condizione del trigger è true, viene eseguito il corpo del trigger di proprietà.</span><span class="sxs-lookup"><span data-stu-id="811d6-148">If the trigger condition is true, then the "body" of the property trigger is "executed".</span></span> <span data-ttu-id="811d6-149">Il corpo di un trigger di proprietà non è codice, ma markup.</span><span class="sxs-lookup"><span data-stu-id="811d6-149">The "body" of a property trigger is not code, it is markup.</span></span> <span data-ttu-id="811d6-150">Il markup è limitato all'uso di uno o <xref:System.Windows.Setter> più elementi per impostare altre proprietà dell'oggetto in cui viene applicato lo stile o il modello.</span><span class="sxs-lookup"><span data-stu-id="811d6-150">That markup is limited to using one or more <xref:System.Windows.Setter> elements to set other properties of the object where the style or template is being applied.</span></span>  
  
 <span data-ttu-id="811d6-151">Per compensare la condizione "if" di un trigger di proprietà con un'ampia gamma di valori possibili, è in genere consigliabile impostare lo stesso valore di proprietà su un valore predefinito utilizzando un <xref:System.Windows.Setter>oggetto.</span><span class="sxs-lookup"><span data-stu-id="811d6-151">To offset the "if" condition of a property trigger that has a wide variety of possible values, it is generally advisable to set that same property value to a default by using a <xref:System.Windows.Setter>.</span></span> <span data-ttu-id="811d6-152">In questo modo, <xref:System.Windows.Trigger> il Setter contenuto avrà la precedenza quando la condizione del trigger è true e <xref:System.Windows.Setter> l'oggetto che non si <xref:System.Windows.Trigger> trova all'interno di un oggetto avrà la precedenza quando la condizione del trigger è false.</span><span class="sxs-lookup"><span data-stu-id="811d6-152">This way, the <xref:System.Windows.Trigger> contained setter will have precedence when the trigger condition is true, and the <xref:System.Windows.Setter> that is not within a <xref:System.Windows.Trigger> will have precedence whenever the trigger condition is false.</span></span>  
  
 <span data-ttu-id="811d6-153">I trigger di proprietà sono generalmente adatti negli scenari in cui una o più proprietà di aspetto devono essere modificate, in base allo stato di un'altra proprietà sullo stesso elemento.</span><span class="sxs-lookup"><span data-stu-id="811d6-153">Property triggers are generally appropriate for scenarios where one or more appearance properties should change, based on the state of another property on the same element.</span></span>  
  
 <span data-ttu-id="811d6-154">Per altre informazioni sui trigger di proprietà, vedere [Applicazione di stili e modelli](../controls/styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="811d6-154">To learn more about property triggers, see [Styling and Templating](../controls/styling-and-templating.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="811d6-155">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="811d6-155">See also</span></span>

- [<span data-ttu-id="811d6-156">Cenni preliminari sugli eventi indirizzati</span><span class="sxs-lookup"><span data-stu-id="811d6-156">Routed Events Overview</span></span>](routed-events-overview.md)
- [<span data-ttu-id="811d6-157">Panoramica sulle proprietà di dipendenza</span><span class="sxs-lookup"><span data-stu-id="811d6-157">Dependency Properties Overview</span></span>](dependency-properties-overview.md)

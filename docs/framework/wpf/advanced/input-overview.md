---
title: Cenni preliminari sull'input
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- commands [WPF]
- input [WPF], overview
- keyboard focus [WPF]
- keyboard input [WPF]
- touch events [WPF]
- event routing [WPF]
- touch input [WPF]
- manipulation [WPF]
- logical focus [WPF]
- stylus input [WPF]
- text input [WPF]
- input events [WPF], handling
- WPF [WPF], input overview
- manipulation events [WPF]
- mouse input [WPF]
- mouse capture [WPF]
- focus [WPF]
- mouse position [WPF]
ms.assetid: ee5258b7-6567-415a-9b1c-c0cbe46e79ef
ms.openlocfilehash: 1149a70fc723a82144d13cbd079e3287b52ec4fb
ms.sourcegitcommit: 24a4a8eb6d8cfe7b8549fb6d823076d7c697e0c6
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/23/2019
ms.locfileid: "68401477"
---
# <a name="input-overview"></a><span data-ttu-id="32309-102">Cenni preliminari sull'input</span><span class="sxs-lookup"><span data-stu-id="32309-102">Input Overview</span></span>
<a name="introduction"></a><span data-ttu-id="32309-103">Il [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] sottosistema fornisce un'API potente per ottenere input da un'ampia gamma di dispositivi, tra cui mouse, tastiera, tocco e stilo.</span><span class="sxs-lookup"><span data-stu-id="32309-103">The [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] subsystem provides a powerful API for obtaining input from a variety of devices, including the mouse, keyboard, touch, and stylus.</span></span> <span data-ttu-id="32309-104">Questo argomento descrive i servizi forniti da [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] e illustra l'architettura dei sistemi di input.</span><span class="sxs-lookup"><span data-stu-id="32309-104">This topic describes the services provided by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and explains the architecture of the input systems.</span></span>

<a name="input_api"></a>
## <a name="input-api"></a><span data-ttu-id="32309-105">API di input</span><span class="sxs-lookup"><span data-stu-id="32309-105">Input API</span></span>
 <span data-ttu-id="32309-106">L'esposizione dell'API di input primaria si trova nelle classi degli elementi <xref:System.Windows.UIElement>di <xref:System.Windows.ContentElement>base <xref:System.Windows.FrameworkElement>:, <xref:System.Windows.FrameworkContentElement>, e.</span><span class="sxs-lookup"><span data-stu-id="32309-106">The primary input API exposure is found on the base element classes: <xref:System.Windows.UIElement>, <xref:System.Windows.ContentElement>, <xref:System.Windows.FrameworkElement>, and <xref:System.Windows.FrameworkContentElement>.</span></span>  <span data-ttu-id="32309-107">Per altre informazioni sugli elementi di base, vedere [Cenni preliminari sugli elementi di base](base-elements-overview.md).</span><span class="sxs-lookup"><span data-stu-id="32309-107">For more information about the base elements, see [Base Elements Overview](base-elements-overview.md).</span></span>  <span data-ttu-id="32309-108">Queste classi forniscono funzionalità per gli eventi di input correlati, ad esempio, a pressioni di tasti, pulsanti del mouse, rotellina del mouse, movimento del mouse, gestione dello stato attivo, stato mouse capture e altro.</span><span class="sxs-lookup"><span data-stu-id="32309-108">These classes provide functionality for input events related to key presses, mouse buttons, mouse wheel, mouse movement, focus management, and mouse capture, to name a few.</span></span> <span data-ttu-id="32309-109">Inserendo l'API di input sugli elementi di base, invece di considerare tutti gli eventi di input come un servizio, l'architettura di input consente di originare gli eventi di input da un determinato oggetto nell'interfaccia utente e di supportare uno schema di routing degli eventi in base al quale più di un elemento dispone di un opp ortunity per la gestione di un evento di input.</span><span class="sxs-lookup"><span data-stu-id="32309-109">By placing the input API on the base elements, rather than treating all input events as a service, the input architecture enables the input events to be sourced by a particular object in the UI, and to support an event routing scheme whereby more than one element has an opportunity to handle an input event.</span></span> <span data-ttu-id="32309-110">A molti eventi di input è associata una coppia di eventi.</span><span class="sxs-lookup"><span data-stu-id="32309-110">Many input events have a pair of events associated with them.</span></span>  <span data-ttu-id="32309-111">Ad esempio, l'evento di riduzione della chiave è associato <xref:System.Windows.Input.Keyboard.KeyDown> agli <xref:System.Windows.Input.Keyboard.PreviewKeyDown> eventi e.</span><span class="sxs-lookup"><span data-stu-id="32309-111">For example, the key down event is associated with the <xref:System.Windows.Input.Keyboard.KeyDown> and <xref:System.Windows.Input.Keyboard.PreviewKeyDown> events.</span></span>  <span data-ttu-id="32309-112">La differenza tra questi eventi consiste nel modo in cui ne viene eseguito il routing all'elemento di destinazione.</span><span class="sxs-lookup"><span data-stu-id="32309-112">The difference in these events is in how they are routed to the target element.</span></span>  <span data-ttu-id="32309-113">Gli eventi di anteprima scendono lungo l'albero degli elementi (tunneling), dall'elemento radice all'elemento di destinazione.</span><span class="sxs-lookup"><span data-stu-id="32309-113">Preview events tunnel down the element tree from the root element to the target element.</span></span>  <span data-ttu-id="32309-114">Gli eventi di bubbling invece salgono dall'elemento di destinazione all'elemento radice.</span><span class="sxs-lookup"><span data-stu-id="32309-114">Bubbling events bubble up from the target element to the root element.</span></span>  <span data-ttu-id="32309-115">Il routing degli eventi in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] è illustrato in modo più dettagliato più avanti in questo articolo e nell'articolo [Cenni preliminari sugli eventi indirizzati](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="32309-115">Event routing in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is discussed in more detail later in this overview and in the [Routed Events Overview](routed-events-overview.md).</span></span>

### <a name="keyboard-and-mouse-classes"></a><span data-ttu-id="32309-116">Classi Keyboard e Mouse</span><span class="sxs-lookup"><span data-stu-id="32309-116">Keyboard and Mouse Classes</span></span>
 <span data-ttu-id="32309-117">Oltre all'API di input sulle classi degli elementi di base, la <xref:System.Windows.Input.Keyboard> classe e <xref:System.Windows.Input.Mouse> le classi forniscono un'API aggiuntiva per lavorare con l'input della tastiera e del mouse.</span><span class="sxs-lookup"><span data-stu-id="32309-117">In addition to the input API on the base element classes, the <xref:System.Windows.Input.Keyboard> class and <xref:System.Windows.Input.Mouse> classes provide additional API for working with keyboard and mouse input.</span></span>

 <span data-ttu-id="32309-118">Esempi di API di input nella <xref:System.Windows.Input.Keyboard> classe sono la <xref:System.Windows.Input.Keyboard.Modifiers%2A> proprietà, che restituisce l' <xref:System.Windows.Input.ModifierKeys> oggetto attualmente premuto, e <xref:System.Windows.Input.Keyboard.IsKeyDown%2A> il metodo, che determina se viene premuto un tasto specificato.</span><span class="sxs-lookup"><span data-stu-id="32309-118">Examples of input API on the <xref:System.Windows.Input.Keyboard> class are the <xref:System.Windows.Input.Keyboard.Modifiers%2A> property, which returns the <xref:System.Windows.Input.ModifierKeys> currently pressed, and the <xref:System.Windows.Input.Keyboard.IsKeyDown%2A> method, which determines whether a specified key is pressed.</span></span>

 <span data-ttu-id="32309-119">Nell'esempio seguente viene usato <xref:System.Windows.Input.Keyboard.GetKeyStates%2A> il metodo per determinare se <xref:System.Windows.Input.Key> un oggetto è in stato di inattività.</span><span class="sxs-lookup"><span data-stu-id="32309-119">The following example uses the <xref:System.Windows.Input.Keyboard.GetKeyStates%2A> method to determine if a <xref:System.Windows.Input.Key> is in the down state.</span></span>

 [!code-csharp[keyargssnippetsample#KeyEventArgsKeyBoardGetKeyStates](~/samples/snippets/csharp/VS_Snippets_Wpf/KeyArgsSnippetSample/CSharp/Window1.xaml.cs#keyeventargskeyboardgetkeystates)]
 [!code-vb[keyargssnippetsample#KeyEventArgsKeyBoardGetKeyStates](~/samples/snippets/visualbasic/VS_Snippets_Wpf/KeyArgsSnippetSample/visualbasic/window1.xaml.vb#keyeventargskeyboardgetkeystates)]

 <span data-ttu-id="32309-120">Esempi di API di input nella <xref:System.Windows.Input.Mouse> classe sono <xref:System.Windows.Input.Mouse.MiddleButton%2A>, che ottiene lo stato del pulsante centrale del mouse e <xref:System.Windows.Input.Mouse.DirectlyOver%2A>, che ottiene l'elemento sul quale è attualmente posizionato il puntatore del mouse.</span><span class="sxs-lookup"><span data-stu-id="32309-120">Examples of input API on the <xref:System.Windows.Input.Mouse> class are <xref:System.Windows.Input.Mouse.MiddleButton%2A>, which obtains the state of the middle mouse button, and <xref:System.Windows.Input.Mouse.DirectlyOver%2A>, which gets the element the mouse pointer is currently over.</span></span>

 <span data-ttu-id="32309-121">Nell'esempio seguente viene determinato se <xref:System.Windows.Input.Mouse.LeftButton%2A> l'oggetto sul mouse è <xref:System.Windows.Input.MouseButtonState.Pressed> nello stato.</span><span class="sxs-lookup"><span data-stu-id="32309-121">The following example determines whether the <xref:System.Windows.Input.Mouse.LeftButton%2A> on the mouse is in the <xref:System.Windows.Input.MouseButtonState.Pressed> state.</span></span>

 [!code-csharp[mouserelatedsnippets#MouseRelatedSnippetsGetLeftButtonMouse](~/samples/snippets/csharp/VS_Snippets_Wpf/MouseRelatedSnippets/CSharp/Window1.xaml.cs#mouserelatedsnippetsgetleftbuttonmouse)]
 [!code-vb[mouserelatedsnippets#MouseRelatedSnippetsGetLeftButtonMouse](~/samples/snippets/visualbasic/VS_Snippets_Wpf/MouseRelatedSnippets/visualbasic/window1.xaml.vb#mouserelatedsnippetsgetleftbuttonmouse)]

 <span data-ttu-id="32309-122">Le <xref:System.Windows.Input.Mouse> classi <xref:System.Windows.Input.Keyboard> e sono descritte in modo più dettagliato in questa panoramica.</span><span class="sxs-lookup"><span data-stu-id="32309-122">The <xref:System.Windows.Input.Mouse> and <xref:System.Windows.Input.Keyboard> classes are covered in more detail throughout this overview.</span></span>

### <a name="stylus-input"></a><span data-ttu-id="32309-123">Input dello stilo</span><span class="sxs-lookup"><span data-stu-id="32309-123">Stylus Input</span></span>
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="32309-124">dispone del supporto integrato per <xref:System.Windows.Input.Stylus>il.</span><span class="sxs-lookup"><span data-stu-id="32309-124">has integrated support for the <xref:System.Windows.Input.Stylus>.</span></span>  <span data-ttu-id="32309-125">È un input penna reso popolare [!INCLUDE[TLA#tla_tpc](../../../../includes/tlasharptla-tpc-md.md)]da. <xref:System.Windows.Input.Stylus></span><span class="sxs-lookup"><span data-stu-id="32309-125">The <xref:System.Windows.Input.Stylus> is a pen input made popular by the [!INCLUDE[TLA#tla_tpc](../../../../includes/tlasharptla-tpc-md.md)].</span></span>  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="32309-126">le applicazioni possono trattare lo stilo come mouse usando l'API del mouse, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ma anche un'astrazione del dispositivo stilo che usa un modello simile a quello della tastiera e del mouse.</span><span class="sxs-lookup"><span data-stu-id="32309-126">applications can treat the stylus as a mouse by using the mouse API, but [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] also exposes a stylus device abstraction that use a model similar to the keyboard and mouse.</span></span>  <span data-ttu-id="32309-127">Tutte le API correlate allo stilo contengono la parola "stilo".</span><span class="sxs-lookup"><span data-stu-id="32309-127">All stylus-related APIs contain the word "Stylus".</span></span>

 <span data-ttu-id="32309-128">Dal momento che lo stilo può funzionare come un mouse, le applicazioni che supportano solo l'input del mouse possono comunque ottenere automaticamente un certo livello di supporto dello stilo.</span><span class="sxs-lookup"><span data-stu-id="32309-128">Because the stylus can act as a mouse, applications that support only mouse input can still obtain some level of stylus support automatically.</span></span> <span data-ttu-id="32309-129">Quando lo stilo viene usato in questo modo, l'applicazione può gestire l'evento dello stilo appropriato gestendo l'evento del mouse corrispondente.</span><span class="sxs-lookup"><span data-stu-id="32309-129">When the stylus is used in such a manner, the application is given the opportunity to handle the appropriate stylus event and then handles the corresponding mouse event.</span></span> <span data-ttu-id="32309-130">Inoltre, tramite l'astrazione del dispositivo stilo, sono disponibili anche servizi di livello superiore, come l'input penna.</span><span class="sxs-lookup"><span data-stu-id="32309-130">In addition, higher-level services such as ink input are also available through the stylus device abstraction.</span></span>  <span data-ttu-id="32309-131">Per altre informazioni sull'input penna, vedere [Nozioni di base sull'input penna](getting-started-with-ink.md).</span><span class="sxs-lookup"><span data-stu-id="32309-131">For more information about ink as input, see [Getting Started with Ink](getting-started-with-ink.md).</span></span>

<a name="event_routing"></a>
## <a name="event-routing"></a><span data-ttu-id="32309-132">Routing di eventi</span><span class="sxs-lookup"><span data-stu-id="32309-132">Event Routing</span></span>
 <span data-ttu-id="32309-133">Un <xref:System.Windows.FrameworkElement> oggetto può contenere altri elementi come elementi figlio nel relativo modello di contenuto, formando una struttura ad albero di elementi.</span><span class="sxs-lookup"><span data-stu-id="32309-133">A <xref:System.Windows.FrameworkElement> can contain other elements as child elements in its content model, forming a tree of elements.</span></span>  <span data-ttu-id="32309-134">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] l'elemento padre può partecipare all'input diretto verso i relativi elementi figlio o agli altri discendenti mediante la gestione degli eventi.</span><span class="sxs-lookup"><span data-stu-id="32309-134">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the parent element can participate in input directed to its child elements or other descendants by handing events.</span></span> <span data-ttu-id="32309-135">Ciò risulta particolarmente utile per la creazione di controlli a partire da controlli più piccoli, processo noto come "composizione di controlli" o "composizione".</span><span class="sxs-lookup"><span data-stu-id="32309-135">This is especially useful for building controls out of smaller controls, a process known as "control composition" or "compositing."</span></span> <span data-ttu-id="32309-136">Per altre informazioni sugli alberi degli elementi e sulla loro relazione con le route degli eventi, vedere [Strutture ad albero in WPF](trees-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="32309-136">For more information about element trees and how element trees relate to event routes, see [Trees in WPF](trees-in-wpf.md).</span></span>

 <span data-ttu-id="32309-137">Il routing degli eventi è il processo di inoltro degli eventi a più elementi, in modo che un oggetto o un elemento specifico lungo la route possa offrire una risposta significativa (tramite la gestione) a un evento che potrebbe essere stato originato da un elemento diverso.</span><span class="sxs-lookup"><span data-stu-id="32309-137">Event routing is the process of forwarding events to multiple elements, so that a particular object or element along the route can choose to offer a significant response (through handling) to an event that might have been sourced by a different element.</span></span>  <span data-ttu-id="32309-138">Gli eventi indirizzati usano uno dei tre meccanismi di routing indicati di seguito: diretto, bubbling e tunneling.</span><span class="sxs-lookup"><span data-stu-id="32309-138">Routed events use one of three routing mechanisms: direct, bubbling, and tunneling.</span></span>  <span data-ttu-id="32309-139">Nel routing diretto, l'elemento di origine è l'unico elemento che riceve la notifica e l'evento non viene indirizzato a nessun altro elemento.</span><span class="sxs-lookup"><span data-stu-id="32309-139">In direct routing, the source element is the only element notified, and the event is not routed to any other elements.</span></span> <span data-ttu-id="32309-140">Tuttavia, l'evento indirizzato diretto offre ancora alcune funzionalità aggiuntive che sono presenti solo per gli eventi indirizzati anziché per gli eventi CLR standard.</span><span class="sxs-lookup"><span data-stu-id="32309-140">However, the direct routed event still offers some additional capabilities that are only present for routed events as opposed to standard CLR events.</span></span> <span data-ttu-id="32309-141">Il bubbling viene eseguito procedendo verso l'alto nell'albero degli elementi, notificando innanzitutto l'elemento che ha originato l'evento, quindi l'elemento padre e così via.</span><span class="sxs-lookup"><span data-stu-id="32309-141">Bubbling works up the element tree by first notifying the element that sourced the event, then the parent element, and so on.</span></span>  <span data-ttu-id="32309-142">Il tunneling parte dalla radice dell'albero degli elementi e procede verso il basso, terminando con l'elemento di origine.</span><span class="sxs-lookup"><span data-stu-id="32309-142">Tunneling starts at the root of the element tree and works down, ending with the original source element.</span></span>  <span data-ttu-id="32309-143">Per altre informazioni sugli eventi indirizzati, vedere [Cenni preliminari sugli eventi indirizzati](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="32309-143">For more information about routed events, see [Routed Events Overview](routed-events-overview.md).</span></span>

 <span data-ttu-id="32309-144">Gli eventi di input [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sono in genere a coppie, costituite da un evento di tunneling e un evento di bubbling.</span><span class="sxs-lookup"><span data-stu-id="32309-144">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] input events generally come in pairs that consists of a tunneling event and a bubbling event.</span></span>  <span data-ttu-id="32309-145">Gli eventi di tunneling si distinguono da quelli di bubbling tramite il prefisso "Preview".</span><span class="sxs-lookup"><span data-stu-id="32309-145">Tunneling events are distinguished from bubbling events with the "Preview" prefix.</span></span>  <span data-ttu-id="32309-146">Ad esempio, <xref:System.Windows.Input.Mouse.PreviewMouseMove> è la versione di tunneling di un evento di spostamento <xref:System.Windows.Input.Mouse.MouseMove> del mouse ed è la versione di bubbling di questo evento.</span><span class="sxs-lookup"><span data-stu-id="32309-146">For instance, <xref:System.Windows.Input.Mouse.PreviewMouseMove> is the tunneling version of a mouse move event and <xref:System.Windows.Input.Mouse.MouseMove> is the bubbling version of this event.</span></span> <span data-ttu-id="32309-147">Questa coppia di eventi è una convenzione implementata a livello di elemento e non è una funzionalità intrinseca del sistema di eventi [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32309-147">This event pairing is a convention that is implemented at the element level and is not an inherent capability of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system.</span></span> <span data-ttu-id="32309-148">Per informazioni dettagliate, vedere la sezione Eventi di input WPF in [Cenni preliminari sugli eventi indirizzati](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="32309-148">For details, see the WPF Input Events section in [Routed Events Overview](routed-events-overview.md).</span></span>

<a name="handling_input_events"></a>
## <a name="handling-input-events"></a><span data-ttu-id="32309-149">Gestione degli eventi di input</span><span class="sxs-lookup"><span data-stu-id="32309-149">Handling Input Events</span></span>
 <span data-ttu-id="32309-150">Per ricevere input su un elemento, un gestore eventi deve essere associato a quel particolare evento.</span><span class="sxs-lookup"><span data-stu-id="32309-150">To receive input on an element, an event handler must be associated with that particular event.</span></span>  <span data-ttu-id="32309-151">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] tale associazione è semplice: è sufficiente fare riferimento al nome dell'evento come attributo dell'elemento che rimarrà in ascolto di questo evento.</span><span class="sxs-lookup"><span data-stu-id="32309-151">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] this is straightforward: you reference the name of the event as an attribute of the element that will be listening for this event.</span></span>  <span data-ttu-id="32309-152">Si imposta quindi il valore dell'attributo sul nome del gestore eventi definito, in base a un delegato.</span><span class="sxs-lookup"><span data-stu-id="32309-152">Then, you set the value of the attribute to the name of the event handler that you define, based on a delegate.</span></span>  <span data-ttu-id="32309-153">Il gestore eventi deve essere scritto in codice, ad C# esempio e, può essere incluso in un file code-behind.</span><span class="sxs-lookup"><span data-stu-id="32309-153">The event handler must be written in code such as C# and can be included in a code-behind file.</span></span>

 <span data-ttu-id="32309-154">Gli eventi della tastiera si verificano quando il sistema operativo segnala azioni dei tasti eseguite quando lo stato attivo della tastiera è su un elemento.</span><span class="sxs-lookup"><span data-stu-id="32309-154">Keyboard events occur when the operating system reports key actions that occur while keyboard focus is on an element.</span></span> <span data-ttu-id="32309-155">Gli eventi del mouse e dello stilo rientrano ciascuno in due categorie: eventi che segnalano modifiche nella posizione del puntatore rispetto all'elemento ed eventi che segnalano modifiche nello stato dei pulsanti del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="32309-155">Mouse and stylus events each fall into two categories: events that report changes in pointer position relative to the element, and events that report changes in the state of device buttons.</span></span>

### <a name="keyboard-input-event-example"></a><span data-ttu-id="32309-156">Esempio di evento di input da tastiera</span><span class="sxs-lookup"><span data-stu-id="32309-156">Keyboard Input Event Example</span></span>
 <span data-ttu-id="32309-157">L'esempio seguente illustra una situazione di ascolto della pressione del tasto freccia SINISTRA.</span><span class="sxs-lookup"><span data-stu-id="32309-157">The following example listens for a left arrow key press.</span></span>  <span data-ttu-id="32309-158">Viene <xref:System.Windows.Controls.StackPanel> creato un oggetto che dispone <xref:System.Windows.Controls.Button>di un oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-158">A <xref:System.Windows.Controls.StackPanel> is created that has a <xref:System.Windows.Controls.Button>.</span></span>  <span data-ttu-id="32309-159">Un gestore eventi per restare in attesa della pressione del tasto freccia sinistra viene collegato <xref:System.Windows.Controls.Button> all'istanza.</span><span class="sxs-lookup"><span data-stu-id="32309-159">An event handler to listen for the left arrow key press is attached to the <xref:System.Windows.Controls.Button> instance.</span></span>

 <span data-ttu-id="32309-160">Nella prima sezione dell'esempio vengono creati l' <xref:System.Windows.Controls.StackPanel> oggetto e <xref:System.Windows.Controls.Button> l'oggetto e viene collegato il gestore eventi <xref:System.Windows.UIElement.KeyDown>per l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-160">The first section of the example creates the <xref:System.Windows.Controls.StackPanel> and the <xref:System.Windows.Controls.Button> and attaches the event handler for the <xref:System.Windows.UIElement.KeyDown>.</span></span>

 [!code-xaml[InputOvw#Input_OvwKeyboardExampleXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml#input_ovwkeyboardexamplexaml)]

 [!code-csharp[InputOvw#Input_OvwKeyboardExampleUICodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwkeyboardexampleuicodebehind)]
 [!code-vb[InputOvw#Input_OvwKeyboardExampleUICodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwkeyboardexampleuicodebehind)]

 <span data-ttu-id="32309-161">La seconda sezione è scritta nel codice e definisce il gestore eventi.</span><span class="sxs-lookup"><span data-stu-id="32309-161">The second section is written in code and defines the event handler.</span></span>  <span data-ttu-id="32309-162">Quando viene premuto il tasto freccia sinistra con lo <xref:System.Windows.Controls.Button> stato attivo della tastiera, il gestore viene eseguito <xref:System.Windows.Controls.Control.Background%2A> e il colore <xref:System.Windows.Controls.Button> di viene modificato.</span><span class="sxs-lookup"><span data-stu-id="32309-162">When the left arrow key is pressed and the <xref:System.Windows.Controls.Button> has keyboard focus, the handler runs and the <xref:System.Windows.Controls.Control.Background%2A> color of the <xref:System.Windows.Controls.Button> is changed.</span></span>  <span data-ttu-id="32309-163">Se il tasto è premuto, ma non è il tasto freccia sinistra, il <xref:System.Windows.Controls.Control.Background%2A> colore <xref:System.Windows.Controls.Button> di viene modificato di nuovo sul colore iniziale.</span><span class="sxs-lookup"><span data-stu-id="32309-163">If the key is pressed, but it is not the left arrow key, the <xref:System.Windows.Controls.Control.Background%2A> color of the <xref:System.Windows.Controls.Button> is changed back to its starting color.</span></span>

 [!code-csharp[InputOvw#Input_OvwKeyboardExampleHandlerCodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwkeyboardexamplehandlercodebehind)]
 [!code-vb[InputOvw#Input_OvwKeyboardExampleHandlerCodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwkeyboardexamplehandlercodebehind)]

### <a name="mouse-input-event-example"></a><span data-ttu-id="32309-164">Esempio di evento di input del mouse</span><span class="sxs-lookup"><span data-stu-id="32309-164">Mouse Input Event Example</span></span>
 <span data-ttu-id="32309-165">Nell'esempio seguente, il <xref:System.Windows.Controls.Control.Background%2A> colore di un oggetto <xref:System.Windows.Controls.Button> viene modificato quando <xref:System.Windows.Controls.Button>il puntatore del mouse entra in.</span><span class="sxs-lookup"><span data-stu-id="32309-165">In the following example, the <xref:System.Windows.Controls.Control.Background%2A> color of a <xref:System.Windows.Controls.Button> is changed when the mouse pointer enters the <xref:System.Windows.Controls.Button>.</span></span>  <span data-ttu-id="32309-166">Il <xref:System.Windows.Controls.Control.Background%2A> colore viene ripristinato quando il mouse esce <xref:System.Windows.Controls.Button>dall'oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-166">The <xref:System.Windows.Controls.Control.Background%2A> color is restored when the mouse leaves the <xref:System.Windows.Controls.Button>.</span></span>

 <span data-ttu-id="32309-167">La prima sezione dell' <xref:System.Windows.Controls.StackPanel> esempio crea <xref:System.Windows.Controls.Button> e il controllo e connette i gestori eventi per <xref:System.Windows.Controls.Button>gli <xref:System.Windows.UIElement.MouseEnter> eventi e <xref:System.Windows.UIElement.MouseLeave> a.</span><span class="sxs-lookup"><span data-stu-id="32309-167">The first section of the example creates the <xref:System.Windows.Controls.StackPanel> and the <xref:System.Windows.Controls.Button> control and attaches the event handlers for the <xref:System.Windows.UIElement.MouseEnter> and <xref:System.Windows.UIElement.MouseLeave> events to the <xref:System.Windows.Controls.Button>.</span></span>

 [!code-xaml[InputOvw#Input_OvwMouseExampleXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml#input_ovwmouseexamplexaml)]

 [!code-csharp[InputOvw#Input_OvwMouseExampleUICodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwmouseexampleuicodebehind)]
 [!code-vb[InputOvw#Input_OvwMouseExampleUICodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwmouseexampleuicodebehind)]

 <span data-ttu-id="32309-168">La seconda sezione dell'esempio è scritta nel codice e definisce i gestori eventi.</span><span class="sxs-lookup"><span data-stu-id="32309-168">The second section of the example is written in code and defines the event handlers.</span></span>  <span data-ttu-id="32309-169"><xref:System.Windows.Controls.Button>Quando il mouse entra in, il <xref:System.Windows.Controls.Control.Background%2A> colore di <xref:System.Windows.Controls.Button> viene modificato in <xref:System.Windows.Media.Brushes.SlateGray%2A>.</span><span class="sxs-lookup"><span data-stu-id="32309-169">When the mouse enters the <xref:System.Windows.Controls.Button>, the <xref:System.Windows.Controls.Control.Background%2A> color of the <xref:System.Windows.Controls.Button> is changed to <xref:System.Windows.Media.Brushes.SlateGray%2A>.</span></span>  <span data-ttu-id="32309-170"><xref:System.Windows.Controls.Button>Quando il mouse esce da, il <xref:System.Windows.Controls.Control.Background%2A> colore di <xref:System.Windows.Controls.Button> viene modificato di nuovo in <xref:System.Windows.Media.Brushes.AliceBlue%2A>.</span><span class="sxs-lookup"><span data-stu-id="32309-170">When the mouse leaves the <xref:System.Windows.Controls.Button>, the <xref:System.Windows.Controls.Control.Background%2A> color of the <xref:System.Windows.Controls.Button> is changed back to <xref:System.Windows.Media.Brushes.AliceBlue%2A>.</span></span>

 [!code-csharp[InputOvw#Input_OvwMouseExampleEneterHandler](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwmouseexampleeneterhandler)]
 [!code-vb[InputOvw#Input_OvwMouseExampleEneterHandler](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwmouseexampleeneterhandler)]

 [!code-csharp[InputOvw#Input_OvwMouseExampleLeaveHandler](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwmouseexampleleavehandler)]
 [!code-vb[InputOvw#Input_OvwMouseExampleLeaveHandler](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwmouseexampleleavehandler)]

<a name="text_input"></a>
## <a name="text-input"></a><span data-ttu-id="32309-171">Input di testo</span><span class="sxs-lookup"><span data-stu-id="32309-171">Text Input</span></span>
 <span data-ttu-id="32309-172">L' <xref:System.Windows.ContentElement.TextInput> evento consente di ascoltare l'input di testo in modo indipendente dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="32309-172">The <xref:System.Windows.ContentElement.TextInput> event enables you to listen for text input in a device-independent manner.</span></span> <span data-ttu-id="32309-173">La tastiera è il mezzo principale per l'immissione di testo, ma anche i comandi vocali, il riconoscimento della grafia e altri dispositivi di input possono generare input di testo.</span><span class="sxs-lookup"><span data-stu-id="32309-173">The keyboard is the primary means of text input, but speech, handwriting, and other input devices can generate text input also.</span></span>

 <span data-ttu-id="32309-174">Per l'input da [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tastiera, invia innanzitutto <xref:System.Windows.ContentElement.KeyDown> gli eventi appropriati /. <xref:System.Windows.ContentElement.KeyUp></span><span class="sxs-lookup"><span data-stu-id="32309-174">For keyboard input, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] first sends the appropriate <xref:System.Windows.ContentElement.KeyDown>/<xref:System.Windows.ContentElement.KeyUp> events.</span></span> <span data-ttu-id="32309-175">Se tali eventi non vengono gestiti e la chiave è testuale, anziché una chiave di controllo come frecce direzionali o tasti funzione, viene generato un <xref:System.Windows.ContentElement.TextInput> evento.</span><span class="sxs-lookup"><span data-stu-id="32309-175">If those events are not handled and the key is textual (rather than a control key such as directional arrows or function keys), then a <xref:System.Windows.ContentElement.TextInput> event is raised.</span></span>  <span data-ttu-id="32309-176">Tra <xref:System.Windows.ContentElement.KeyDown> / glieventi<xref:System.Windows.ContentElement.TextInput> e non è sempre presente un semplice mapping uno-a-uno, perché più sequenze di tasti possono generare un singolo carattere di input di testo e singole sequenze di tasti possono generare più caratteri <xref:System.Windows.ContentElement.KeyUp> stringhe.</span><span class="sxs-lookup"><span data-stu-id="32309-176">There is not always a simple one-to-one mapping between <xref:System.Windows.ContentElement.KeyDown>/<xref:System.Windows.ContentElement.KeyUp> and <xref:System.Windows.ContentElement.TextInput> events because multiple keystrokes can generate a single character of text input and single keystrokes can generate multi-character strings.</span></span>  <span data-ttu-id="32309-177">Ciò si verifica soprattutto con lingue come il cinese, il giapponese e il coreano che usano [!INCLUDE[TLA#tla_ime#plural](../../../../includes/tlasharptla-imesharpplural-md.md)] per generare le migliaia di caratteri possibili nei corrispondenti alfabeti.</span><span class="sxs-lookup"><span data-stu-id="32309-177">This is especially true for languages such as Chinese, Japanese, and Korean which use [!INCLUDE[TLA#tla_ime#plural](../../../../includes/tlasharptla-imesharpplural-md.md)] to generate the thousands of possible characters in their corresponding alphabets.</span></span>

 <span data-ttu-id="32309-178">Quando [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Invia un <xref:System.Windows.ContentElement.KeyUp> / evento,<xref:System.Windows.Input.KeyEventArgs.Key%2A> viene impostato su <xref:System.Windows.ContentElement.TextInput> se le sequenze di tasti potrebbero far parte di un evento (ad esempio, se si preme ALT + S). <xref:System.Windows.Input.Key.System?displayProperty=nameWithType> <xref:System.Windows.ContentElement.KeyDown></span><span class="sxs-lookup"><span data-stu-id="32309-178">When [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sends a <xref:System.Windows.ContentElement.KeyUp>/<xref:System.Windows.ContentElement.KeyDown> event, <xref:System.Windows.Input.KeyEventArgs.Key%2A> is set to <xref:System.Windows.Input.Key.System?displayProperty=nameWithType> if the keystrokes could become part of a <xref:System.Windows.ContentElement.TextInput> event (if ALT+S is pressed, for example).</span></span> <span data-ttu-id="32309-179">Ciò consente al codice in <xref:System.Windows.ContentElement.KeyDown> un gestore eventi di <xref:System.Windows.Input.Key.System?displayProperty=nameWithType> verificare la presenza di e, se presente, di lasciare l'elaborazione per il <xref:System.Windows.ContentElement.TextInput> gestore dell'evento generato successivamente.</span><span class="sxs-lookup"><span data-stu-id="32309-179">This allows code in a <xref:System.Windows.ContentElement.KeyDown> event handler to check for <xref:System.Windows.Input.Key.System?displayProperty=nameWithType> and, if found, leave processing for the handler of the subsequently raised <xref:System.Windows.ContentElement.TextInput> event.</span></span> <span data-ttu-id="32309-180">In questi casi, le varie proprietà dell' <xref:System.Windows.Input.TextCompositionEventArgs> argomento possono essere usate per determinare le sequenze di tasti originali.</span><span class="sxs-lookup"><span data-stu-id="32309-180">In these cases, the various properties of the <xref:System.Windows.Input.TextCompositionEventArgs> argument can be used to determine the original keystrokes.</span></span> <span data-ttu-id="32309-181">Analogamente, se [!INCLUDE[TLA2#tla_ime](../../../../includes/tla2sharptla-ime-md.md)] un oggetto è <xref:System.Windows.Input.Key> attivo, ha il <xref:System.Windows.Input.Key.ImeProcessed?displayProperty=nameWithType>valore di <xref:System.Windows.Input.KeyEventArgs.ImeProcessedKey%2A> e assegna la sequenza di tasti originale o le sequenze di tasti.</span><span class="sxs-lookup"><span data-stu-id="32309-181">Similarly, if an [!INCLUDE[TLA2#tla_ime](../../../../includes/tla2sharptla-ime-md.md)] is active, <xref:System.Windows.Input.Key> has the value of <xref:System.Windows.Input.Key.ImeProcessed?displayProperty=nameWithType>, and <xref:System.Windows.Input.KeyEventArgs.ImeProcessedKey%2A> gives the original keystroke or keystrokes.</span></span>

 <span data-ttu-id="32309-182">Nell'esempio seguente viene definito un gestore per <xref:System.Windows.Controls.Primitives.ButtonBase.Click> l'evento e un gestore per <xref:System.Windows.UIElement.KeyDown> l'evento.</span><span class="sxs-lookup"><span data-stu-id="32309-182">The following example defines a handler for the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event and a handler for the <xref:System.Windows.UIElement.KeyDown> event.</span></span>

 <span data-ttu-id="32309-183">Il primo segmento di codice o markup crea l'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="32309-183">The first segment of code or markup creates the user interface.</span></span>

 [!code-xaml[InputOvw#Input_OvwTextInputXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml#input_ovwtextinputxaml)]

 [!code-csharp[InputOvw#Input_OvwTextInputUICodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwtextinputuicodebehind)]
 [!code-vb[InputOvw#Input_OvwTextInputUICodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwtextinputuicodebehind)]

 <span data-ttu-id="32309-184">Il secondo segmento di codice contiene i gestori eventi.</span><span class="sxs-lookup"><span data-stu-id="32309-184">The second segment of code contains the event handlers.</span></span>

 [!code-csharp[InputOvw#Input_OvwTextInputHandlersCodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/InputOvw/CSharp/Page1.xaml.cs#input_ovwtextinputhandlerscodebehind)]
 [!code-vb[InputOvw#Input_OvwTextInputHandlersCodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/InputOvw/VisualBasic/Page1.xaml.vb#input_ovwtextinputhandlerscodebehind)]

 <span data-ttu-id="32309-185">Poiché gli eventi di input compongono la route dell' <xref:System.Windows.Controls.StackPanel> evento, riceve l'input indipendentemente dall'elemento con lo stato attivo della tastiera.</span><span class="sxs-lookup"><span data-stu-id="32309-185">Because input events bubble up the event route, the <xref:System.Windows.Controls.StackPanel> receives the input regardless of which element has keyboard focus.</span></span> <span data-ttu-id="32309-186">Il <xref:System.Windows.Controls.TextBox> controllo viene notificato per primo `OnTextInputKeyDown` e il gestore viene chiamato solo <xref:System.Windows.Controls.TextBox> se l'oggetto non ha gestito l'input.</span><span class="sxs-lookup"><span data-stu-id="32309-186">The <xref:System.Windows.Controls.TextBox> control is notified first and the `OnTextInputKeyDown` handler is called only if the <xref:System.Windows.Controls.TextBox> did not handle the input.</span></span> <span data-ttu-id="32309-187">Se viene <xref:System.Windows.UIElement.PreviewKeyDown> utilizzato l'evento anziché l' <xref:System.Windows.UIElement.KeyDown> evento, il `OnTextInputKeyDown` gestore viene chiamato per primo.</span><span class="sxs-lookup"><span data-stu-id="32309-187">If the <xref:System.Windows.UIElement.PreviewKeyDown> event is used instead of the <xref:System.Windows.UIElement.KeyDown> event, the `OnTextInputKeyDown` handler is called first.</span></span>

 <span data-ttu-id="32309-188">In questo esempio la logica di gestione viene scritta due volte, una per CTRL+O e una per l'evento Click del pulsante.</span><span class="sxs-lookup"><span data-stu-id="32309-188">In this example, the handling logic is written two times—one time for CTRL+O, and again for button's click event.</span></span> <span data-ttu-id="32309-189">È possibile semplificare questa operazione usando i comandi, invece di gestire direttamente gli eventi di input.</span><span class="sxs-lookup"><span data-stu-id="32309-189">This can be simplified by using commands, instead of handling the input events directly.</span></span>  <span data-ttu-id="32309-190">I comandi vengono illustrati in questo articolo e in [Cenni preliminari sull'esecuzione di comandi](commanding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="32309-190">Commands are discussed in this overview and in [Commanding Overview](commanding-overview.md).</span></span>

<a name="touch_and_manipulation"></a>
## <a name="touch-and-manipulation"></a><span data-ttu-id="32309-191">Tocco e manipolazione</span><span class="sxs-lookup"><span data-stu-id="32309-191">Touch and Manipulation</span></span>
 <span data-ttu-id="32309-192">Il nuovo hardware e le nuove API del sistema operativo Windows 7 consentono alle applicazioni di ricevere contemporaneamente input da più tocchi.</span><span class="sxs-lookup"><span data-stu-id="32309-192">New hardware and API in the Windows 7 operating system provide applications the ability to receive input from multiple touches simultaneously.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="32309-193">consente alle applicazioni di rilevare il tocco e rispondere in un modo simile alle risposte ad altri tipi di input, ad esempio di mouse o tastiera, generando eventi quando si verifica il tocco.</span><span class="sxs-lookup"><span data-stu-id="32309-193">enables applications to detect and respond to touch in a manner similar to responding to other input, such as the mouse or keyboard, by raising events when touch occurs.</span></span>

 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="32309-194">espone due tipi di eventi quando si verifica il tocco: eventi di tocco ed eventi di manipolazione.</span><span class="sxs-lookup"><span data-stu-id="32309-194">exposes two types of events when touch occurs: touch events and manipulation events.</span></span> <span data-ttu-id="32309-195">Gli eventi di tocco forniscono dati non elaborati relativi a ogni dito appoggiato su un touchscreen e al suo movimento.</span><span class="sxs-lookup"><span data-stu-id="32309-195">Touch events provide raw data about each finger on a touchscreen and its movement.</span></span> <span data-ttu-id="32309-196">Gli eventi di manipolazione interpretano l'input come azioni specifiche.</span><span class="sxs-lookup"><span data-stu-id="32309-196">Manipulation events interpret the input as certain actions.</span></span> <span data-ttu-id="32309-197">Questa sezione illustra entrambi i tipi di eventi.</span><span class="sxs-lookup"><span data-stu-id="32309-197">Both types of events are discussed in this section.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="32309-198">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="32309-198">Prerequisites</span></span>
 <span data-ttu-id="32309-199">Per sviluppare un'applicazione che risponde al tocco, sono necessari i componenti seguenti.</span><span class="sxs-lookup"><span data-stu-id="32309-199">You need the following components to develop an application that responds to touch.</span></span>

- <span data-ttu-id="32309-200">Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="32309-200">Visual Studio 2010.</span></span>

- <span data-ttu-id="32309-201">Windows 7.</span><span class="sxs-lookup"><span data-stu-id="32309-201">Windows 7.</span></span>

- <span data-ttu-id="32309-202">Un dispositivo, ad esempio un touchscreen, che supporta Windows Touch.</span><span class="sxs-lookup"><span data-stu-id="32309-202">A device, such as a touchscreen, that supports Windows Touch.</span></span>

### <a name="terminology"></a><span data-ttu-id="32309-203">Terminologia</span><span class="sxs-lookup"><span data-stu-id="32309-203">Terminology</span></span>
 <span data-ttu-id="32309-204">Quando si parla di tocco, vengono usati i termini seguenti.</span><span class="sxs-lookup"><span data-stu-id="32309-204">The following terms are used when touch is discussed.</span></span>

- <span data-ttu-id="32309-205">**Tocco** è un tipo di input dell'utente riconosciuto da Windows 7.</span><span class="sxs-lookup"><span data-stu-id="32309-205">**Touch** is a type of user input that is recognized by Windows 7.</span></span> <span data-ttu-id="32309-206">In genere, il tocco viene generato appoggiando le dita su uno schermo sensibile al tocco.</span><span class="sxs-lookup"><span data-stu-id="32309-206">Usually, touch is initiated by putting fingers on a touch-sensitive screen.</span></span> <span data-ttu-id="32309-207">Si noti che dispositivi come i touchpad, diffusi sui computer portatili, non supportano il tocco se il dispositivo si limita a convertire la posizione e il movimento del dito come input del mouse.</span><span class="sxs-lookup"><span data-stu-id="32309-207">Note that devices such as a touchpad that is common on laptop computers do not support touch if the device merely converts the finger's position and movement as mouse input.</span></span>

- <span data-ttu-id="32309-208">**Multitocco** è un tocco che si verifica in più punti contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="32309-208">**Multitouch** is touch that occurs from more than one point simultaneously.</span></span> <span data-ttu-id="32309-209">Windows 7 e [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] supportano l'input multitocco.</span><span class="sxs-lookup"><span data-stu-id="32309-209">Windows 7 and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] supports multitouch.</span></span> <span data-ttu-id="32309-210">Ogni volta che il tocco viene trattato nella documentazione relativa a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], i concetti illustrati si applicano al multitocco.</span><span class="sxs-lookup"><span data-stu-id="32309-210">Whenever touch is discussed in the documentation for [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the concepts apply to multitouch.</span></span>

- <span data-ttu-id="32309-211">Una **manipolazione** si verifica quando il tocco viene interpretato come azione fisica applicata a un oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-211">A **manipulation** occurs when touch is interpreted as a physical action that is applied to an object.</span></span> <span data-ttu-id="32309-212">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] gli eventi di manipolazione interpretano l'input come una manipolazione di traslazione, espansione o rotazione.</span><span class="sxs-lookup"><span data-stu-id="32309-212">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], manipulation events interpret input as a translation, expansion, or rotation manipulation.</span></span>

- <span data-ttu-id="32309-213">Un `touch device` rappresenta un dispositivo che produce un input tocco, ad esempio un singolo dito su un touchscreen.</span><span class="sxs-lookup"><span data-stu-id="32309-213">A `touch device` represents a device that produces touch input, such as a single finger on a touchscreen.</span></span>

### <a name="controls-that-respond-to-touch"></a><span data-ttu-id="32309-214">Controlli che rispondono al tocco</span><span class="sxs-lookup"><span data-stu-id="32309-214">Controls that Respond to Touch</span></span>
 <span data-ttu-id="32309-215">È possibile scorrere i controlli seguenti trascinando un dito attraverso il controllo, se c'è contenuto non visualizzato.</span><span class="sxs-lookup"><span data-stu-id="32309-215">The following controls can be scrolled by dragging a finger across the control if it has content that is scrolled out of view.</span></span>

- <xref:System.Windows.Controls.ComboBox>

- <xref:System.Windows.Controls.ContextMenu>

- <xref:System.Windows.Controls.DataGrid>

- <xref:System.Windows.Controls.ListBox>

- <xref:System.Windows.Controls.ListView>

- <xref:System.Windows.Controls.MenuItem>

- <xref:System.Windows.Controls.TextBox>

- <xref:System.Windows.Controls.ToolBar>

- <xref:System.Windows.Controls.TreeView>

 <span data-ttu-id="32309-216">Definisce la proprietà <xref:System.Windows.Controls.ScrollViewer.PanningMode%2A?displayProperty=nameWithType> associata che consente di specificare se il panning tocco è abilitato orizzontalmente, verticalmente, entrambi o nessuno dei due. <xref:System.Windows.Controls.ScrollViewer></span><span class="sxs-lookup"><span data-stu-id="32309-216">The <xref:System.Windows.Controls.ScrollViewer> defines the <xref:System.Windows.Controls.ScrollViewer.PanningMode%2A?displayProperty=nameWithType> attached property that enables you to specify whether touch panning is enabled horizontally, vertically, both, or neither.</span></span> <span data-ttu-id="32309-217">La <xref:System.Windows.Controls.ScrollViewer.PanningDeceleration%2A?displayProperty=nameWithType> proprietà specifica la velocità con cui lo scorrimento rallenta quando l'utente solleva il dito dal touchscreen.</span><span class="sxs-lookup"><span data-stu-id="32309-217">The <xref:System.Windows.Controls.ScrollViewer.PanningDeceleration%2A?displayProperty=nameWithType> property specifies how quickly the scrolling slows down when the user lifts the finger from the touchscreen.</span></span> <span data-ttu-id="32309-218">La <xref:System.Windows.Controls.ScrollViewer.PanningRatio%2A?displayProperty=nameWithType> proprietà associata specifica il rapporto tra offset di scorrimento e offset di modifica della conversione.</span><span class="sxs-lookup"><span data-stu-id="32309-218">The <xref:System.Windows.Controls.ScrollViewer.PanningRatio%2A?displayProperty=nameWithType> attached property specifies the ratio of scrolling offset to translate manipulation offset.</span></span>

### <a name="touch-events"></a><span data-ttu-id="32309-219">Eventi di tocco</span><span class="sxs-lookup"><span data-stu-id="32309-219">Touch Events</span></span>
 <span data-ttu-id="32309-220">Le classi base, <xref:System.Windows.UIElement> <xref:System.Windows.UIElement3D>, e <xref:System.Windows.ContentElement>, definiscono gli eventi che è possibile sottoscrivere, in modo che l'applicazione risponda al tocco.</span><span class="sxs-lookup"><span data-stu-id="32309-220">The base classes, <xref:System.Windows.UIElement>, <xref:System.Windows.UIElement3D>, and <xref:System.Windows.ContentElement>, define events that you can subscribe to so your application will respond to touch.</span></span> <span data-ttu-id="32309-221">Gli eventi di tocco sono utili quando l'applicazione interpreta il tocco come qualcosa di diverso rispetto alla manipolazione di un oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-221">Touch events are useful when your application interprets touch as something other than manipulating an object.</span></span> <span data-ttu-id="32309-222">Un'applicazione che consente a un utente di disegnare con un dito o con più dita deve ad esempio sottoscrivere gli eventi di tocco.</span><span class="sxs-lookup"><span data-stu-id="32309-222">For example, an application that enables a user to draw with one or more fingers would subscribe to touch events.</span></span>

 <span data-ttu-id="32309-223">Tutte tre le classi definiscono gli eventi seguenti, che hanno un comportamento simile, indipendentemente dalla classe che li definisce.</span><span class="sxs-lookup"><span data-stu-id="32309-223">All three classes define the following events, which behave similarly, regardless of the defining class.</span></span>

- <xref:System.Windows.UIElement.TouchDown>

- <xref:System.Windows.UIElement.TouchMove>

- <xref:System.Windows.UIElement.TouchUp>

- <xref:System.Windows.UIElement.TouchEnter>

- <xref:System.Windows.UIElement.TouchLeave>

- <xref:System.Windows.UIElement.PreviewTouchDown>

- <xref:System.Windows.UIElement.PreviewTouchMove>

- <xref:System.Windows.UIElement.PreviewTouchUp>

- <xref:System.Windows.UIElement.GotTouchCapture>

- <xref:System.Windows.UIElement.LostTouchCapture>

 <span data-ttu-id="32309-224">Analogamente agli eventi di tastiera e mouse, gli eventi di tocco sono eventi indirizzati.</span><span class="sxs-lookup"><span data-stu-id="32309-224">Like keyboard and mouse events, the touch events are routed events.</span></span> <span data-ttu-id="32309-225">Gli eventi che iniziano con `Preview` sono eventi di tunneling e gli eventi che iniziano con `Touch` sono eventi di bubbling.</span><span class="sxs-lookup"><span data-stu-id="32309-225">The events that begin with `Preview` are tunneling events and the events that begin with `Touch` are bubbling events.</span></span> <span data-ttu-id="32309-226">Per altre informazioni sugli eventi indirizzati, vedere [Cenni preliminari sugli eventi indirizzati](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="32309-226">For more information about routed events, see [Routed Events Overview](routed-events-overview.md).</span></span> <span data-ttu-id="32309-227">Quando si gestiscono questi eventi, è possibile ottenere la posizione dell'input, relativa a qualsiasi elemento, chiamando il <xref:System.Windows.Input.TouchEventArgs.GetTouchPoint%2A> metodo o. <xref:System.Windows.Input.TouchEventArgs.GetIntermediateTouchPoints%2A></span><span class="sxs-lookup"><span data-stu-id="32309-227">When you handle these events, you can get the position of the input, relative to any element, by calling the <xref:System.Windows.Input.TouchEventArgs.GetTouchPoint%2A> or <xref:System.Windows.Input.TouchEventArgs.GetIntermediateTouchPoints%2A> method.</span></span>

 <span data-ttu-id="32309-228">Per comprendere l'interazione tra gli eventi di tocco, si consideri lo scenario in cui un utente appoggia un dito su un elemento, muove il dito all'interno dell'elemento e quindi solleva il dito dall'elemento.</span><span class="sxs-lookup"><span data-stu-id="32309-228">To understand the interaction among the touch events, consider the scenario where a user puts one finger on an element, moves the finger in the element, and then lifts the finger from the element.</span></span> <span data-ttu-id="32309-229">La figura seguente illustra l'esecuzione degli eventi di bubbling. Gli eventi di tunneling vengono omessi per maggiore semplicità.</span><span class="sxs-lookup"><span data-stu-id="32309-229">The following illustration shows the execution of the bubbling events (the tunneling events are omitted for simplicity).</span></span>

 <span data-ttu-id="32309-230">![Sequenza di eventi di tocco.](./media/ndp-touchevents.png "NDP_TouchEvents") Eventi di tocco</span><span class="sxs-lookup"><span data-stu-id="32309-230">![The sequence of touch events.](./media/ndp-touchevents.png "NDP_TouchEvents") Touch events</span></span>

 <span data-ttu-id="32309-231">L'elenco seguente descrive la sequenza degli eventi della figura precedente.</span><span class="sxs-lookup"><span data-stu-id="32309-231">The following list describes the sequence of the events in the preceding illustration.</span></span>

1. <span data-ttu-id="32309-232">L' <xref:System.Windows.UIElement.TouchEnter> evento si verifica una volta quando l'utente inserisce un dito sull'elemento.</span><span class="sxs-lookup"><span data-stu-id="32309-232">The <xref:System.Windows.UIElement.TouchEnter> event occurs one time when the user puts a finger on the element.</span></span>

2. <span data-ttu-id="32309-233">L' <xref:System.Windows.UIElement.TouchDown> evento si verifica una volta.</span><span class="sxs-lookup"><span data-stu-id="32309-233">The <xref:System.Windows.UIElement.TouchDown> event occurs one time.</span></span>

3. <span data-ttu-id="32309-234">L' <xref:System.Windows.UIElement.TouchMove> evento si verifica più volte quando l'utente sposta il dito all'interno dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="32309-234">The <xref:System.Windows.UIElement.TouchMove> event occurs multiple times as the user moves the finger within the element.</span></span>

4. <span data-ttu-id="32309-235">L' <xref:System.Windows.UIElement.TouchUp> evento si verifica una volta quando l'utente solleva il dito dall'elemento.</span><span class="sxs-lookup"><span data-stu-id="32309-235">The <xref:System.Windows.UIElement.TouchUp> event occurs one time when the user lifts the finger from the element.</span></span>

5. <span data-ttu-id="32309-236">L' <xref:System.Windows.UIElement.TouchLeave> evento si verifica una volta.</span><span class="sxs-lookup"><span data-stu-id="32309-236">The <xref:System.Windows.UIElement.TouchLeave> event occurs one time.</span></span>

 <span data-ttu-id="32309-237">Quando vengono usate più di due dita, gli eventi si verificano per ogni dito.</span><span class="sxs-lookup"><span data-stu-id="32309-237">When more than two fingers are used, the events occur for each finger.</span></span>

### <a name="manipulation-events"></a><span data-ttu-id="32309-238">Eventi di manipolazione</span><span class="sxs-lookup"><span data-stu-id="32309-238">Manipulation Events</span></span>
 <span data-ttu-id="32309-239">Per i casi in cui un'applicazione consente a un utente di modificare un <xref:System.Windows.UIElement> oggetto, la classe definisce gli eventi di manipolazione.</span><span class="sxs-lookup"><span data-stu-id="32309-239">For cases where an application enables a user to manipulate an object, the <xref:System.Windows.UIElement> class defines manipulation events.</span></span> <span data-ttu-id="32309-240">A differenza degli eventi di tocco che segnalano semplicemente la posizione del tocco, gli eventi di manipolazione segnalano come può essere interpretato l'input.</span><span class="sxs-lookup"><span data-stu-id="32309-240">Unlike the touch events that simply report the position of touch, the manipulation events report how the input can be interpreted.</span></span> <span data-ttu-id="32309-241">Ci sono tre tipi di manipolazioni: traslazione, espansione e rotazione.</span><span class="sxs-lookup"><span data-stu-id="32309-241">There are three types of manipulations, translation, expansion, and rotation.</span></span> <span data-ttu-id="32309-242">L'elenco seguente descrive come richiamare i tre tipi di manipolazioni.</span><span class="sxs-lookup"><span data-stu-id="32309-242">The following list describes how to invoke the three types of manipulations.</span></span>

- <span data-ttu-id="32309-243">Appoggiare un dito su un oggetto e muovere il dito sul touchscreen per richiamare una manipolazione di traslazione.</span><span class="sxs-lookup"><span data-stu-id="32309-243">Put a finger on an object and move the finger across the touchscreen to invoke a translation manipulation.</span></span> <span data-ttu-id="32309-244">Ciò comporta in genere lo spostamento dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-244">This usually moves the object.</span></span>

- <span data-ttu-id="32309-245">Appoggiare due dita su un oggetto e avvicinare o allontanare le dita tra loro per richiamare una manipolazione di espansione.</span><span class="sxs-lookup"><span data-stu-id="32309-245">Put two fingers on an object and move the fingers closer together or farther apart from one another to invoke an expansion manipulation.</span></span> <span data-ttu-id="32309-246">Ciò comporta in genere il ridimensionamento dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-246">This usually resizes the object.</span></span>

- <span data-ttu-id="32309-247">Appoggiare due dita su un oggetto e ruotare le dita una attorno all'altra per richiamare una manipolazione di rotazione.</span><span class="sxs-lookup"><span data-stu-id="32309-247">Put two fingers on an object and rotate the fingers around each other to invoke a rotation manipulation.</span></span> <span data-ttu-id="32309-248">Ciò comporta in genere la rotazione dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-248">This usually rotates the object.</span></span>

 <span data-ttu-id="32309-249">Si possono verificare più tipi di manipolazioni contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="32309-249">More than one type of manipulation can occur simultaneously.</span></span>

 <span data-ttu-id="32309-250">Quando gli oggetti rispondono alle manipolazioni, si può fare in modo che sembrino avere un'inerzia.</span><span class="sxs-lookup"><span data-stu-id="32309-250">When you cause objects to respond to manipulations, you can have the object appear to have inertia.</span></span> <span data-ttu-id="32309-251">In questo modo, gli oggetti possono simulare il mondo fisico.</span><span class="sxs-lookup"><span data-stu-id="32309-251">This can make your objects simulate the physical world.</span></span> <span data-ttu-id="32309-252">Ad esempio se si spinge un libro su un tavolo con sufficiente forza, il libro continuerà a muoversi anche dopo che lo si lascia.</span><span class="sxs-lookup"><span data-stu-id="32309-252">For example, when you push a book across a table, if you push hard enough the book will continue to move after you release it.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="32309-253">consente di simulare questo comportamento generando eventi di manipolazione dopo che le dita dell'utente rilasciano l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-253">enables you to simulate this behavior by raising manipulation events after the user's fingers releases the object.</span></span>

 <span data-ttu-id="32309-254">Per informazioni su come creare un'applicazione che consenta all'utente di spostare, ridimensionare e ruotare un oggetto, vedere [procedura dettagliata: Creazione della prima applicazione](walkthrough-creating-your-first-touch-application.md)touch.</span><span class="sxs-lookup"><span data-stu-id="32309-254">For information about how to create an application that enables the user to move, resize, and rotate an object, see [Walkthrough: Creating Your First Touch Application](walkthrough-creating-your-first-touch-application.md).</span></span>

 <span data-ttu-id="32309-255"><xref:System.Windows.UIElement> Definisce gli eventi di manipolazione seguenti.</span><span class="sxs-lookup"><span data-stu-id="32309-255">The <xref:System.Windows.UIElement> defines the following manipulation events.</span></span>

- <xref:System.Windows.UIElement.ManipulationStarting>

- <xref:System.Windows.UIElement.ManipulationStarted>

- <xref:System.Windows.UIElement.ManipulationDelta>

- <xref:System.Windows.UIElement.ManipulationInertiaStarting>

- <xref:System.Windows.UIElement.ManipulationCompleted>

- <xref:System.Windows.UIElement.ManipulationBoundaryFeedback>

 <span data-ttu-id="32309-256">Per impostazione predefinita, <xref:System.Windows.UIElement> un oggetto non riceve questi eventi di manipolazione.</span><span class="sxs-lookup"><span data-stu-id="32309-256">By default, a <xref:System.Windows.UIElement> does not receive these manipulation events.</span></span> <span data-ttu-id="32309-257">Per ricevere eventi di manipolazione su <xref:System.Windows.UIElement>un oggetto <xref:System.Windows.UIElement.IsManipulationEnabled%2A?displayProperty=nameWithType> , `true`impostare su.</span><span class="sxs-lookup"><span data-stu-id="32309-257">To receive manipulation events on a <xref:System.Windows.UIElement>, set <xref:System.Windows.UIElement.IsManipulationEnabled%2A?displayProperty=nameWithType> to `true`.</span></span>

#### <a name="the-execution-path-of-manipulation-events"></a><span data-ttu-id="32309-258">Percorso di esecuzione degli eventi di manipolazione</span><span class="sxs-lookup"><span data-stu-id="32309-258">The Execution Path of Manipulation Events</span></span>
 <span data-ttu-id="32309-259">Si consideri uno scenario in cui un utente "lancia" un oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-259">Consider a scenario where a user "throws" an object.</span></span> <span data-ttu-id="32309-260">L'utente appoggia un dito sull'oggetto, sposta il dito sul touchscreen per un breve tratto e quindi solleva il dito mentre l'oggetto si sta muovendo.</span><span class="sxs-lookup"><span data-stu-id="32309-260">The user puts a finger on the object, moves the finger across the touchscreen for a short distance, and then lifts the finger while it is moving.</span></span> <span data-ttu-id="32309-261">Il risultato di questa azione è che l'oggetto si muoverà sotto il dito dell'utente e continuerà a muoversi dopo che l'utente ha sollevato il dito.</span><span class="sxs-lookup"><span data-stu-id="32309-261">The result of this is that the object will move under the user's finger and continue to move after the user lifts the finger.</span></span>

 <span data-ttu-id="32309-262">La figura seguente mostra il percorso di esecuzione degli eventi di manipolazione, con informazioni importanti relative a ogni evento.</span><span class="sxs-lookup"><span data-stu-id="32309-262">The following illustration shows the execution path of manipulation events and important information about each event.</span></span>

 <span data-ttu-id="32309-263">![Sequenza di eventi di manipolazione.](./media/ndp-manipulationevents.png "NDP_ManipulationEvents") Eventi di manipolazione</span><span class="sxs-lookup"><span data-stu-id="32309-263">![The sequence of manipulation events.](./media/ndp-manipulationevents.png "NDP_ManipulationEvents") Manipulation events</span></span>

 <span data-ttu-id="32309-264">L'elenco seguente descrive la sequenza degli eventi della figura precedente.</span><span class="sxs-lookup"><span data-stu-id="32309-264">The following list describes the sequence of the events in the preceding illustration.</span></span>

1. <span data-ttu-id="32309-265">L' <xref:System.Windows.UIElement.ManipulationStarting> evento si verifica quando l'utente posiziona un dito sull'oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-265">The <xref:System.Windows.UIElement.ManipulationStarting> event occurs when the user places a finger on the object.</span></span> <span data-ttu-id="32309-266">Tra le altre cose, questo evento consente di impostare la <xref:System.Windows.Input.ManipulationStartingEventArgs.ManipulationContainer%2A> proprietà.</span><span class="sxs-lookup"><span data-stu-id="32309-266">Among other things, this event allows you to set the <xref:System.Windows.Input.ManipulationStartingEventArgs.ManipulationContainer%2A> property.</span></span> <span data-ttu-id="32309-267">Negli eventi successivi la posizione della manipolazione sarà relativa a <xref:System.Windows.Input.ManipulationStartingEventArgs.ManipulationContainer%2A>.</span><span class="sxs-lookup"><span data-stu-id="32309-267">In the subsequent events, the position of the manipulation will be relative to the <xref:System.Windows.Input.ManipulationStartingEventArgs.ManipulationContainer%2A>.</span></span> <span data-ttu-id="32309-268">In eventi diversi da <xref:System.Windows.UIElement.ManipulationStarting>questa proprietà è di sola lettura, pertanto l' <xref:System.Windows.UIElement.ManipulationStarting> evento è l'unica volta in cui è possibile impostare questa proprietà.</span><span class="sxs-lookup"><span data-stu-id="32309-268">In events other than <xref:System.Windows.UIElement.ManipulationStarting>, this property is read-only, so the <xref:System.Windows.UIElement.ManipulationStarting> event is the only time that you can set this property.</span></span>

2. <span data-ttu-id="32309-269">L' <xref:System.Windows.UIElement.ManipulationStarted> evento si verifica successivamente.</span><span class="sxs-lookup"><span data-stu-id="32309-269">The <xref:System.Windows.UIElement.ManipulationStarted> event occurs next.</span></span> <span data-ttu-id="32309-270">Questo evento segnala l'origine della manipolazione.</span><span class="sxs-lookup"><span data-stu-id="32309-270">This event reports the origin of the manipulation.</span></span>

3. <span data-ttu-id="32309-271">L' <xref:System.Windows.UIElement.ManipulationDelta> evento si verifica più volte quando il dito di un utente si sposta su un touchscreen.</span><span class="sxs-lookup"><span data-stu-id="32309-271">The <xref:System.Windows.UIElement.ManipulationDelta> event occurs multiple times as a user's fingers move on a touchscreen.</span></span> <span data-ttu-id="32309-272">La <xref:System.Windows.Input.ManipulationDeltaEventArgs.DeltaManipulation%2A> proprietà<xref:System.Windows.Input.ManipulationDeltaEventArgs> della classe indica se la manipolazione viene interpretata come spostamento, espansione o conversione.</span><span class="sxs-lookup"><span data-stu-id="32309-272">The <xref:System.Windows.Input.ManipulationDeltaEventArgs.DeltaManipulation%2A> property of the <xref:System.Windows.Input.ManipulationDeltaEventArgs> class reports whether the manipulation is interpreted as movement, expansion, or translation.</span></span> <span data-ttu-id="32309-273">In questo contesto si esegue la maggior parte del lavoro di manipolazione di un oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-273">This is where you perform most of the work of manipulating an object.</span></span>

4. <span data-ttu-id="32309-274">L' <xref:System.Windows.UIElement.ManipulationInertiaStarting> evento si verifica quando le dita dell'utente perdono il contatto con l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-274">The <xref:System.Windows.UIElement.ManipulationInertiaStarting> event occurs when the user's fingers lose contact with the object.</span></span> <span data-ttu-id="32309-275">Questo evento consente di specificare la decelerazione delle manipolazioni durante l'inerzia.</span><span class="sxs-lookup"><span data-stu-id="32309-275">This event enables you to specify the deceleration of the manipulations during inertia.</span></span> <span data-ttu-id="32309-276">In questo modo, l'oggetto può emulare spazi fisici o attribuiti diversi, se si desidera.</span><span class="sxs-lookup"><span data-stu-id="32309-276">This is so your object can emulate different physical spaces or attributes if you choose.</span></span> <span data-ttu-id="32309-277">Si supponga, ad esempio, che l'applicazione includa due oggetti che rappresentano elementi nel mondo fisico e che uno di questi sia più pesante dell'altro.</span><span class="sxs-lookup"><span data-stu-id="32309-277">For example, suppose your application has two objects that represent items in the physical world, and one is heavier than the other.</span></span> <span data-ttu-id="32309-278">È possibile fare in modo che l'oggetto più pesante rallenti più velocemente rispetto a quello più leggero.</span><span class="sxs-lookup"><span data-stu-id="32309-278">You can make the heavier object decelerate faster than the lighter object.</span></span>

5. <span data-ttu-id="32309-279">L' <xref:System.Windows.UIElement.ManipulationDelta> evento si verifica più volte durante l'inerzia.</span><span class="sxs-lookup"><span data-stu-id="32309-279">The <xref:System.Windows.UIElement.ManipulationDelta> event occurs multiple times as inertia occurs.</span></span> <span data-ttu-id="32309-280">Si noti che questo evento si verifica quando le dita dell'utente si muovono sul touchscreen e quando [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] simula l'inerzia.</span><span class="sxs-lookup"><span data-stu-id="32309-280">Note that this event occurs when the user's fingers move across the touchscreen and when [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] simulates inertia.</span></span> <span data-ttu-id="32309-281">In altre parole, <xref:System.Windows.UIElement.ManipulationDelta> si verifica prima e dopo <xref:System.Windows.UIElement.ManipulationInertiaStarting> l'evento.</span><span class="sxs-lookup"><span data-stu-id="32309-281">In other words, <xref:System.Windows.UIElement.ManipulationDelta> occurs before and after the <xref:System.Windows.UIElement.ManipulationInertiaStarting> event.</span></span> <span data-ttu-id="32309-282">La <xref:System.Windows.Input.ManipulationDeltaEventArgs.IsInertial%2A?displayProperty=nameWithType> proprietà indica se l' <xref:System.Windows.UIElement.ManipulationDelta> evento si verifica durante l'inerzia, quindi è possibile controllare tale proprietà ed eseguire azioni diverse, a seconda del valore.</span><span class="sxs-lookup"><span data-stu-id="32309-282">The <xref:System.Windows.Input.ManipulationDeltaEventArgs.IsInertial%2A?displayProperty=nameWithType> property reports whether the <xref:System.Windows.UIElement.ManipulationDelta> event occurs during inertia, so you can check that property and perform different actions, depending on its value.</span></span>

6. <span data-ttu-id="32309-283">L' <xref:System.Windows.UIElement.ManipulationCompleted> evento si verifica quando la modifica e qualsiasi inerzia terminano.</span><span class="sxs-lookup"><span data-stu-id="32309-283">The <xref:System.Windows.UIElement.ManipulationCompleted> event occurs when the manipulation and any inertia ends.</span></span> <span data-ttu-id="32309-284">Ovvero, dopo che si sono <xref:System.Windows.UIElement.ManipulationDelta> verificati tutti gli <xref:System.Windows.UIElement.ManipulationCompleted> eventi, l'evento si verifica per segnalare che la manipolazione è stata completata.</span><span class="sxs-lookup"><span data-stu-id="32309-284">That is, after all the <xref:System.Windows.UIElement.ManipulationDelta> events occur, the <xref:System.Windows.UIElement.ManipulationCompleted> event occurs to signal that the manipulation is complete.</span></span>

 <span data-ttu-id="32309-285">Definisce anche l' <xref:System.Windows.UIElement.ManipulationBoundaryFeedback>evento. <xref:System.Windows.UIElement></span><span class="sxs-lookup"><span data-stu-id="32309-285">The <xref:System.Windows.UIElement> also defines the <xref:System.Windows.UIElement.ManipulationBoundaryFeedback> event.</span></span> <span data-ttu-id="32309-286">Questo evento si verifica quando <xref:System.Windows.Input.ManipulationDeltaEventArgs.ReportBoundaryFeedback%2A> viene chiamato il metodo <xref:System.Windows.UIElement.ManipulationDelta> nell'evento.</span><span class="sxs-lookup"><span data-stu-id="32309-286">This event occurs when the <xref:System.Windows.Input.ManipulationDeltaEventArgs.ReportBoundaryFeedback%2A> method is called in the <xref:System.Windows.UIElement.ManipulationDelta> event.</span></span> <span data-ttu-id="32309-287">L' <xref:System.Windows.UIElement.ManipulationBoundaryFeedback> evento consente alle applicazioni o ai componenti di fornire feedback visivo quando un oggetto raggiunge un limite.</span><span class="sxs-lookup"><span data-stu-id="32309-287">The <xref:System.Windows.UIElement.ManipulationBoundaryFeedback> event enables applications or components to provide visual feedback when an object hits a boundary.</span></span> <span data-ttu-id="32309-288">Ad esempio, la <xref:System.Windows.Window> classe gestisce l' <xref:System.Windows.UIElement.ManipulationBoundaryFeedback> evento per fare in modo che la finestra si sposti leggermente quando viene rilevato il bordo.</span><span class="sxs-lookup"><span data-stu-id="32309-288">For example, the <xref:System.Windows.Window> class handles the <xref:System.Windows.UIElement.ManipulationBoundaryFeedback> event to cause the window to slightly move when its edge is encountered.</span></span>

 <span data-ttu-id="32309-289">È possibile annullare la manipolazione chiamando il <xref:System.Windows.Input.ManipulationStartingEventArgs.Cancel%2A> metodo sugli argomenti dell'evento in qualsiasi evento di manipolazione eccetto <xref:System.Windows.UIElement.ManipulationBoundaryFeedback> l'evento.</span><span class="sxs-lookup"><span data-stu-id="32309-289">You can cancel the manipulation by calling the <xref:System.Windows.Input.ManipulationStartingEventArgs.Cancel%2A> method on the event arguments in any manipulation event except <xref:System.Windows.UIElement.ManipulationBoundaryFeedback> event.</span></span> <span data-ttu-id="32309-290">Quando si chiama <xref:System.Windows.Input.ManipulationStartingEventArgs.Cancel%2A>, gli eventi di manipolazione non vengono più generati e si verificano gli eventi del mouse per il tocco.</span><span class="sxs-lookup"><span data-stu-id="32309-290">When you call <xref:System.Windows.Input.ManipulationStartingEventArgs.Cancel%2A>, the manipulation events are no longer raised and mouse events occur for touch.</span></span> <span data-ttu-id="32309-291">La tabella seguente descrive la relazione tra il momento in cui viene annullata la manipolazione e gli eventi del mouse che si verificano.</span><span class="sxs-lookup"><span data-stu-id="32309-291">The following table describes the relationship between the time the manipulation is canceled and the mouse events that occur.</span></span>

|<span data-ttu-id="32309-292">Evento su cui viene chiamato il metodo Cancel</span><span class="sxs-lookup"><span data-stu-id="32309-292">The event that Cancel is called in</span></span>|<span data-ttu-id="32309-293">Eventi del mouse che si verificano per l'input già avvenuto</span><span class="sxs-lookup"><span data-stu-id="32309-293">The mouse events that occur for input that already occurred</span></span>|
|----------------------------------------|-----------------------------------------------------------------|
|<span data-ttu-id="32309-294"><xref:System.Windows.UIElement.ManipulationStarting> e <xref:System.Windows.UIElement.ManipulationStarted></span><span class="sxs-lookup"><span data-stu-id="32309-294"><xref:System.Windows.UIElement.ManipulationStarting> and <xref:System.Windows.UIElement.ManipulationStarted></span></span>|<span data-ttu-id="32309-295">Eventi di pressione del pulsante del mouse.</span><span class="sxs-lookup"><span data-stu-id="32309-295">Mouse down events.</span></span>|
|<xref:System.Windows.UIElement.ManipulationDelta>|<span data-ttu-id="32309-296">Eventi di pressione del pulsante e di spostamento del mouse.</span><span class="sxs-lookup"><span data-stu-id="32309-296">Mouse down and mouse move events.</span></span>|
|<span data-ttu-id="32309-297"><xref:System.Windows.UIElement.ManipulationInertiaStarting> e <xref:System.Windows.UIElement.ManipulationCompleted></span><span class="sxs-lookup"><span data-stu-id="32309-297"><xref:System.Windows.UIElement.ManipulationInertiaStarting> and <xref:System.Windows.UIElement.ManipulationCompleted></span></span>|<span data-ttu-id="32309-298">Eventi di pressione e rilascio del pulsante e di spostamento del mouse.</span><span class="sxs-lookup"><span data-stu-id="32309-298">Mouse down, mouse move, and mouse up events.</span></span>|

 <span data-ttu-id="32309-299">Si noti che se si <xref:System.Windows.Input.ManipulationStartingEventArgs.Cancel%2A> chiama quando la manipolazione è in inerzia, il metodo `false` restituisce e l'input non genera eventi del mouse.</span><span class="sxs-lookup"><span data-stu-id="32309-299">Note that if you call <xref:System.Windows.Input.ManipulationStartingEventArgs.Cancel%2A> when the manipulation is in inertia, the method returns `false` and the input does not raise mouse events.</span></span>

### <a name="the-relationship-between-touch-and-manipulation-events"></a><span data-ttu-id="32309-300">Relazione tra eventi di tocco e di manipolazione</span><span class="sxs-lookup"><span data-stu-id="32309-300">The Relationship Between Touch and Manipulation Events</span></span>
 <span data-ttu-id="32309-301">Un <xref:System.Windows.UIElement> oggetto può sempre ricevere eventi di tocco.</span><span class="sxs-lookup"><span data-stu-id="32309-301">A <xref:System.Windows.UIElement> can always receive touch events.</span></span> <span data-ttu-id="32309-302">Quando la <xref:System.Windows.UIElement.IsManipulationEnabled%2A> proprietà è impostata su `true`, un <xref:System.Windows.UIElement> oggetto può ricevere sia eventi di tocco che di manipolazione.</span><span class="sxs-lookup"><span data-stu-id="32309-302">When the <xref:System.Windows.UIElement.IsManipulationEnabled%2A> property is set to `true`, a <xref:System.Windows.UIElement> can receive both touch and manipulation events.</span></span>  <span data-ttu-id="32309-303">Se l' <xref:System.Windows.UIElement.TouchDown> evento non è gestito (ovvero la <xref:System.Windows.RoutedEventArgs.Handled%2A> proprietà è `false`), la logica di manipolazione acquisisce il tocco sull'elemento e genera gli eventi di manipolazione.</span><span class="sxs-lookup"><span data-stu-id="32309-303">If the <xref:System.Windows.UIElement.TouchDown> event is not handled (that is, the <xref:System.Windows.RoutedEventArgs.Handled%2A> property is `false`), the manipulation logic captures the touch to the element and generates the manipulation events.</span></span> <span data-ttu-id="32309-304">Se la <xref:System.Windows.RoutedEventArgs.Handled%2A> proprietà è impostata su `true` nell' <xref:System.Windows.UIElement.TouchDown> evento, la logica di manipolazione non genera eventi di manipolazione.</span><span class="sxs-lookup"><span data-stu-id="32309-304">If the <xref:System.Windows.RoutedEventArgs.Handled%2A> property is set to `true` in the <xref:System.Windows.UIElement.TouchDown> event, the manipulation logic does not generate manipulation events.</span></span> <span data-ttu-id="32309-305">La figura seguente mostra la relazione tra eventi di tocco ed eventi di manipolazione.</span><span class="sxs-lookup"><span data-stu-id="32309-305">The following illustration shows the relationship between touch events and manipulation events.</span></span>

 <span data-ttu-id="32309-306">![Relazione tra eventi di tocco e di manipolazione](./media/ndp-touchmanipulateevents.png "NDP_TouchManipulateEvents") Eventi di tocco e manipolazione</span><span class="sxs-lookup"><span data-stu-id="32309-306">![Relationship between touch and manipulation events](./media/ndp-touchmanipulateevents.png "NDP_TouchManipulateEvents") Touch and manipulation events</span></span>

 <span data-ttu-id="32309-307">L'elenco seguente descrive la relazione tra gli eventi di tocco e gli eventi di manipolazione illustrati nella figura precedente.</span><span class="sxs-lookup"><span data-stu-id="32309-307">The following list describes the relationship between the touch and manipulation events that is shown in the preceding illustration.</span></span>

- <span data-ttu-id="32309-308">Quando il primo dispositivo touch genera un <xref:System.Windows.UIElement.TouchDown> evento in un <xref:System.Windows.UIElement>, la logica di manipolazione chiama <xref:System.Windows.UIElement.CaptureTouch%2A> il metodo, che genera <xref:System.Windows.UIElement.GotTouchCapture> l'evento.</span><span class="sxs-lookup"><span data-stu-id="32309-308">When the first touch device generates a <xref:System.Windows.UIElement.TouchDown> event on a <xref:System.Windows.UIElement>, the manipulation logic calls the <xref:System.Windows.UIElement.CaptureTouch%2A> method, which generates the <xref:System.Windows.UIElement.GotTouchCapture> event.</span></span>

- <span data-ttu-id="32309-309">Quando si <xref:System.Windows.UIElement.GotTouchCapture> verifica il problema, la logica di <xref:System.Windows.Input.Manipulation.AddManipulator%2A?displayProperty=nameWithType> manipolazione chiama il metodo, <xref:System.Windows.UIElement.ManipulationStarting> che genera l'evento.</span><span class="sxs-lookup"><span data-stu-id="32309-309">When the <xref:System.Windows.UIElement.GotTouchCapture> occurs, the manipulation logic calls the <xref:System.Windows.Input.Manipulation.AddManipulator%2A?displayProperty=nameWithType> method, which generates the <xref:System.Windows.UIElement.ManipulationStarting> event.</span></span>

- <span data-ttu-id="32309-310">Quando si <xref:System.Windows.UIElement.TouchMove> verificano gli eventi, la logica di <xref:System.Windows.UIElement.ManipulationDelta> manipolazione genera gli eventi che <xref:System.Windows.UIElement.ManipulationInertiaStarting> si verificano prima dell'evento.</span><span class="sxs-lookup"><span data-stu-id="32309-310">When the <xref:System.Windows.UIElement.TouchMove> events occur, the manipulation logic generates the <xref:System.Windows.UIElement.ManipulationDelta> events that occur before the <xref:System.Windows.UIElement.ManipulationInertiaStarting> event.</span></span>

- <span data-ttu-id="32309-311">Quando l'ultimo dispositivo touch sull'elemento genera l' <xref:System.Windows.UIElement.TouchUp> evento, la logica di manipolazione genera l' <xref:System.Windows.UIElement.ManipulationInertiaStarting> evento.</span><span class="sxs-lookup"><span data-stu-id="32309-311">When the last touch device on the element raises the <xref:System.Windows.UIElement.TouchUp> event, the manipulation logic generates the <xref:System.Windows.UIElement.ManipulationInertiaStarting> event.</span></span>

<a name="focus"></a>
## <a name="focus"></a><span data-ttu-id="32309-312">Stato attivo</span><span class="sxs-lookup"><span data-stu-id="32309-312">Focus</span></span>
 <span data-ttu-id="32309-313">Ci sono due concetti principali relativi allo stato attivo in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]: lo stato attivo della tastiera e lo stato attivo logico.</span><span class="sxs-lookup"><span data-stu-id="32309-313">There are two main concepts that pertain to focus in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]: keyboard focus and logical focus.</span></span>

### <a name="keyboard-focus"></a><span data-ttu-id="32309-314">Stato attivo della tastiera</span><span class="sxs-lookup"><span data-stu-id="32309-314">Keyboard Focus</span></span>
 <span data-ttu-id="32309-315">Lo stato attivo della tastiera fa riferimento all'elemento che riceve l'input dalla tastiera.</span><span class="sxs-lookup"><span data-stu-id="32309-315">Keyboard focus refers to the element that is receiving keyboard input.</span></span>  <span data-ttu-id="32309-316">Su un desktop può esserci un solo elemento con lo stato attivo della tastiera.</span><span class="sxs-lookup"><span data-stu-id="32309-316">There can be only one element on the whole desktop that has keyboard focus.</span></span>  <span data-ttu-id="32309-317">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]l'elemento con lo stato attivo della tastiera <xref:System.Windows.IInputElement.IsKeyboardFocused%2A> sarà impostato su `true`.</span><span class="sxs-lookup"><span data-stu-id="32309-317">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the element that has keyboard focus will have <xref:System.Windows.IInputElement.IsKeyboardFocused%2A> set to `true`.</span></span>  <span data-ttu-id="32309-318">Il metodo <xref:System.Windows.Input.Keyboard> <xref:System.Windows.Input.Keyboard.FocusedElement%2A> statico restituisce l'elemento che dispone attualmente dello stato attivo della tastiera.</span><span class="sxs-lookup"><span data-stu-id="32309-318">The static <xref:System.Windows.Input.Keyboard> method <xref:System.Windows.Input.Keyboard.FocusedElement%2A> returns the element that currently has keyboard focus.</span></span>

 <span data-ttu-id="32309-319">Lo stato attivo della tastiera può essere ottenuto tramite tabulazione su un elemento o facendo clic sul mouse su determinati elementi, <xref:System.Windows.Controls.TextBox>ad esempio.</span><span class="sxs-lookup"><span data-stu-id="32309-319">Keyboard focus can be obtained by tabbing to an element or by clicking the mouse on certain elements, such as a <xref:System.Windows.Controls.TextBox>.</span></span>  <span data-ttu-id="32309-320">Lo stato attivo della tastiera può essere ottenuto anche a livello <xref:System.Windows.Input.Keyboard.Focus%2A> di programmazione tramite <xref:System.Windows.Input.Keyboard> il metodo nella classe.</span><span class="sxs-lookup"><span data-stu-id="32309-320">Keyboard focus can also be obtained programmatically by using the <xref:System.Windows.Input.Keyboard.Focus%2A> method on the <xref:System.Windows.Input.Keyboard> class.</span></span>  <span data-ttu-id="32309-321"><xref:System.Windows.Input.Keyboard.Focus%2A>tenta di assegnare lo stato attivo della tastiera all'elemento specificato.</span><span class="sxs-lookup"><span data-stu-id="32309-321"><xref:System.Windows.Input.Keyboard.Focus%2A> attempts to give the specified element keyboard focus.</span></span>  <span data-ttu-id="32309-322">L'elemento restituito da <xref:System.Windows.Input.Keyboard.Focus%2A> è l'elemento che dispone attualmente dello stato attivo della tastiera.</span><span class="sxs-lookup"><span data-stu-id="32309-322">The element returned by <xref:System.Windows.Input.Keyboard.Focus%2A> is the element that currently has keyboard focus.</span></span>

 <span data-ttu-id="32309-323">Affinché un elemento ottenga lo stato attivo della tastiera <xref:System.Windows.UIElement.Focusable%2A> , la proprietà <xref:System.Windows.UIElement.IsVisible%2A> e le proprietà devono essere impostate su **true**.</span><span class="sxs-lookup"><span data-stu-id="32309-323">In order for an element to obtain keyboard focus the <xref:System.Windows.UIElement.Focusable%2A> property and the <xref:System.Windows.UIElement.IsVisible%2A> properties must be set to **true**.</span></span>  <span data-ttu-id="32309-324">Alcune classi, ad esempio <xref:System.Windows.Controls.Panel>, hanno <xref:System.Windows.UIElement.Focusable%2A> impostato su `false` per impostazione predefinita; pertanto, potrebbe essere necessario impostare questa proprietà su `true` se si desidera che tale elemento possa ottenere lo stato attivo.</span><span class="sxs-lookup"><span data-stu-id="32309-324">Some classes, such as <xref:System.Windows.Controls.Panel>, have <xref:System.Windows.UIElement.Focusable%2A> set to `false` by default; therefore, you may have to set this property to `true` if you want that element to be able to obtain focus.</span></span>

 <span data-ttu-id="32309-325">Nell'esempio seguente viene <xref:System.Windows.Input.Keyboard.Focus%2A> usato per impostare lo stato attivo <xref:System.Windows.Controls.Button>della tastiera su un oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-325">The following example uses <xref:System.Windows.Input.Keyboard.Focus%2A> to set keyboard focus on a <xref:System.Windows.Controls.Button>.</span></span>  <span data-ttu-id="32309-326">La posizione consigliata per impostare lo stato attivo iniziale in un'applicazione <xref:System.Windows.FrameworkElement.Loaded> è nel gestore eventi.</span><span class="sxs-lookup"><span data-stu-id="32309-326">The recommended place to set initial focus in an application is in the <xref:System.Windows.FrameworkElement.Loaded> event handler.</span></span>

 [!code-csharp[focussample#FocusSampleSetFocus](~/samples/snippets/csharp/VS_Snippets_Wpf/FocusSample/CSharp/Window1.xaml.cs#focussamplesetfocus)]
 [!code-vb[focussample#FocusSampleSetFocus](~/samples/snippets/visualbasic/VS_Snippets_Wpf/FocusSample/visualbasic/window1.xaml.vb#focussamplesetfocus)]

 <span data-ttu-id="32309-327">Per altre informazioni sullo stato attivo della tastiera, vedere [Cenni preliminari sullo stato attivo](focus-overview.md).</span><span class="sxs-lookup"><span data-stu-id="32309-327">For more information about keyboard focus, see [Focus Overview](focus-overview.md).</span></span>

### <a name="logical-focus"></a><span data-ttu-id="32309-328">Stato attivo logico</span><span class="sxs-lookup"><span data-stu-id="32309-328">Logical Focus</span></span>
 <span data-ttu-id="32309-329">Lo <xref:System.Windows.Input.FocusManager.FocusedElement%2A?displayProperty=nameWithType> stato attivo logico fa riferimento a in un ambito di stato attivo.</span><span class="sxs-lookup"><span data-stu-id="32309-329">Logical focus refers to the <xref:System.Windows.Input.FocusManager.FocusedElement%2A?displayProperty=nameWithType> in a focus scope.</span></span>  <span data-ttu-id="32309-330">In un'applicazione possono esserci più elementi con lo stato attivo logico, ma in un determinato ambito di stato attivo può esserci un solo elemento con lo stato attivo logico.</span><span class="sxs-lookup"><span data-stu-id="32309-330">There can be multiple elements that have logical focus in an application, but there may only be one element that has logical focus in a particular focus scope.</span></span>

 <span data-ttu-id="32309-331">Un ambito di stato attivo è un elemento contenitore che tiene traccia <xref:System.Windows.Input.FocusManager.FocusedElement%2A> del all'interno del relativo ambito.</span><span class="sxs-lookup"><span data-stu-id="32309-331">A focus scope is a container element that keeps track of the <xref:System.Windows.Input.FocusManager.FocusedElement%2A> within its scope.</span></span>  <span data-ttu-id="32309-332">Quando lo stato attivo lascia un ambito di stato attivo, l'elemento con lo stato attivo perde lo stato attivo della tastiera, ma mantiene quello logico.</span><span class="sxs-lookup"><span data-stu-id="32309-332">When focus leaves a focus scope, the focused element will lose keyboard focus but will retain logical focus.</span></span>  <span data-ttu-id="32309-333">Quando lo stato attivo torna nell'ambito di stato attivo, l'elemento con lo stato attivo ottiene nuovamente lo stato attivo della tastiera.</span><span class="sxs-lookup"><span data-stu-id="32309-333">When focus returns to the focus scope, the focused element will obtain keyboard focus.</span></span>  <span data-ttu-id="32309-334">In questo modo, lo stato attivo della tastiera può essere passato tra più ambiti, ma l'elemento con lo stato attivo in un determinato ambito rimane sicuramente tale al ritorno dello stato attivo.</span><span class="sxs-lookup"><span data-stu-id="32309-334">This allows for keyboard focus to be changed between multiple focus scopes but insures that the focused element within the focus scope remains the focused element when focus returns.</span></span>

 <span data-ttu-id="32309-335">Un elemento può essere trasformato in un ambito di stato [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] attivo in impostando la <xref:System.Windows.Input.FocusManager.IsFocusScope%2A> <xref:System.Windows.Input.FocusManager> proprietà `true`associata su o nel codice impostando la proprietà associata usando il <xref:System.Windows.Input.FocusManager.SetIsFocusScope%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="32309-335">An element can be turned into a focus scope in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] by setting the <xref:System.Windows.Input.FocusManager> attached property <xref:System.Windows.Input.FocusManager.IsFocusScope%2A> to `true`, or in code by setting the attached property by using the <xref:System.Windows.Input.FocusManager.SetIsFocusScope%2A> method.</span></span>

 <span data-ttu-id="32309-336">Nell'esempio seguente viene <xref:System.Windows.Controls.StackPanel> trasformato in un ambito di stato attivo impostando la <xref:System.Windows.Input.FocusManager.IsFocusScope%2A> proprietà associata.</span><span class="sxs-lookup"><span data-stu-id="32309-336">The following example makes a <xref:System.Windows.Controls.StackPanel> into a focus scope by setting the <xref:System.Windows.Input.FocusManager.IsFocusScope%2A> attached property.</span></span>

 [!code-xaml[MarkupSnippets#MarkupIsFocusScopeXAML](~/samples/snippets/csharp/VS_Snippets_Wpf/MarkupSnippets/CSharp/Window1.xaml#markupisfocusscopexaml)]

 [!code-csharp[FocusSnippets#FocusSetIsFocusScope](~/samples/snippets/csharp/VS_Snippets_Wpf/FocusSnippets/CSharp/Window1.xaml.cs#focussetisfocusscope)]
 [!code-vb[FocusSnippets#FocusSetIsFocusScope](~/samples/snippets/visualbasic/VS_Snippets_Wpf/FocusSnippets/visualbasic/window1.xaml.vb#focussetisfocusscope)]

 <span data-ttu-id="32309-337">Per impostazione [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] predefinita, le classi in cui sono gli <xref:System.Windows.Window>ambiti di stato <xref:System.Windows.Controls.ContextMenu>attivo sono, <xref:System.Windows.Controls.Menu> <xref:System.Windows.Controls.ToolBar>, e.</span><span class="sxs-lookup"><span data-stu-id="32309-337">Classes in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] which are focus scopes by default are <xref:System.Windows.Window>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolBar>, and <xref:System.Windows.Controls.ContextMenu>.</span></span>

 <span data-ttu-id="32309-338">Un elemento con lo stato attivo della tastiera avrà anche lo stato attivo logico per l'ambito di stato attivo a cui appartiene. Pertanto, l'impostazione dello stato attivo su un <xref:System.Windows.Input.Keyboard.Focus%2A> elemento con il <xref:System.Windows.Input.Keyboard> metodo sulla classe o sulle classi degli elementi di base tenterà di assegnare lo stato attivo della tastiera e lo stato attivo logico dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="32309-338">An element that has keyboard focus will also have logical focus for the focus scope it belongs to; therefore, setting focus on an element with the <xref:System.Windows.Input.Keyboard.Focus%2A> method on the <xref:System.Windows.Input.Keyboard> class or the base element classes will attempt to give the element keyboard focus and logical focus.</span></span>

 <span data-ttu-id="32309-339">Per determinare l'elemento con stato attivo in un ambito di <xref:System.Windows.Input.FocusManager.GetFocusedElement%2A>stato attivo, utilizzare.</span><span class="sxs-lookup"><span data-stu-id="32309-339">To determine the focused element in a focus scope, use <xref:System.Windows.Input.FocusManager.GetFocusedElement%2A>.</span></span> <span data-ttu-id="32309-340">Per modificare l'elemento con stato attivo per un ambito di <xref:System.Windows.Input.FocusManager.SetFocusedElement%2A>stato attivo, usare.</span><span class="sxs-lookup"><span data-stu-id="32309-340">To change the focused element for a focus scope, use <xref:System.Windows.Input.FocusManager.SetFocusedElement%2A>.</span></span>

 <span data-ttu-id="32309-341">Per altre informazioni sullo stato attivo logico, vedere [Cenni preliminari sullo stato attivo](focus-overview.md).</span><span class="sxs-lookup"><span data-stu-id="32309-341">For more information about logical focus, see [Focus Overview](focus-overview.md).</span></span>

<a name="mouse_position"></a>
## <a name="mouse-position"></a><span data-ttu-id="32309-342">Posizione del mouse</span><span class="sxs-lookup"><span data-stu-id="32309-342">Mouse Position</span></span>
 <span data-ttu-id="32309-343">L' [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] API di input fornisce informazioni utili per quanto riguarda gli spazi delle coordinate.</span><span class="sxs-lookup"><span data-stu-id="32309-343">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] input API provides helpful information with regard to coordinate spaces.</span></span>  <span data-ttu-id="32309-344">Ad esempio, la coordinata `(0,0)` rappresenta la coordinata superiore sinistra, ma di quale elemento dell'albero?</span><span class="sxs-lookup"><span data-stu-id="32309-344">For example, coordinate `(0,0)` is the upper-left coordinate, but the upper-left of which element in the tree?</span></span> <span data-ttu-id="32309-345">Si tratta dell'elemento che costituisce la destinazione dell'input?</span><span class="sxs-lookup"><span data-stu-id="32309-345">The element that is the input target?</span></span> <span data-ttu-id="32309-346">O dell'elemento a cui è associato il gestore eventi?</span><span class="sxs-lookup"><span data-stu-id="32309-346">The element you attached your event handler to?</span></span> <span data-ttu-id="32309-347">Oppure di qualche altro elemento?</span><span class="sxs-lookup"><span data-stu-id="32309-347">Or something else?</span></span> <span data-ttu-id="32309-348">Per evitare confusione, l' [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] API di input richiede di specificare il frame di riferimento quando si utilizzano le coordinate ottenute tramite il mouse.</span><span class="sxs-lookup"><span data-stu-id="32309-348">To avoid confusion, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] input API requires that you specify your frame of reference when you work with coordinates obtained through the mouse.</span></span> <span data-ttu-id="32309-349">Il <xref:System.Windows.Input.Mouse.GetPosition%2A> metodo restituisce la coordinata del puntatore del mouse relativa all'elemento specificato.</span><span class="sxs-lookup"><span data-stu-id="32309-349">The <xref:System.Windows.Input.Mouse.GetPosition%2A> method returns the coordinate of the mouse pointer relative to the specified element.</span></span>

<a name="mouse_capture"></a>
## <a name="mouse-capture"></a><span data-ttu-id="32309-350">Mouse Capture</span><span class="sxs-lookup"><span data-stu-id="32309-350">Mouse Capture</span></span>
 <span data-ttu-id="32309-351">I dispositivi di tipo mouse hanno una caratteristica modale specifica nota come mouse capture.</span><span class="sxs-lookup"><span data-stu-id="32309-351">Mouse devices specifically hold a modal characteristic known as mouse capture.</span></span> <span data-ttu-id="32309-352">Tale caratteristica viene usata per mantenere uno stato di input di transizione all'avvio di un'operazione di trascinamento della selezione, in modo che le altre operazioni che riguardano la posizione su schermo nominale del puntatore del mouse non vengano necessariamente eseguite.</span><span class="sxs-lookup"><span data-stu-id="32309-352">Mouse capture is used to maintain a transitional input state when a drag-and-drop operation is started, so that other operations involving the nominal on-screen position of the mouse pointer do not necessarily occur.</span></span> <span data-ttu-id="32309-353">Durante il trascinamento, l'utente non può fare clic senza interrompere il trascinamento della selezione, quindi la maggior parte dei segnali di passaggio del mouse risulterà inappropriata quando l'origine del trascinamento mantiene lo stato mouse capture.</span><span class="sxs-lookup"><span data-stu-id="32309-353">During the drag, the user cannot click without aborting the drag-and-drop, which makes most mouseover cues inappropriate while the mouse capture is held by the drag origin.</span></span> <span data-ttu-id="32309-354">Il sistema di input espone le API che possono determinare lo stato di acquisizione del mouse, nonché le API che possono forzare l'acquisizione del mouse su un elemento specifico o cancellare lo stato di acquisizione del mouse.</span><span class="sxs-lookup"><span data-stu-id="32309-354">The input system exposes APIs that can determine mouse capture state, as well as APIs that can force mouse capture to a specific element, or clear mouse capture state.</span></span> <span data-ttu-id="32309-355">Per altre informazioni sulle operazioni di trascinamento della selezione, vedere [Cenni preliminari sul trascinamento della selezione](drag-and-drop-overview.md).</span><span class="sxs-lookup"><span data-stu-id="32309-355">For more information on drag-and-drop operations, see [Drag and Drop Overview](drag-and-drop-overview.md).</span></span>

<a name="commands"></a>
## <a name="commands"></a><span data-ttu-id="32309-356">Comandi</span><span class="sxs-lookup"><span data-stu-id="32309-356">Commands</span></span>
 <span data-ttu-id="32309-357">I comandi consentono la gestione dell'input a un livello più semantico rispetto all'input dei dispositivi.</span><span class="sxs-lookup"><span data-stu-id="32309-357">Commands enable input handling at a more semantic level than device input.</span></span>  <span data-ttu-id="32309-358">I comandi sono semplici direttive, come `Cut`, `Copy`, `Paste` o `Open`.</span><span class="sxs-lookup"><span data-stu-id="32309-358">Commands are simple directives, such as `Cut`, `Copy`, `Paste`, or `Open`.</span></span>  <span data-ttu-id="32309-359">I comandi sono utili per centralizzare la logica di comando.</span><span class="sxs-lookup"><span data-stu-id="32309-359">Commands are useful for centralizing your command logic.</span></span>  <span data-ttu-id="32309-360">È possibile accedere allo stesso comando da un <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolBar>su o tramite un tasto di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="32309-360">The same command might be accessed from a <xref:System.Windows.Controls.Menu>, on a <xref:System.Windows.Controls.ToolBar>, or through a keyboard shortcut.</span></span> <span data-ttu-id="32309-361">I comandi forniscono anche un meccanismo per disabilitare i controlli quando il comando non è più disponibile.</span><span class="sxs-lookup"><span data-stu-id="32309-361">Commands also provide a mechanism for disabling controls when the command becomes unavailable.</span></span>

 <span data-ttu-id="32309-362"><xref:System.Windows.Input.RoutedCommand>è l' [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementazione di <xref:System.Windows.Input.ICommand>.</span><span class="sxs-lookup"><span data-stu-id="32309-362"><xref:System.Windows.Input.RoutedCommand> is the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of <xref:System.Windows.Input.ICommand>.</span></span>  <span data-ttu-id="32309-363">Quando viene <xref:System.Windows.Input.RoutedCommand> eseguito un oggetto, <xref:System.Windows.Input.CommandManager.PreviewExecuted> un oggetto <xref:System.Windows.Input.CommandManager.Executed> e un evento vengono generati sulla destinazione del comando, che eseguono il tunneling e il bubbling attraverso l'albero degli elementi come altro input.</span><span class="sxs-lookup"><span data-stu-id="32309-363">When a <xref:System.Windows.Input.RoutedCommand> is executed, a <xref:System.Windows.Input.CommandManager.PreviewExecuted> and an <xref:System.Windows.Input.CommandManager.Executed> event are raised on the command target, which tunnel and bubble through the element tree like other input.</span></span>  <span data-ttu-id="32309-364">Se non è impostata una destinazione del comando, questa sarà rappresentata dall'elemento con lo stato attivo della tastiera.</span><span class="sxs-lookup"><span data-stu-id="32309-364">If a command target is not set, the element with keyboard focus will be the command target.</span></span>  <span data-ttu-id="32309-365">La logica che esegue il comando è associata a un <xref:System.Windows.Input.CommandBinding>oggetto.</span><span class="sxs-lookup"><span data-stu-id="32309-365">The logic that performs the command is attached to a <xref:System.Windows.Input.CommandBinding>.</span></span>  <span data-ttu-id="32309-366">Quando un <xref:System.Windows.Input.CommandManager.Executed> evento raggiunge un <xref:System.Windows.Input.CommandBinding> oggetto per il <xref:System.Windows.Input.CommandBinding> comando specifico, <xref:System.Windows.Input.ExecutedRoutedEventHandler> viene chiamato il metodo in.</span><span class="sxs-lookup"><span data-stu-id="32309-366">When an <xref:System.Windows.Input.CommandManager.Executed> event reaches a <xref:System.Windows.Input.CommandBinding> for that specific command, the <xref:System.Windows.Input.ExecutedRoutedEventHandler> on the <xref:System.Windows.Input.CommandBinding> is called.</span></span>  <span data-ttu-id="32309-367">Il gestore esegue l'azione del comando.</span><span class="sxs-lookup"><span data-stu-id="32309-367">This handler performs the action of the command.</span></span>

 <span data-ttu-id="32309-368">Per altre informazioni sui comandi, vedere [Cenni preliminari sull'esecuzione di comandi](commanding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="32309-368">For more information on commanding, see [Commanding Overview](commanding-overview.md).</span></span>

 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="32309-369">fornisce una libreria di comandi comuni che comprende, <xref:System.Windows.Input.ApplicationCommands> <xref:System.Windows.Input.MediaCommands>, <xref:System.Windows.Input.ComponentCommands>, <xref:System.Windows.Input.NavigationCommands>e <xref:System.Windows.Documents.EditingCommands>, oppure è possibile definirne di propri.</span><span class="sxs-lookup"><span data-stu-id="32309-369">provides a library of common commands which consists of <xref:System.Windows.Input.ApplicationCommands>, <xref:System.Windows.Input.MediaCommands>, <xref:System.Windows.Input.ComponentCommands>, <xref:System.Windows.Input.NavigationCommands>, and <xref:System.Windows.Documents.EditingCommands>, or you can define your own.</span></span>

 <span data-ttu-id="32309-370">Nell'esempio seguente viene illustrato come configurare un oggetto <xref:System.Windows.Controls.MenuItem> in modo che, quando si fa clic su di esso <xref:System.Windows.Input.ApplicationCommands.Paste%2A> , richiami <xref:System.Windows.Controls.TextBox>il comando nell' <xref:System.Windows.Controls.TextBox> oggetto, supponendo che abbia lo stato attivo della tastiera.</span><span class="sxs-lookup"><span data-stu-id="32309-370">The following example shows how to set up a <xref:System.Windows.Controls.MenuItem> so that when it is clicked it will invoke the <xref:System.Windows.Input.ApplicationCommands.Paste%2A> command on the <xref:System.Windows.Controls.TextBox>, assuming the <xref:System.Windows.Controls.TextBox> has keyboard focus.</span></span>

 [!code-xaml[CommandingOverviewSnippets#CommandingOverviewSimpleCommand](~/samples/snippets/csharp/VS_Snippets_Wpf/CommandingOverviewSnippets/CSharp/Window1.xaml#commandingoverviewsimplecommand)]

 [!code-csharp[CommandingOverviewSnippets#CommandingOverviewCommandTargetCodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/CommandingOverviewSnippets/CSharp/Window1.xaml.cs#commandingoverviewcommandtargetcodebehind)]
 [!code-vb[CommandingOverviewSnippets#CommandingOverviewCommandTargetCodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CommandingOverviewSnippets/visualbasic/window1.xaml.vb#commandingoverviewcommandtargetcodebehind)]

 <span data-ttu-id="32309-371">Per altre informazioni sui comandi in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], vedere [Cenni preliminari sull'esecuzione di comandi](commanding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="32309-371">For more information about commands in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Commanding Overview](commanding-overview.md).</span></span>

<a name="the_input_system_and_base_elements"></a>
## <a name="the-input-system-and-base-elements"></a><span data-ttu-id="32309-372">Sistema di input ed elementi di base</span><span class="sxs-lookup"><span data-stu-id="32309-372">The Input System and Base Elements</span></span>
 <span data-ttu-id="32309-373">Gli eventi di input come gli eventi associati definiti dalle <xref:System.Windows.Input.Mouse>classi <xref:System.Windows.Input.Keyboard>, e <xref:System.Windows.Input.Stylus> vengono generati dal sistema di input e inseriti in una determinata posizione nel modello a oggetti in base all'hit test della struttura ad albero visuale in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="32309-373">Input events such as the attached events defined by the <xref:System.Windows.Input.Mouse>, <xref:System.Windows.Input.Keyboard>, and <xref:System.Windows.Input.Stylus> classes are raised by the input system and injected into a particular position in the object model based on hit testing the visual tree at run time.</span></span>

 <span data-ttu-id="32309-374">Ogni <xref:System.Windows.Input.Mouse>evento che <xref:System.Windows.ContentElement> , <xref:System.Windows.Input.Keyboard>e <xref:System.Windows.Input.Stylus> definiscono come un evento associato viene anche nuovamente esposto dalle classi <xref:System.Windows.UIElement> degli elementi di base e come nuovo evento indirizzato.</span><span class="sxs-lookup"><span data-stu-id="32309-374">Each of the events that <xref:System.Windows.Input.Mouse>, <xref:System.Windows.Input.Keyboard>, and <xref:System.Windows.Input.Stylus> define as an attached event is also re-exposed by the base element classes <xref:System.Windows.UIElement> and <xref:System.Windows.ContentElement> as a new routed event.</span></span> <span data-ttu-id="32309-375">Gli eventi indirizzati degli elementi di base vengono generati da classi che gestiscono l'evento associato originale e riutilizzano i dati dell'evento.</span><span class="sxs-lookup"><span data-stu-id="32309-375">The base element routed events are generated by classes handling the original attached event and reusing the event data.</span></span>

 <span data-ttu-id="32309-376">Quando l'evento di input viene associato a un particolare elemento di origine tramite l'implementazione dell'evento di input dei relativi elementi di base, può essere indirizzato lungo la parte restante della route di un evento basata su una combinazione di oggetti albero logico e struttura ad albero visuale ed essere gestito dal codice dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="32309-376">When the input event becomes associated with a particular source element through its base element input event implementation, it can be routed through the remainder of an event route that is based on a combination of logical and visual tree objects, and be handled by application code.</span></span>  <span data-ttu-id="32309-377">In genere, è più facile gestire questi eventi di input correlati al dispositivo usando gli eventi indirizzati in <xref:System.Windows.UIElement> e <xref:System.Windows.ContentElement>, perché è possibile usare una sintassi del gestore eventi più intuitiva sia in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] che nel codice.</span><span class="sxs-lookup"><span data-stu-id="32309-377">Generally, it is more convenient to handle these device-related input events using the routed events on <xref:System.Windows.UIElement> and <xref:System.Windows.ContentElement>, because you can use more intuitive event handler syntax both in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and in code.</span></span> <span data-ttu-id="32309-378">È possibile scegliere di gestire invece l'evento associato che ha avviato il processo, ma potrebbero sorgere diversi problemi: l'evento associato potrebbe essere contrassegnato come gestito dalla gestione della classe dell'elemento di base, per cui potrebbe essere necessario usare i metodi della funzione di accesso invece della sintassi dell'evento vera e propria per associare i gestori per gli eventi associati.</span><span class="sxs-lookup"><span data-stu-id="32309-378">You could choose to handle the attached event that initiated the process instead, but you would face several issues: the attached event may be marked handled by the base element class handling, and you need to use accessor methods rather than true event syntax in order to attach handlers for attached events.</span></span>

<a name="whats_next"></a>
## <a name="whats-next"></a><span data-ttu-id="32309-379">Argomenti successivi</span><span class="sxs-lookup"><span data-stu-id="32309-379">What's Next</span></span>
 <span data-ttu-id="32309-380">A questo punto si conoscono diverse tecniche per la gestione dell'input in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32309-380">You now have several techniques to handle input in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  <span data-ttu-id="32309-381">Si dovrebbe anche avere una conoscenza più approfondita dei vari tipi di eventi di input e dei meccanismi degli eventi indirizzati usati in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32309-381">You should also have an improved understanding of the various types of input events and the routed event mechanisms used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>

 <span data-ttu-id="32309-382">Sono disponibili risorse aggiuntive che illustrano più dettagliatamente gli elementi del framework [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] e il routing degli eventi.</span><span class="sxs-lookup"><span data-stu-id="32309-382">Additional resources are available that explain [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] framework elements and event routing in more detail.</span></span> <span data-ttu-id="32309-383">Per altre informazioni generali, vedere [Cenni preliminari sull'esecuzione di comandi](commanding-overview.md), [Cenni preliminari sullo stato attivo](focus-overview.md), [Cenni preliminari sugli elementi di base](base-elements-overview.md), [Strutture ad albero in WPF](trees-in-wpf.md) e [Cenni preliminari sugli eventi indirizzati](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="32309-383">See the following overviews for more information, [Commanding Overview](commanding-overview.md), [Focus Overview](focus-overview.md), [Base Elements Overview](base-elements-overview.md), [Trees in WPF](trees-in-wpf.md), and [Routed Events Overview](routed-events-overview.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="32309-384">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="32309-384">See also</span></span>

- [<span data-ttu-id="32309-385">Panoramica sullo stato attivo</span><span class="sxs-lookup"><span data-stu-id="32309-385">Focus Overview</span></span>](focus-overview.md)
- [<span data-ttu-id="32309-386">Panoramica sull'esecuzione di comandi</span><span class="sxs-lookup"><span data-stu-id="32309-386">Commanding Overview</span></span>](commanding-overview.md)
- [<span data-ttu-id="32309-387">Cenni preliminari sugli eventi indirizzati</span><span class="sxs-lookup"><span data-stu-id="32309-387">Routed Events Overview</span></span>](routed-events-overview.md)
- [<span data-ttu-id="32309-388">Cenni preliminari sugli elementi di base</span><span class="sxs-lookup"><span data-stu-id="32309-388">Base Elements Overview</span></span>](base-elements-overview.md)
- [<span data-ttu-id="32309-389">Proprietà</span><span class="sxs-lookup"><span data-stu-id="32309-389">Properties</span></span>](properties-wpf.md)

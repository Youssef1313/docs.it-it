---
title: Limitazioni relative alla serializzazione di XamlWriter.Save
ms.date: 03/30/2017
helpviewer_keywords:
- XamlWriter.Save [WPF], serialization limitations of
- limitations of XamlWriter.Save
- serialization limitations of XamlWriter.Save
ms.assetid: f86acc91-2b67-4039-8555-505734491d36
ms.openlocfilehash: f743f3de505904854be8aab59e9d3ad14ee64581
ms.sourcegitcommit: 4d8efe00f2e5ab42e598aff298d13b8c052d9593
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/16/2019
ms.locfileid: "68238614"
---
# <a name="serialization-limitations-of-xamlwritersave"></a><span data-ttu-id="27dc1-102">Limitazioni relative alla serializzazione di XamlWriter.Save</span><span class="sxs-lookup"><span data-stu-id="27dc1-102">Serialization Limitations of XamlWriter.Save</span></span>
<span data-ttu-id="27dc1-103">L'API <xref:System.Windows.Markup.XamlWriter.Save%2A> può essere utilizzato per serializzare il contenuto di un [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] come un [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] file.</span><span class="sxs-lookup"><span data-stu-id="27dc1-103">The API <xref:System.Windows.Markup.XamlWriter.Save%2A> can be used to serialize the contents of a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application as a [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] file.</span></span> <span data-ttu-id="27dc1-104">Esistono tuttavia limitazioni considerevoli relative alla definizione precisa dell'oggetto della serializzazione.</span><span class="sxs-lookup"><span data-stu-id="27dc1-104">However, there are some notable limitations in exactly what is serialized.</span></span> <span data-ttu-id="27dc1-105">Queste limitazioni vengono esaminate in questo argomento, insieme ad alcune considerazioni generali.</span><span class="sxs-lookup"><span data-stu-id="27dc1-105">These limitations and some general considerations are documented in this topic.</span></span>  

<a name="Run_Time__Not_Design_Time_Representation"></a>   
## <a name="run-time-not-design-time-representation"></a><span data-ttu-id="27dc1-106">Rappresentazione della fase di esecuzione, non della fase di progettazione</span><span class="sxs-lookup"><span data-stu-id="27dc1-106">Run-Time, Not Design-Time Representation</span></span>  
 <span data-ttu-id="27dc1-107">La scelta degli elementi da serializzare tramite una chiamata a <xref:System.Windows.Markup.XamlWriter.Save%2A> è che il risultato sarà una rappresentazione dell'oggetto da serializzare in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="27dc1-107">The basic philosophy of what is serialized by a call to <xref:System.Windows.Markup.XamlWriter.Save%2A> is that the result will be a representation of the object being serialized, at run-time.</span></span> <span data-ttu-id="27dc1-108">Molte proprietà design-time dell'originale [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file potrebbe già essere ottimizzato o perse al momento che il [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] viene caricato come oggetti in memoria e non vengono mantenute quando si chiama <xref:System.Windows.Markup.XamlWriter.Save%2A> da serializzare.</span><span class="sxs-lookup"><span data-stu-id="27dc1-108">Many design-time properties of the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file may already be optimized or lost by the time that the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is loaded as in-memory objects, and are not preserved when you call <xref:System.Windows.Markup.XamlWriter.Save%2A> to serialize.</span></span> <span data-ttu-id="27dc1-109">Il risultato della serializzazione è una rappresentazione efficace dell'albero logico dell'applicazione costruito, ma non necessariamente del file [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] che lo ha prodotto.</span><span class="sxs-lookup"><span data-stu-id="27dc1-109">The serialized result is an effective representation of the constructed logical tree of the application, but not necessarily of the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] that produced it.</span></span> <span data-ttu-id="27dc1-110">Questi problemi rendono estremamente difficile usare la <xref:System.Windows.Markup.XamlWriter.Save%2A> serializzazione come parte di un'estesa [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] nell'area di progettazione.</span><span class="sxs-lookup"><span data-stu-id="27dc1-110">These issues make it extremely difficult to use the <xref:System.Windows.Markup.XamlWriter.Save%2A> serialization as part of an extensive [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] design surface.</span></span>  
  
<a name="Serialization_is_Self_Contained"></a>   
## <a name="serialization-is-self-contained"></a><span data-ttu-id="27dc1-111">La serializzazione è autonoma</span><span class="sxs-lookup"><span data-stu-id="27dc1-111">Serialization is Self-Contained</span></span>  
 <span data-ttu-id="27dc1-112">L'output serializzato di <xref:System.Windows.Markup.XamlWriter.Save%2A> autonomo; tutto ciò che viene serializzata è contenuta all'interno di un [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] singola pagina, con un solo elemento radice e nessun riferimento esterno diverso da [!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="27dc1-112">The serialized output of <xref:System.Windows.Markup.XamlWriter.Save%2A> is self-contained; everything that is serialized is contained inside a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] single page, with a single root element, and no external references other than [!INCLUDE[TLA2#tla_uri#plural](../../../../includes/tla2sharptla-urisharpplural-md.md)].</span></span> <span data-ttu-id="27dc1-113">Ad esempio, se una pagina faceva riferimento a risorse dalle risorse dell'applicazione, queste appariranno come componenti della pagina serializzata.</span><span class="sxs-lookup"><span data-stu-id="27dc1-113">For instance, if your page referenced resources from application resources, these will appear as if they were a component of the page being serialized.</span></span>  
  
<a name="Extension_References_are_Dereferenced"></a>   
## <a name="extension-references-are-dereferenced"></a><span data-ttu-id="27dc1-114">I riferimenti alle estensioni vengono dereferenziati</span><span class="sxs-lookup"><span data-stu-id="27dc1-114">Extension References are Dereferenced</span></span>  
 <span data-ttu-id="27dc1-115">I riferimenti comuni agli oggetti realizzati in diversi formati di estensione di markup, ad esempio `StaticResource` o `Binding`, saranno dereferenziati durante il processo di serializzazione.</span><span class="sxs-lookup"><span data-stu-id="27dc1-115">Common references to objects made by various markup extension formats, such as `StaticResource` or `Binding`, will be dereferenced by the serialization process.</span></span> <span data-ttu-id="27dc1-116">Questi dereferenziazione avviene già al momento in cui gli oggetti in memoria sono stati creati dal runtime dell'applicazione, e il <xref:System.Windows.Markup.XamlWriter.Save%2A> logica non prevede l'originale [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] al ripristino dei riferimenti nell'output serializzato.</span><span class="sxs-lookup"><span data-stu-id="27dc1-116">These were already dereferenced at the time that in-memory objects were created by the application runtime, and the <xref:System.Windows.Markup.XamlWriter.Save%2A> logic does not revisit the original [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] to restore such references to the serialized output.</span></span> <span data-ttu-id="27dc1-117">In questo modo, potenzialmente qualsiasi valore associato ai dati o proveniente dalla risorsa viene bloccato sull'ultimo valore usato dalla rappresentazione in fase di esecuzione, con possibilità solo limitate o indirette di distinguerlo da qualsiasi altro valore impostato localmente.</span><span class="sxs-lookup"><span data-stu-id="27dc1-117">This potentially freezes any databound or resource obtained value to be the value last used by the run-time representation, with only limited or indirect ability to distinguish such a value from any other value set locally.</span></span> <span data-ttu-id="27dc1-118">Anche le immagini vengono serializzate come riferimenti a oggetti in base alle immagini esistenti nel progetto, anziché come riferimenti all'origine effettiva, con la conseguente perdita di qualsiasi nome file o [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] referenziato in origine.</span><span class="sxs-lookup"><span data-stu-id="27dc1-118">Images are also serialized as object references to images as they exist in the project, rather than as original source references, losing whatever filename or [!INCLUDE[TLA2#tla_uri](../../../../includes/tla2sharptla-uri-md.md)] was originally referenced.</span></span> <span data-ttu-id="27dc1-119">Perfino le risorse dichiarate all'interno della stessa pagina sono serializzate nel punto in cui vengono referenziate, anziché essere conservate come chiave della raccolta di risorse.</span><span class="sxs-lookup"><span data-stu-id="27dc1-119">Even resources declared within the same page are seen serialized into the point where they were referenced, rather than being preserved as a key of a resource collection.</span></span>  
  
<a name="Event_Handling_is_Not_Preserved"></a>   
## <a name="event-handling-is-not-preserved"></a><span data-ttu-id="27dc1-120">La gestione degli eventi non viene mantenuta</span><span class="sxs-lookup"><span data-stu-id="27dc1-120">Event Handling is Not Preserved</span></span>  
 <span data-ttu-id="27dc1-121">Quando i gestori eventi aggiunti tramite [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] vengono serializzati, non vengono mantenuti.</span><span class="sxs-lookup"><span data-stu-id="27dc1-121">When event handlers that are added through [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] are serialized, they are not preserved.</span></span> [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] <span data-ttu-id="27dc1-122">senza code-behind (e senza il relativo meccanismo x:Code) non consente di serializzare la logica procedurale di runtime.</span><span class="sxs-lookup"><span data-stu-id="27dc1-122">without code-behind (and also without the related x:Code mechanism) has no way of serializing runtime procedural logic.</span></span> <span data-ttu-id="27dc1-123">Poiché la serializzazione è autonoma e limitata all'albero logico, non sono disponibili funzionalità per l'archiviazione dei gestori eventi.</span><span class="sxs-lookup"><span data-stu-id="27dc1-123">Because serialization is self-contained and limited to the logical tree, there is no facility for storing the event handlers.</span></span> <span data-ttu-id="27dc1-124">Di conseguenza, gli attributi dei gestori eventi, sia l'attributo stesso che il valore della stringa indicante il nome del gestore, vengono rimossi dall'output [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="27dc1-124">As a result, event handler attributes, both the attribute itself and the string value that names the handler, are removed from the output [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
<a name="Realistic_Scenarios_for_Use_of_XAMLWriter_Save"></a>   
## <a name="realistic-scenarios-for-use-of-xamlwritersave"></a><span data-ttu-id="27dc1-125">Scenari realistici per l'uso di XamlWriter.Save</span><span class="sxs-lookup"><span data-stu-id="27dc1-125">Realistic Scenarios for Use of XAMLWriter.Save</span></span>  
 <span data-ttu-id="27dc1-126">Durante le limitazioni elencate di seguito sono piuttosto rilevanti, esistono ancora diversi scenari appropriati per l'uso di <xref:System.Windows.Markup.XamlWriter.Save%2A> per la serializzazione.</span><span class="sxs-lookup"><span data-stu-id="27dc1-126">While the limitations listed here are fairly substantial, there are still several appropriate scenarios for using <xref:System.Windows.Markup.XamlWriter.Save%2A> for serialization.</span></span>  
  
- <span data-ttu-id="27dc1-127">Output vettoriale o grafico: L'output dell'area visualizzabile è utilizzabile per riprodurre lo stesso vettore o la stessa grafica se caricato nuovamente.</span><span class="sxs-lookup"><span data-stu-id="27dc1-127">Vector or graphical output: The output of the rendered area can be used to reproduce the same vector or graphics when reloaded.</span></span>  
  
- <span data-ttu-id="27dc1-128">Documenti di testo e il flusso completi: Testo e tutti i contenimento di elementi di formattazione e l'elemento all'interno di esso viene mantenuto nell'output.</span><span class="sxs-lookup"><span data-stu-id="27dc1-128">Rich text and flow documents: Text and all element formatting and element containment within it is preserved in the output.</span></span> <span data-ttu-id="27dc1-129">Questo può essere utile per i meccanismi che si avvicinano a una funzionalità degli Appunti.</span><span class="sxs-lookup"><span data-stu-id="27dc1-129">This can be useful for mechanisms that approximate a clipboard functionality.</span></span>  
  
- <span data-ttu-id="27dc1-130">Mantenimento dati di oggetti business: Se sono state archiviate dati in elementi personalizzati, ad esempio [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] dei dati, purché gli oggetti business seguono base [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] regole, ad esempio fornire costruttori personalizzati e conversione per valori di proprietà per riferimento, questi oggetti business possono essere trasmessi attraverso la serializzazione.</span><span class="sxs-lookup"><span data-stu-id="27dc1-130">Preserving business object data: If you have stored data in custom elements, such as [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] data, so long as your business objects follow basic [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] rules such as providing custom constructors and conversion for by-reference property values, these business objects can be perpetuated through serialization.</span></span>

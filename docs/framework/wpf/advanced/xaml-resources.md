---
title: Risorse XAML
ms.date: 03/30/2017
helpviewer_keywords:
- reusing resources [WPF]
- resources [WPF], reusing
- reusing commonly defined objects [WPF]
- XAML [WPF], reusing resources
ms.assetid: 91580b89-a0a8-4889-aecb-fddf8e63175f
ms.openlocfilehash: 738a4f397b1677b867126c7bb439b027f951baa0
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/22/2019
ms.locfileid: "69958810"
---
# <a name="xaml-resources"></a><span data-ttu-id="13a9d-102">Risorse XAML</span><span class="sxs-lookup"><span data-stu-id="13a9d-102">XAML Resources</span></span>
<span data-ttu-id="13a9d-103">Una risorsa è un oggetto che è possibile riusare in posizioni diverse all'interno dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="13a9d-103">A resource is an object that can be reused in different places in your application.</span></span> <span data-ttu-id="13a9d-104">Sono esempi di risorse pennelli e stili.</span><span class="sxs-lookup"><span data-stu-id="13a9d-104">Examples of resources include brushes and styles.</span></span> <span data-ttu-id="13a9d-105">In questa panoramica viene descritto come utilizzare le [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]risorse in.</span><span class="sxs-lookup"><span data-stu-id="13a9d-105">This overview describes how to use resources in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="13a9d-106">È anche possibile creare e accedere alle risorse tramite codice o interscambiabile tra codice e [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="13a9d-106">You can also create and access resources by using code, or interchangeably between code and [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span></span> <span data-ttu-id="13a9d-107">Per altre informazioni, vedere [risorse e codice](resources-and-code.md).</span><span class="sxs-lookup"><span data-stu-id="13a9d-107">For more information, see [Resources and Code](resources-and-code.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="13a9d-108">I file di risorse descritti in questo argomento sono diversi dai file di risorse descritti in file di dati, di [contenuto e di risorse dell'applicazione WPF](../app-development/wpf-application-resource-content-and-data-files.md) e diversi dalle risorse incorporate o collegate descritte in [gestire le risorse dell'applicazione (.NET) ](/visualstudio/ide/managing-application-resources-dotnet).</span><span class="sxs-lookup"><span data-stu-id="13a9d-108">The resource files described in this topic are different than the resource files described in [WPF Application Resource, Content, and Data Files](../app-development/wpf-application-resource-content-and-data-files.md) and different than the embedded or linked resources described in [Manage Application Resources (.NET)](/visualstudio/ide/managing-application-resources-dotnet).</span></span>  

<a name="usingresources"></a>   
## <a name="using-resources-in-xaml"></a><span data-ttu-id="13a9d-109">Uso delle risorse in XAML</span><span class="sxs-lookup"><span data-stu-id="13a9d-109">Using Resources in XAML</span></span>  
 <span data-ttu-id="13a9d-110">Nell'esempio seguente viene definito <xref:System.Windows.Media.SolidColorBrush> un come risorsa nell'elemento radice di una pagina.</span><span class="sxs-lookup"><span data-stu-id="13a9d-110">The following example defines a <xref:System.Windows.Media.SolidColorBrush> as a resource on the root element of a page.</span></span> <span data-ttu-id="13a9d-111">L'esempio fa quindi riferimento alla risorsa e la usa per impostare le proprietà di diversi elementi figlio, <xref:System.Windows.Shapes.Ellipse>inclusi un <xref:System.Windows.Controls.TextBlock>oggetto, un <xref:System.Windows.Controls.Button>oggetto e un oggetto.</span><span class="sxs-lookup"><span data-stu-id="13a9d-111">The example then references the resource and uses it to set properties of several child elements, including an <xref:System.Windows.Shapes.Ellipse>, a <xref:System.Windows.Controls.TextBlock>, and a <xref:System.Windows.Controls.Button>.</span></span>  
  
 [!code-xaml[FEResourceSH_snip#XAML](~/samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page1.xaml#xaml)]  
  
 <span data-ttu-id="13a9d-112">Ogni elemento a livello di Framework<xref:System.Windows.FrameworkElement> ( <xref:System.Windows.FrameworkContentElement>o) dispone <xref:System.Windows.FrameworkElement.Resources%2A> di una proprietà, che è la <xref:System.Windows.ResourceDictionary>proprietà che contiene le risorse (come) definite da una risorsa.</span><span class="sxs-lookup"><span data-stu-id="13a9d-112">Every framework-level element (<xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>) has a <xref:System.Windows.FrameworkElement.Resources%2A> property, which is the property that contains the resources (as a <xref:System.Windows.ResourceDictionary>) that a resource defines.</span></span> <span data-ttu-id="13a9d-113">È possibile definire risorse in qualsiasi elemento.</span><span class="sxs-lookup"><span data-stu-id="13a9d-113">You can define resources on any element.</span></span> <span data-ttu-id="13a9d-114">Tuttavia, le risorse vengono spesso definite nell'elemento radice, che è <xref:System.Windows.Controls.Page> nell'esempio.</span><span class="sxs-lookup"><span data-stu-id="13a9d-114">However, resources are most often defined on the root element, which is <xref:System.Windows.Controls.Page> in the example.</span></span>  
  
 <span data-ttu-id="13a9d-115">Ogni risorsa in un dizionario risorse deve avere una chiave univoca.</span><span class="sxs-lookup"><span data-stu-id="13a9d-115">Each resource in a resource dictionary must have a unique key.</span></span> <span data-ttu-id="13a9d-116">Quando si definiscono le risorse nel markup, si assegna la chiave univoca tramite la [direttiva x:Key](../../xaml-services/x-key-directive.md).</span><span class="sxs-lookup"><span data-stu-id="13a9d-116">When you define resources in markup, you assign the unique key through the [x:Key Directive](../../xaml-services/x-key-directive.md).</span></span> <span data-ttu-id="13a9d-117">In genere, la chiave è una stringa. È tuttavia possibile impostare la chiave su altri tipi di oggetto tramite le estensioni di markup appropriate.</span><span class="sxs-lookup"><span data-stu-id="13a9d-117">Typically, the key is a string; however, you can also set it to other object types by using the appropriate markup extensions.</span></span> <span data-ttu-id="13a9d-118">Le chiavi non stringa per le risorse vengono utilizzate da determinate aree [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]di funzionalità in, in particolare per gli stili, le risorse componenti e lo stile dati.</span><span class="sxs-lookup"><span data-stu-id="13a9d-118">Nonstring keys for resources are used by certain feature areas in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], notably for styles, component resources, and data styling.</span></span>  
  
 <span data-ttu-id="13a9d-119">Dopo aver definito una risorsa, è possibile fare riferimento alla risorsa da usare per un valore della proprietà tramite la sintassi dell'estensione di markup della risorsa, specificando il nome della chiave, ad esempio:</span><span class="sxs-lookup"><span data-stu-id="13a9d-119">After you define a resource, you can reference the resource to be used for a property value by using a resource markup extension syntax that specifies the key name, for example:</span></span>  
  
 [!code-xaml[FEResourceSH_snip#KeyNameUsage](~/samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page2.xaml#keynameusage)]  
  
 <span data-ttu-id="13a9d-120">Nell'esempio precedente, quando il [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] caricatore elabora il valore `{StaticResource MyBrush}` per la <xref:System.Windows.Controls.Control.Background%2A> proprietà in <xref:System.Windows.Controls.Button>, la logica di ricerca delle risorse verifica prima di tutto il dizionario <xref:System.Windows.Controls.Button> risorse per l'elemento.</span><span class="sxs-lookup"><span data-stu-id="13a9d-120">In the preceding example, when the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] loader processes the value `{StaticResource MyBrush}` for the <xref:System.Windows.Controls.Control.Background%2A> property on <xref:System.Windows.Controls.Button>, the resource lookup logic first checks the resource dictionary for the <xref:System.Windows.Controls.Button> element.</span></span> <span data-ttu-id="13a9d-121">Se <xref:System.Windows.Controls.Button> non dispone di una definizione della chiave `MyBrush` di risorsa (la relativa raccolta di risorse è vuota), la ricerca successiva controlla l' <xref:System.Windows.Controls.Page>elemento padre di <xref:System.Windows.Controls.Button>, ovvero.</span><span class="sxs-lookup"><span data-stu-id="13a9d-121">If <xref:System.Windows.Controls.Button> does not have a definition of the resource key `MyBrush` (it does not; its resource collection is empty), the lookup next checks the parent element of <xref:System.Windows.Controls.Button>, which is <xref:System.Windows.Controls.Page>.</span></span> <span data-ttu-id="13a9d-122">Pertanto, quando si definisce una risorsa sull' <xref:System.Windows.Controls.Page> elemento radice, tutti gli elementi nell'albero logico <xref:System.Windows.Controls.Page> di possono accedervi ed è possibile riutilizzare la stessa risorsa per impostare il valore di qualsiasi proprietà che accetta l'oggetto <xref:System.Type> che la risorsa rappresenta.</span><span class="sxs-lookup"><span data-stu-id="13a9d-122">Thus, when you define a resource on the <xref:System.Windows.Controls.Page> root element, all the elements in the logical tree of the <xref:System.Windows.Controls.Page> can access it, and you can reuse the same resource for setting the value of any property that accepts the <xref:System.Type> that the resource represents.</span></span> <span data-ttu-id="13a9d-123">Nell'esempio precedente, la stessa `MyBrush` risorsa imposta due proprietà diverse: la <xref:System.Windows.Controls.Control.Background%2A> proprietà di un <xref:System.Windows.Controls.Button>oggetto e la <xref:System.Windows.Shapes.Shape.Fill%2A> proprietà di <xref:System.Windows.Shapes.Rectangle>un oggetto.</span><span class="sxs-lookup"><span data-stu-id="13a9d-123">In the previous example, the same `MyBrush` resource sets two different properties: the <xref:System.Windows.Controls.Control.Background%2A> of a <xref:System.Windows.Controls.Button>, and the <xref:System.Windows.Shapes.Shape.Fill%2A> of a <xref:System.Windows.Shapes.Rectangle>.</span></span>  
  
<a name="staticdynamic"></a>   
## <a name="static-and-dynamic-resources"></a><span data-ttu-id="13a9d-124">Risorse statiche e dinamiche</span><span class="sxs-lookup"><span data-stu-id="13a9d-124">Static and Dynamic Resources</span></span>  
 <span data-ttu-id="13a9d-125">È possibile fare riferimento a una risorsa come risorsa statica o come risorsa dinamica.</span><span class="sxs-lookup"><span data-stu-id="13a9d-125">A resource can be referenced as either a static resource or a dynamic resource.</span></span> <span data-ttu-id="13a9d-126">A tale scopo, è possibile utilizzare l' [estensione di markup StaticResource](staticresource-markup-extension.md) o l' [estensione di markup DynamicResource](dynamicresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="13a9d-126">This is done by using either the [StaticResource Markup Extension](staticresource-markup-extension.md) or the [DynamicResource Markup Extension](dynamicresource-markup-extension.md).</span></span> <span data-ttu-id="13a9d-127">Un'estensione di markup è una funzionalità [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] di che consente di specificare un riferimento a un oggetto mediante l'estensione di markup che elabora la stringa dell'attributo e [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] restituisce l'oggetto a un caricatore.</span><span class="sxs-lookup"><span data-stu-id="13a9d-127">A markup extension is a feature of [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] whereby you can specify an object reference by having the markup extension process the attribute string and return the object to a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] loader.</span></span> <span data-ttu-id="13a9d-128">Per altre informazioni sul comportamento dell'estensione di markup, vedere [estensioni di markup e XAML WPF](markup-extensions-and-wpf-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="13a9d-128">For more information about markup extension behavior, see [Markup Extensions and WPF XAML](markup-extensions-and-wpf-xaml.md).</span></span>  
  
 <span data-ttu-id="13a9d-129">Quando si usa un'estensione di markup, si forniscono in genere uno o più parametri sotto forma di stringa. Questi vengono elaborati da un'estensione di markup specifica, anziché essere valutati nel contesto della proprietà da impostare.</span><span class="sxs-lookup"><span data-stu-id="13a9d-129">When you use a markup extension, you typically provide one or more parameters in string form that are processed by that particular markup extension, rather than being evaluated in the context of the property being set.</span></span> <span data-ttu-id="13a9d-130">L' [estensione di markup StaticResource](staticresource-markup-extension.md) elabora una chiave cercando il valore della chiave in tutti i dizionari risorse disponibili.</span><span class="sxs-lookup"><span data-stu-id="13a9d-130">The [StaticResource Markup Extension](staticresource-markup-extension.md) processes a key by looking up the value for that key in all available resource dictionaries.</span></span> <span data-ttu-id="13a9d-131">Ciò avviene durante il caricamento, che è il momento in cui il processo di caricamento deve assegnare il valore della proprietà che accetta il riferimento di risorsa statica.</span><span class="sxs-lookup"><span data-stu-id="13a9d-131">This happens during loading, which is the point in time when the loading process needs to assign the property value that takes the static resource reference.</span></span> <span data-ttu-id="13a9d-132">L' [estensione di markup DynamicResource](dynamicresource-markup-extension.md) elabora invece una chiave creando un'espressione e tale espressione rimane non valutata fino a quando l'applicazione non viene effettivamente eseguita, a quel punto l'espressione viene valutata e fornisce un valore.</span><span class="sxs-lookup"><span data-stu-id="13a9d-132">The [DynamicResource Markup Extension](dynamicresource-markup-extension.md) instead processes a key by creating an expression, and that expression remains unevaluated until the application is actually run, at which time the expression is evaluated and provides a value.</span></span>  
  
 <span data-ttu-id="13a9d-133">Quando si fa riferimento a una risorsa, la decisione di usare un riferimento di risorsa statica o un riferimento di risorsa dinamica può essere influenzata dalle considerazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="13a9d-133">When you reference a resource, the following considerations can influence whether you use a static resource reference or a dynamic resource reference:</span></span>  
  
- <span data-ttu-id="13a9d-134">La progettazione complessiva della modalità di creazione delle risorse per l'applicazione (per pagina, nell'applicazione, in modo separato [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]in un assembly di solo risorse).</span><span class="sxs-lookup"><span data-stu-id="13a9d-134">The overall design of how you create the resources for your application (per page, in the application, in loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], in a resource only assembly).</span></span>  
  
- <span data-ttu-id="13a9d-135">La funzionalità dell'applicazione: l'aggiornamento delle risorse in tempo reale fa parte dei requisiti dell'applicazione?</span><span class="sxs-lookup"><span data-stu-id="13a9d-135">The application functionality: is updating resources in real time part of your application requirements?</span></span>  
  
- <span data-ttu-id="13a9d-136">Il comportamento di ricerca specifico del tipo di riferimento di risorsa.</span><span class="sxs-lookup"><span data-stu-id="13a9d-136">The respective lookup behavior of that resource reference type.</span></span>  
  
- <span data-ttu-id="13a9d-137">La proprietà o il tipo di risorsa specifico e il comportamento nativo di tale tipo.</span><span class="sxs-lookup"><span data-stu-id="13a9d-137">The particular property or resource type, and the native behavior of those types.</span></span>  
  
### <a name="static-resources"></a><span data-ttu-id="13a9d-138">Risorse statiche</span><span class="sxs-lookup"><span data-stu-id="13a9d-138">Static Resources</span></span>  
 <span data-ttu-id="13a9d-139">I riferimenti di risorse statiche sono ideali nelle circostanze seguenti:</span><span class="sxs-lookup"><span data-stu-id="13a9d-139">Static resource references work best for the following circumstances:</span></span>  
  
- <span data-ttu-id="13a9d-140">In base alla progettazione dell'applicazione, la maggior parte delle risorse è concentrata all'interno di dizionari risorse a livello di pagina o di applicazione.</span><span class="sxs-lookup"><span data-stu-id="13a9d-140">Your application design concentrates most of all of its resources into page or application level resource dictionaries.</span></span> <span data-ttu-id="13a9d-141">I riferimenti di risorse statiche non vengono rivalutati in base al comportamento in runtime, ad esempio quando viene ricaricata una pagina. È quindi possibile ottenere un miglioramento delle prestazioni, dato che si può evitare di creare riferimenti di risorse dinamiche non effettivamente necessari alla progettazione delle risorse e dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="13a9d-141">Static resource references are not reevaluated based on runtime behaviors such as reloading a page, and therefore there can be some performance benefit to avoiding large numbers of dynamic resource references when they are not necessary per your resource and application design.</span></span>  
  
- <span data-ttu-id="13a9d-142">Si sta impostando il valore di una proprietà che non si trova <xref:System.Windows.DependencyObject> in un <xref:System.Windows.Freezable>oggetto o.</span><span class="sxs-lookup"><span data-stu-id="13a9d-142">You are setting the value of a property that is not on a <xref:System.Windows.DependencyObject> or a <xref:System.Windows.Freezable>.</span></span>  
  
- <span data-ttu-id="13a9d-143">Si sta creando un dizionario risorse che verrà compilato in una DLL e incluso nel pacchetto dell'applicazione o condiviso da applicazioni diverse.</span><span class="sxs-lookup"><span data-stu-id="13a9d-143">You are creating a resource dictionary that will be compiled into a DLL, and packaged as part of the application or shared between applications.</span></span>  
  
- <span data-ttu-id="13a9d-144">Si sta creando un tema per un controllo personalizzato e si stanno definendo le risorse da usare all'interno dei temi.</span><span class="sxs-lookup"><span data-stu-id="13a9d-144">You are creating a theme for a custom control, and are defining resources that are used within the themes.</span></span> <span data-ttu-id="13a9d-145">In questo caso, è in genere consigliabile evitare il comportamento di ricerca dei riferimenti di risorse dinamiche. Il comportamento dei riferimenti di risorse statiche è preferibile, perché è prevedibile e autonomo all'interno del tema.</span><span class="sxs-lookup"><span data-stu-id="13a9d-145">For this case, you typically do not want the dynamic resource reference lookup behavior, you instead want the static resource reference behavior so that the lookup is predictable and self-contained to the theme.</span></span> <span data-ttu-id="13a9d-146">Con i riferimenti di risorse dinamiche, anche un riferimento all'interno di un tema non viene valutato fino al runtime. C'è quindi la possibilità che, quando il tema viene applicato, un elemento locale ridefinisca una chiave a cui il tema tenta di fare riferimento e che l'elemento locale intervenga nella ricerca prima del tema stesso.</span><span class="sxs-lookup"><span data-stu-id="13a9d-146">With a dynamic resource reference, even a reference within a theme is left unevaluated until runtime, and there is a chance that when the theme is applied, some local element will redefine a key that your theme is trying to reference, and the local element will fall prior to the theme itself in the lookup.</span></span> <span data-ttu-id="13a9d-147">Se ciò avviene, il tema non si comporterà nel modo previsto.</span><span class="sxs-lookup"><span data-stu-id="13a9d-147">If that happens, your theme will not behave in an expected manner.</span></span>  
  
- <span data-ttu-id="13a9d-148">Si usano risorse per impostare un numero elevato di proprietà di dipendenza.</span><span class="sxs-lookup"><span data-stu-id="13a9d-148">You are using resources to set large numbers of dependency properties.</span></span> <span data-ttu-id="13a9d-149">Per le proprietà di dipendenza la memorizzazione nella cache del valore effettivo viene abilitata dal sistema di proprietà. Pertanto, se si specifica un valore per una proprietà di dipendenza che può essere valutata in fase di caricamento, la proprietà di dipendenza non deve verificare la presenza di un'espressione rivalutata e può restituire l'ultimo valore effettivo.</span><span class="sxs-lookup"><span data-stu-id="13a9d-149">Dependency properties have effective value caching as enabled by the property system, so if you provide a value for a dependency property that can be evaluated at load time, the dependency property does not have to check for a reevaluated expression and can return the last effective value.</span></span> <span data-ttu-id="13a9d-150">Questa tecnica può garantire un miglioramento delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="13a9d-150">This technique can be a performance benefit.</span></span>  
  
- <span data-ttu-id="13a9d-151">Si desidera modificare la risorsa sottostante per tutti i consumer oppure si desidera mantenere istanze scrivibili separate per ogni consumer utilizzando l' [attributo x:Shared](../../xaml-services/x-shared-attribute.md).</span><span class="sxs-lookup"><span data-stu-id="13a9d-151">You want to change the underlying resource for all consumers, or you want to maintain separate writable instances for each consumer by using the [x:Shared Attribute](../../xaml-services/x-shared-attribute.md).</span></span>  
  
#### <a name="static-resource-lookup-behavior"></a><span data-ttu-id="13a9d-152">Comportamento di ricerca delle risorse statiche</span><span class="sxs-lookup"><span data-stu-id="13a9d-152">Static resource lookup behavior</span></span>  
  
1. <span data-ttu-id="13a9d-153">Il processo di ricerca controlla la presenza della chiave richiesta all'interno del dizionario risorse definito dall'elemento che imposta la proprietà.</span><span class="sxs-lookup"><span data-stu-id="13a9d-153">The lookup process checks for the requested key within the resource dictionary defined by the element that sets the property.</span></span>  
  
2. <span data-ttu-id="13a9d-154">Il processo di ricerca attraversa quindi l'albero logico verso l'alto, verso l'elemento padre e il dizionario risorse di questo.</span><span class="sxs-lookup"><span data-stu-id="13a9d-154">The lookup process then traverses the logical tree upward, to the parent element and its resource dictionary.</span></span> <span data-ttu-id="13a9d-155">Il processo continua fino al raggiungimento dell'elemento radice.</span><span class="sxs-lookup"><span data-stu-id="13a9d-155">This continues until the root element is reached.</span></span>  
  
3. <span data-ttu-id="13a9d-156">Vengono quindi controllate le risorse dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="13a9d-156">Next, application resources are checked.</span></span> <span data-ttu-id="13a9d-157">Le risorse dell'applicazione sono le risorse all'interno del dizionario risorse definito dall' <xref:System.Windows.Application> oggetto [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="13a9d-157">Application resources are those resources within the resource dictionary that is defined by the <xref:System.Windows.Application> object for your [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span>  
  
 <span data-ttu-id="13a9d-158">I riferimenti di risorse statiche all'interno di un dizionario risorse devono fare riferimento a una risorsa già definita lessicalmente prima del riferimento.</span><span class="sxs-lookup"><span data-stu-id="13a9d-158">Static resource references from within a resource dictionary must reference a resource that has already been defined lexically before the resource reference.</span></span> <span data-ttu-id="13a9d-159">I riferimenti di risorse statiche non sono in grado di risolvere riferimenti in avanti.</span><span class="sxs-lookup"><span data-stu-id="13a9d-159">Forward references cannot be resolved by a static resource reference.</span></span> <span data-ttu-id="13a9d-160">Per questo motivo, se si usano riferimenti di risorse statiche, è necessario progettare la struttura del dizionario risorse in modo che le risorse destinate all'uso per risorsa vengano definite in corrispondenza o vicino all'inizio del rispettivo dizionario risorse.</span><span class="sxs-lookup"><span data-stu-id="13a9d-160">For this reason, if you use static resource references, you must design your resource dictionary structure such that resources intended for by-resource use are defined at or near the beginning of each respective resource dictionary.</span></span>  
  
 <span data-ttu-id="13a9d-161">La ricerca di risorse statiche può estendersi nei temi o nelle risorse di sistema, ma questa operazione [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] è supportata solo perché il caricatore rinvia la richiesta.</span><span class="sxs-lookup"><span data-stu-id="13a9d-161">Static resource lookup can extend into themes, or into system resources, but this is supported only because the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] loader defers the request.</span></span> <span data-ttu-id="13a9d-162">Il rinvio è necessario per consentire la corretta applicazione del tema di runtime all'applicazione al momento del caricamento della pagina.</span><span class="sxs-lookup"><span data-stu-id="13a9d-162">The deferral is necessary so that the runtime theme at the time the page loads applies properly to the application.</span></span> <span data-ttu-id="13a9d-163">Non è tuttavia consigliabile usare riferimenti di risorse statiche a chiavi che notoriamente esistono solo all'interno di temi o come risorse di sistema.</span><span class="sxs-lookup"><span data-stu-id="13a9d-163">However, static resource references to keys that are known to only exist in themes or as system resources are not recommended.</span></span> <span data-ttu-id="13a9d-164">Questo avviene perché tali riferimenti non vengono rivalutati se l'utente modifica il tema in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="13a9d-164">This is because such references are not reevaluated if the theme is changed by the user in realtime.</span></span> <span data-ttu-id="13a9d-165">Un riferimento di risorsa dinamica è più affidabile se si richiedono risorse di tema o di sistema.</span><span class="sxs-lookup"><span data-stu-id="13a9d-165">A dynamic resource reference is more reliable when you request theme or system resources.</span></span> <span data-ttu-id="13a9d-166">Fa eccezione il caso in cui un elemento tema stesso richieda un'altra risorsa.</span><span class="sxs-lookup"><span data-stu-id="13a9d-166">The exception is when a theme element itself requests another resource.</span></span> <span data-ttu-id="13a9d-167">Per i motivi descritti in precedenza, questi riferimenti devono essere riferimenti di risorse statiche.</span><span class="sxs-lookup"><span data-stu-id="13a9d-167">These references should be static resource references, for the reasons mentioned earlier.</span></span>  
  
 <span data-ttu-id="13a9d-168">Se non viene trovato un riferimento di risorsa statica, il comportamento dell'eccezione può variare.</span><span class="sxs-lookup"><span data-stu-id="13a9d-168">The exception behavior if a static resource reference is not found varies.</span></span> <span data-ttu-id="13a9d-169">Se la risorsa è stata rinviata, l'eccezione si verifica in runtime.</span><span class="sxs-lookup"><span data-stu-id="13a9d-169">If the resource was deferred, then the exception occurs at runtime.</span></span> <span data-ttu-id="13a9d-170">Se la risorsa non è stata rinviata, l'eccezione si verifica al momento del caricamento.</span><span class="sxs-lookup"><span data-stu-id="13a9d-170">If the resource was not deferred, the exception occurs at load time.</span></span>  
  
### <a name="dynamic-resources"></a><span data-ttu-id="13a9d-171">Risorse dinamiche</span><span class="sxs-lookup"><span data-stu-id="13a9d-171">Dynamic Resources</span></span>  
 <span data-ttu-id="13a9d-172">Le risorse dinamiche sono ideali nelle circostanze seguenti:</span><span class="sxs-lookup"><span data-stu-id="13a9d-172">Dynamic resources work best for the following circumstances:</span></span>  
  
- <span data-ttu-id="13a9d-173">Il valore della risorsa dipende da condizioni non note fino al runtime,</span><span class="sxs-lookup"><span data-stu-id="13a9d-173">The value of the resource depends on conditions that are not known until runtime.</span></span> <span data-ttu-id="13a9d-174">ad esempio risorse di sistema o risorse che possono essere impostate dall'utente in altro modo.</span><span class="sxs-lookup"><span data-stu-id="13a9d-174">This includes system resources, or resources that are otherwise user settable.</span></span> <span data-ttu-id="13a9d-175">Ad esempio, è possibile creare valori Setter che fanno riferimento a proprietà di sistema, come <xref:System.Windows.SystemColors>esposto <xref:System.Windows.SystemFonts>da, <xref:System.Windows.SystemParameters>o.</span><span class="sxs-lookup"><span data-stu-id="13a9d-175">For example, you can create setter values that refer to system properties, as exposed by <xref:System.Windows.SystemColors>, <xref:System.Windows.SystemFonts>, or <xref:System.Windows.SystemParameters>.</span></span> <span data-ttu-id="13a9d-176">Questi valori sono realmente dinamici perché in ultima analisi derivano dall'ambiente di runtime dell'utente e dal sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="13a9d-176">These values are truly dynamic because they ultimately come from the runtime environment of the user and operating system.</span></span> <span data-ttu-id="13a9d-177">È anche possibile che eventuali temi a livello di applicazione siano soggetti a modifica e che l'accesso alle risorse a livello di pagina debba anche acquisire la modifica.</span><span class="sxs-lookup"><span data-stu-id="13a9d-177">You might also have application-level themes that can change, where page-level resource access must also capture the change.</span></span>  
  
- <span data-ttu-id="13a9d-178">Si stanno creando stili di tema per un controllo personalizzato o si sta facendo riferimento a stili di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="13a9d-178">You are creating or referencing theme styles for a custom control.</span></span>  
  
- <span data-ttu-id="13a9d-179">Si intende modificare il contenuto di un oggetto <xref:System.Windows.ResourceDictionary> durante la durata di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="13a9d-179">You intend to adjust the contents of a <xref:System.Windows.ResourceDictionary> during an application lifetime.</span></span>  
  
- <span data-ttu-id="13a9d-180">La struttura delle risorse è complessa e con interdipendenze e potrebbe richiedere riferimenti in avanti.</span><span class="sxs-lookup"><span data-stu-id="13a9d-180">You have a complicated resource structure that has interdependencies, where a forward reference may be required.</span></span> <span data-ttu-id="13a9d-181">I riferimenti alle risorse statiche non supportano i riferimenti in diretta, ma i riferimenti alle risorse dinamiche le supportano perché la risorsa non deve essere valutata fino al runtime e i riferimenti in diretta non sono pertanto un concetto pertinente.</span><span class="sxs-lookup"><span data-stu-id="13a9d-181">Static resource references do not support forward references, but dynamic resource references do support them because the resource does not need to be evaluated until runtime, and forward references are therefore not a relevant concept.</span></span>  
  
- <span data-ttu-id="13a9d-182">Si sta facendo riferimento a una risorsa di dimensioni particolarmente grandi dal punto di vista del compile set o del working set e quando la pagina viene caricata non è possibile usare la risorsa immediatamente.</span><span class="sxs-lookup"><span data-stu-id="13a9d-182">You are referencing a resource that is particularly large from the perspective of a compile or working set, and the resource might not be used immediately when the page loads.</span></span> <span data-ttu-id="13a9d-183">I riferimenti alle risorse statiche vengono [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] sempre caricati da quando viene caricata la pagina. Tuttavia, un riferimento a una risorsa dinamica non viene caricato fino a quando non viene effettivamente utilizzato.</span><span class="sxs-lookup"><span data-stu-id="13a9d-183">Static resource references always load from [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] when the page loads; however, a dynamic resource reference does not load until it is actually used.</span></span>  
  
- <span data-ttu-id="13a9d-184">Si sta creando uno stile in cui i valori setter possono derivare da altri valori su cui influiscono temi o altre impostazioni utente.</span><span class="sxs-lookup"><span data-stu-id="13a9d-184">You are creating a style where setter values might come from other values that are influenced by themes or other user settings.</span></span>  
  
- <span data-ttu-id="13a9d-185">Si stanno applicando risorse a elementi che nel corso della durata dell'applicazione potrebbero essere associati a un nuovo elemento padre nell'albero logico.</span><span class="sxs-lookup"><span data-stu-id="13a9d-185">You are applying resources to elements that might be reparented in the logical tree during application lifetime.</span></span> <span data-ttu-id="13a9d-186">La modifica dell'elemento padre cambia potenzialmente anche l'ambito di ricerca. Se quindi si vuole che la risorsa per un elemento associato a un nuovo elemento padre sia rivalutata in base al nuovo ambito, usare sempre un riferimento di risorsa dinamica.</span><span class="sxs-lookup"><span data-stu-id="13a9d-186">Changing the parent also potentially changes the resource lookup scope, so if you want the resource for a reparented element to be reevaluated based on the new scope, always use a dynamic resource reference.</span></span>  
  
#### <a name="dynamic-resource-lookup-behavior"></a><span data-ttu-id="13a9d-187">Comportamento di ricerca delle risorse dinamiche</span><span class="sxs-lookup"><span data-stu-id="13a9d-187">Dynamic resource lookup behavior</span></span>  
 <span data-ttu-id="13a9d-188">Il comportamento di ricerca delle risorse per un riferimento a una risorsa dinamica è parallelo al comportamento di ricerca <xref:System.Windows.FrameworkElement.FindResource%2A> nel <xref:System.Windows.FrameworkElement.SetResourceReference%2A>codice se si chiama o.</span><span class="sxs-lookup"><span data-stu-id="13a9d-188">Resource lookup behavior for a dynamic resource reference parallels the lookup behavior in your code if you call <xref:System.Windows.FrameworkElement.FindResource%2A> or <xref:System.Windows.FrameworkElement.SetResourceReference%2A>.</span></span>  
  
1. <span data-ttu-id="13a9d-189">Il processo di ricerca controlla la presenza della chiave richiesta all'interno del dizionario risorse definito dall'elemento che imposta la proprietà.</span><span class="sxs-lookup"><span data-stu-id="13a9d-189">The lookup process checks for the requested key within the resource dictionary defined by the element that sets the property.</span></span>  
  
    - <span data-ttu-id="13a9d-190">Se l'elemento definisce una <xref:System.Windows.FrameworkElement.Style%2A> proprietà, il <xref:System.Windows.Style.Resources%2A> dizionario all'interno <xref:System.Windows.Style> di viene controllato.</span><span class="sxs-lookup"><span data-stu-id="13a9d-190">If the element defines a <xref:System.Windows.FrameworkElement.Style%2A> property, the <xref:System.Windows.Style.Resources%2A> dictionary within the <xref:System.Windows.Style> is checked.</span></span>  
  
    - <span data-ttu-id="13a9d-191">Se l'elemento definisce una <xref:System.Windows.Controls.Control.Template%2A> proprietà, il <xref:System.Windows.FrameworkTemplate.Resources%2A> dizionario all'interno <xref:System.Windows.FrameworkTemplate> di viene controllato.</span><span class="sxs-lookup"><span data-stu-id="13a9d-191">If the element defines a <xref:System.Windows.Controls.Control.Template%2A> property, the <xref:System.Windows.FrameworkTemplate.Resources%2A> dictionary within the <xref:System.Windows.FrameworkTemplate> is checked.</span></span>  
  
2. <span data-ttu-id="13a9d-192">Il processo di ricerca attraversa quindi l'albero logico verso l'alto, verso l'elemento padre e il dizionario risorse di questo.</span><span class="sxs-lookup"><span data-stu-id="13a9d-192">The lookup process then traverses the logical tree upward, to the parent element and its resource dictionary.</span></span> <span data-ttu-id="13a9d-193">Il processo continua fino al raggiungimento dell'elemento radice.</span><span class="sxs-lookup"><span data-stu-id="13a9d-193">This continues until the root element is reached.</span></span>  
  
3. <span data-ttu-id="13a9d-194">Vengono quindi controllate le risorse dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="13a9d-194">Next, application resources are checked.</span></span> <span data-ttu-id="13a9d-195">Le risorse dell'applicazione sono le risorse all'interno del dizionario risorse definito dall' <xref:System.Windows.Application> oggetto [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="13a9d-195">Application resources are those resources within the resource dictionary that is defined by the <xref:System.Windows.Application> object for your [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application.</span></span>  
  
4. <span data-ttu-id="13a9d-196">Viene controllato il dizionario risorse per il tema attivo.</span><span class="sxs-lookup"><span data-stu-id="13a9d-196">Theme resource dictionary is checked, for the currently active theme.</span></span> <span data-ttu-id="13a9d-197">Se il tema viene modificato in runtime, il valore viene rivalutato.</span><span class="sxs-lookup"><span data-stu-id="13a9d-197">If the theme changes at runtime, the value is reevaluated.</span></span>  
  
5. <span data-ttu-id="13a9d-198">Vengono controllate le risorse di sistema.</span><span class="sxs-lookup"><span data-stu-id="13a9d-198">System resources are checked.</span></span>  
  
 <span data-ttu-id="13a9d-199">Il comportamento di eventuali eccezioni varia:</span><span class="sxs-lookup"><span data-stu-id="13a9d-199">Exception behavior (if any) varies:</span></span>  
  
- <span data-ttu-id="13a9d-200">Se una risorsa è stata richiesta da <xref:System.Windows.FrameworkElement.FindResource%2A> una chiamata e non è stata trovata, viene generata un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="13a9d-200">If a resource was requested by a <xref:System.Windows.FrameworkElement.FindResource%2A> call, and was not found, an exception is raised.</span></span>  
  
- <span data-ttu-id="13a9d-201">Se una <xref:System.Windows.FrameworkElement.TryFindResource%2A> chiamata è stata richiesta da una risorsa e non è stata trovata, non viene generata alcuna eccezione, ma il valore `null`restituito è.</span><span class="sxs-lookup"><span data-stu-id="13a9d-201">If a resource was requested by a <xref:System.Windows.FrameworkElement.TryFindResource%2A> call, and was not found, no exception is raised, but the returned value is `null`.</span></span> <span data-ttu-id="13a9d-202">Se la proprietà da impostare non accetta `null`, è comunque possibile che venga generata un'eccezione più approfondita (dipende dalla singola proprietà da impostare).</span><span class="sxs-lookup"><span data-stu-id="13a9d-202">If the property being set does not accept `null`, then it is still possible that a deeper exception will be raised (this depends on the individual property being set).</span></span>  
  
- <span data-ttu-id="13a9d-203">Se una risorsa è stata richiesta da un riferimento a una [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]risorsa dinamica in e non è stata trovata, il comportamento dipende dal sistema di proprietà generale, ma il comportamento generale è come se non si fosse verificata alcuna operazione di impostazione delle proprietà a livello di risorsa.</span><span class="sxs-lookup"><span data-stu-id="13a9d-203">If a resource was requested by a dynamic resource reference in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], and was not found, then the behavior depends on the general property system, but the general behavior is as if no property setting operation occurred at the level where the resource exists.</span></span> <span data-ttu-id="13a9d-204">Se ad esempio si tenta di impostare lo sfondo di un elemento pulsante singolo usando una risorsa che non può essere valutata, risulta che non è stato impostato alcun valore, ma il valore effettivo può comunque derivare da altri elementi che fanno parte del sistema di proprietà e di precedenza dei valori.</span><span class="sxs-lookup"><span data-stu-id="13a9d-204">For instance, if you attempt to set the background on a an individual button element using a resource that could not be evaluated, then no value set results, but the effective value can still come from other participants in the property system and value precedence.</span></span> <span data-ttu-id="13a9d-205">Il valore dello sfondo, ad esempio, può comunque derivare dallo stile di un pulsante definito localmente o dallo stile del tema.</span><span class="sxs-lookup"><span data-stu-id="13a9d-205">For instance, the background value might still come from a locally defined button style, or from the theme style.</span></span> <span data-ttu-id="13a9d-206">Per le proprietà non definite tramite stili di tema, il valore effettivo dopo una valutazione non riuscita di una risorsa può derivare dal valore predefinito dei metadati delle proprietà.</span><span class="sxs-lookup"><span data-stu-id="13a9d-206">For properties that are not defined by theme styles, the effective value after a failed resource evaluation might come from the default value in the property metadata.</span></span>  
  
#### <a name="restrictions"></a><span data-ttu-id="13a9d-207">Restrizioni</span><span class="sxs-lookup"><span data-stu-id="13a9d-207">Restrictions</span></span>  
 <span data-ttu-id="13a9d-208">I riferimenti di risorse dinamiche presentano alcune restrizioni rilevanti.</span><span class="sxs-lookup"><span data-stu-id="13a9d-208">Dynamic resource references have some notable restrictions.</span></span> <span data-ttu-id="13a9d-209">Almeno una delle affermazioni seguenti deve essere vera:</span><span class="sxs-lookup"><span data-stu-id="13a9d-209">At least one of the following must be true:</span></span>  
  
- <span data-ttu-id="13a9d-210">La proprietà impostata deve essere una proprietà di un oggetto <xref:System.Windows.FrameworkElement> o <xref:System.Windows.FrameworkContentElement>.</span><span class="sxs-lookup"><span data-stu-id="13a9d-210">The property being set must be a property on a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="13a9d-211">Tale proprietà deve essere supportata da un oggetto <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="13a9d-211">That property must be backed by a <xref:System.Windows.DependencyProperty>.</span></span>  
  
- <span data-ttu-id="13a9d-212">Il riferimento è relativo a un valore all' <xref:System.Windows.Style>interno di un oggetto <xref:System.Windows.Setter>.</span><span class="sxs-lookup"><span data-stu-id="13a9d-212">The reference is for a value within a <xref:System.Windows.Style><xref:System.Windows.Setter>.</span></span>  
  
- <span data-ttu-id="13a9d-213">La proprietà impostata deve essere una proprietà di un oggetto <xref:System.Windows.Freezable> fornito come valore di una <xref:System.Windows.FrameworkElement> proprietà o <xref:System.Windows.FrameworkContentElement> oppure di un <xref:System.Windows.Setter> valore.</span><span class="sxs-lookup"><span data-stu-id="13a9d-213">The property being set must be a property on a <xref:System.Windows.Freezable> that is provided as a value of either a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> property, or a <xref:System.Windows.Setter> value.</span></span>  
  
 <span data-ttu-id="13a9d-214">Poiché la proprietà impostata deve essere una <xref:System.Windows.DependencyProperty> proprietà o <xref:System.Windows.Freezable> , la maggior parte delle modifiche alle proprietà può propagarsi all'interfaccia utente perché una modifica di proprietà (il valore della risorsa dinamica modificata) viene riconosciuta dal sistema di proprietà.</span><span class="sxs-lookup"><span data-stu-id="13a9d-214">Because the property being set must be a <xref:System.Windows.DependencyProperty> or <xref:System.Windows.Freezable> property, most property changes can propagate to UI because a property change (the changed dynamic resource value) is acknowledged by the property system.</span></span> <span data-ttu-id="13a9d-215">La maggior parte dei controlli include la logica che forza un altro layout di <xref:System.Windows.DependencyProperty> un controllo se una modifica e tale proprietà potrebbe influire sul layout.</span><span class="sxs-lookup"><span data-stu-id="13a9d-215">Most controls include logic that will force another layout of a control if a <xref:System.Windows.DependencyProperty> changes and that property might affect layout.</span></span> <span data-ttu-id="13a9d-216">Tuttavia, non tutte le proprietà che hanno un' [estensione di markup DynamicResource](dynamicresource-markup-extension.md) come valore sono garantiti per fornire il valore in modo che vengano aggiornate in tempo reale nell'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="13a9d-216">However, not all properties that have a [DynamicResource Markup Extension](dynamicresource-markup-extension.md) as their value are guaranteed to provide the value in such a way that they update in realtime in the UI.</span></span> <span data-ttu-id="13a9d-217">Tale funzionalità può comunque variare a seconda della proprietà, nonché a seconda del tipo proprietario della proprietà o anche della struttura logica dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="13a9d-217">That functionality still might vary depending on the property, as well as depending on the type that owns the property, or even the logical structure of your application.</span></span>  
  
<a name="stylesimplicitkeys"></a>   
## <a name="styles-datatemplates-and-implicit-keys"></a><span data-ttu-id="13a9d-218">Stili, modelli di dati e chiavi implicite</span><span class="sxs-lookup"><span data-stu-id="13a9d-218">Styles, DataTemplates, and Implicit Keys</span></span>  
 <span data-ttu-id="13a9d-219">In precedenza è stato dichiarato che tutti gli elementi in <xref:System.Windows.ResourceDictionary> un oggetto devono avere una chiave.</span><span class="sxs-lookup"><span data-stu-id="13a9d-219">Earlier, it was stated that all items in a <xref:System.Windows.ResourceDictionary> must have a key.</span></span> <span data-ttu-id="13a9d-220">Tuttavia, ciò non significa che tutte le risorse devono avere un esplicito `x:Key`.</span><span class="sxs-lookup"><span data-stu-id="13a9d-220">However, that does not mean that all resources must have an explicit `x:Key`.</span></span> <span data-ttu-id="13a9d-221">Diversi tipi di oggetto supportano una chiave implicita quando sono definiti come risorsa in cui il valore della chiave è associato al valore di un'altra proprietà.</span><span class="sxs-lookup"><span data-stu-id="13a9d-221">Several object types support an implicit key when defined as a resource, where the key value is tied to the value of another property.</span></span> <span data-ttu-id="13a9d-222">Questa operazione è nota come chiave implicita, mentre `x:Key` un attributo è una chiave esplicita.</span><span class="sxs-lookup"><span data-stu-id="13a9d-222">This is known as an implicit key, whereas an `x:Key` attribute is an explicit key.</span></span> <span data-ttu-id="13a9d-223">È possibile sovrascrivere qualsiasi chiave implicita specificando una chiave esplicita.</span><span class="sxs-lookup"><span data-stu-id="13a9d-223">You can overwrite any implicit key by specifying an explicit key.</span></span>  
  
 <span data-ttu-id="13a9d-224">Uno scenario molto importante per le risorse è quando si definisce <xref:System.Windows.Style>un.</span><span class="sxs-lookup"><span data-stu-id="13a9d-224">One very important scenario for resources is when you define a <xref:System.Windows.Style>.</span></span> <span data-ttu-id="13a9d-225">In realtà, un <xref:System.Windows.Style> è quasi sempre definito come una voce in un dizionario risorse, perché gli stili sono intrinsecamente progettati per il riutilizzo.</span><span class="sxs-lookup"><span data-stu-id="13a9d-225">In fact, a <xref:System.Windows.Style> is almost always defined as an entry in a resource dictionary, because styles are inherently intended for reuse.</span></span> <span data-ttu-id="13a9d-226">Per altre informazioni sugli stili, vedere applicazione di stili [e modelli](../controls/styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="13a9d-226">For more information about styles, see [Styling and Templating](../controls/styling-and-templating.md).</span></span>  
  
 <span data-ttu-id="13a9d-227">Una chiave implicita consente sia di creare stili per controlli che di fare riferimento ad essi.</span><span class="sxs-lookup"><span data-stu-id="13a9d-227">Styles for controls can be both created with and referenced with an implicit key.</span></span> <span data-ttu-id="13a9d-228">Gli stili di tema che definiscono l'aspetto predefinito di un controllo si basano sulla chiave implicita.</span><span class="sxs-lookup"><span data-stu-id="13a9d-228">The theme styles that define the default appearance of a control rely on this implicit key.</span></span> <span data-ttu-id="13a9d-229">La chiave implicita dal punto di vista della richiesta è l' <xref:System.Type> oggetto del controllo stesso.</span><span class="sxs-lookup"><span data-stu-id="13a9d-229">The implicit key from the standpoint of requesting it is the <xref:System.Type> of the control itself.</span></span> <span data-ttu-id="13a9d-230">La chiave implicita dal punto di vista della definizione della risorsa <xref:System.Windows.Style.TargetType%2A> è il dello stile.</span><span class="sxs-lookup"><span data-stu-id="13a9d-230">The implicit key from the standpoint of defining the resource is the <xref:System.Windows.Style.TargetType%2A> of the style.</span></span> <span data-ttu-id="13a9d-231">Pertanto, se si creano temi per i controlli personalizzati, creando stili che interagiscono con gli stili del tema esistenti, non è necessario specificare una <xref:System.Windows.Style> [direttiva x:Key](../../xaml-services/x-key-directive.md) .</span><span class="sxs-lookup"><span data-stu-id="13a9d-231">Therefore, if you are creating themes for custom controls, creating styles that interact with existing theme styles, you do not need to specify an [x:Key Directive](../../xaml-services/x-key-directive.md) for that <xref:System.Windows.Style>.</span></span> <span data-ttu-id="13a9d-232">E se si vogliono usare stili con tema, non è necessario specificare alcuno stile.</span><span class="sxs-lookup"><span data-stu-id="13a9d-232">And if you want to use the themed styles, you do not need to specify any style at all.</span></span> <span data-ttu-id="13a9d-233">Ad esempio, la definizione di stile seguente funziona anche se la <xref:System.Windows.Style> risorsa non presenta una chiave:</span><span class="sxs-lookup"><span data-stu-id="13a9d-233">For instance, the following style definition works, even though the <xref:System.Windows.Style> resource does not appear to have a key:</span></span>  
  
 [!code-xaml[FEResourceSH_snip#ImplicitStyle](~/samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page2.xaml#implicitstyle)]  
  
 <span data-ttu-id="13a9d-234">Lo stile ha effettivamente una chiave, ovvero la chiave `typeof(` <xref:System.Windows.Controls.Button> `)`implicita.</span><span class="sxs-lookup"><span data-stu-id="13a9d-234">That style really does have a key: the implicit key `typeof(`<xref:System.Windows.Controls.Button>`)`.</span></span> <span data-ttu-id="13a9d-235">Nel markup è possibile specificare <xref:System.Windows.Style.TargetType%2A> direttamente come nome del tipo (oppure è possibile usare facoltativamente [{x:Type...}](../../xaml-services/x-type-markup-extension.md)</span><span class="sxs-lookup"><span data-stu-id="13a9d-235">In markup, you can specify a <xref:System.Windows.Style.TargetType%2A> directly as the type name (or you can optionally use [{x:Type...}](../../xaml-services/x-type-markup-extension.md)</span></span> <span data-ttu-id="13a9d-236">per restituire un <xref:System.Type>oggetto.</span><span class="sxs-lookup"><span data-stu-id="13a9d-236">to return a <xref:System.Type>.</span></span>  
  
 <span data-ttu-id="13a9d-237">Attraverso i meccanismi di stile del tema predefiniti [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]utilizzati da, lo stile viene applicato come stile di runtime <xref:System.Windows.Controls.Button> di un oggetto nella <xref:System.Windows.Controls.Button> pagina, anche se non tenta di specificare <xref:System.Windows.FrameworkElement.Style%2A> la proprietà o una risorsa specifica. riferimento allo stile.</span><span class="sxs-lookup"><span data-stu-id="13a9d-237">Through the default theme style mechanisms used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], that style is applied as the runtime style of a <xref:System.Windows.Controls.Button> on the page, even though the <xref:System.Windows.Controls.Button> itself does not attempt to specify its <xref:System.Windows.FrameworkElement.Style%2A> property or a specific resource reference to the style.</span></span> <span data-ttu-id="13a9d-238">Lo stile definito nella pagina viene trovato in precedenza nella sequenza di ricerca rispetto allo stile del dizionario dei temi, usando la stessa chiave dello stile del dizionario del tema.</span><span class="sxs-lookup"><span data-stu-id="13a9d-238">Your style defined in the page is found earlier in the lookup sequence than the theme dictionary style, using the same key that the theme dictionary style has.</span></span> <span data-ttu-id="13a9d-239">È possibile specificare `<Button>Hello</Button>` semplicemente un punto qualsiasi della pagina e lo stile definito `Button` con <xref:System.Windows.Style.TargetType%2A> si applica a tale pulsante.</span><span class="sxs-lookup"><span data-stu-id="13a9d-239">You could just specify `<Button>Hello</Button>` anywhere in the page, and the style you defined with <xref:System.Windows.Style.TargetType%2A> of `Button` would apply to that button.</span></span> <span data-ttu-id="13a9d-240">Se lo si desidera, è comunque possibile impostare in modo esplicito come <xref:System.Windows.Style.TargetType%2A>chiave lo stile con lo stesso valore di tipo di, per maggiore chiarezza nel markup, ma questo è facoltativo.</span><span class="sxs-lookup"><span data-stu-id="13a9d-240">If you want, you can still explicitly key the style with the same type value as <xref:System.Windows.Style.TargetType%2A>, for clarity in your markup, but that is optional.</span></span>  
  
 <span data-ttu-id="13a9d-241">Le chiavi implicite per gli stili non si applicano <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> a `true` un controllo se è <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> (si noti anche che può essere impostato come parte del comportamento nativo per la classe del controllo, anziché in modo esplicito in un'istanza del controllo).</span><span class="sxs-lookup"><span data-stu-id="13a9d-241">Implicit keys for styles do not apply on a control if <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> is `true` (also note that <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> might be set as part of native behavior for the control class, rather than explicitly on an instance of the control).</span></span> <span data-ttu-id="13a9d-242">Inoltre, per supportare le chiavi implicite per gli scenari di classi derivate, <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> il controllo deve eseguire l'override di ( [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tutti i controlli esistenti forniti come parte di questa operazione).</span><span class="sxs-lookup"><span data-stu-id="13a9d-242">Also, in order to support implicit keys for derived class scenarios, the control must override <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> (all existing controls provided as part of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] do this).</span></span> <span data-ttu-id="13a9d-243">Per ulteriori informazioni su stili, temi e progettazione di controlli, vedere [linee guida per la progettazione di controlli Stylable](../controls/guidelines-for-designing-stylable-controls.md).</span><span class="sxs-lookup"><span data-stu-id="13a9d-243">For more information about styles, themes, and control design, see [Guidelines for Designing Stylable Controls](../controls/guidelines-for-designing-stylable-controls.md).</span></span>  
  
 <span data-ttu-id="13a9d-244"><xref:System.Windows.DataTemplate>dispone inoltre di una chiave implicita.</span><span class="sxs-lookup"><span data-stu-id="13a9d-244"><xref:System.Windows.DataTemplate> also has an implicit key.</span></span> <span data-ttu-id="13a9d-245">La chiave implicita per <xref:System.Windows.DataTemplate> un oggetto <xref:System.Windows.DataTemplate.DataType%2A> è il valore della proprietà.</span><span class="sxs-lookup"><span data-stu-id="13a9d-245">The implicit key for a <xref:System.Windows.DataTemplate> is the <xref:System.Windows.DataTemplate.DataType%2A> property value.</span></span> <span data-ttu-id="13a9d-246"><xref:System.Windows.DataTemplate.DataType%2A>può anche essere specificato come nome del tipo anziché usare in modo esplicito [{x:Type...}](../../xaml-services/x-type-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="13a9d-246"><xref:System.Windows.DataTemplate.DataType%2A> can also be specified as the name of the type rather than explicitly using [{x:Type...}](../../xaml-services/x-type-markup-extension.md).</span></span> <span data-ttu-id="13a9d-247">Per informazioni dettagliate, vedere [Cenni preliminari sui modelli di dati](../data/data-templating-overview.md).</span><span class="sxs-lookup"><span data-stu-id="13a9d-247">For details, see [Data Templating Overview](../data/data-templating-overview.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="13a9d-248">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="13a9d-248">See also</span></span>

- <xref:System.Windows.ResourceDictionary>
- [<span data-ttu-id="13a9d-249">Risorse di applicazioni</span><span class="sxs-lookup"><span data-stu-id="13a9d-249">Application Resources</span></span>](optimizing-performance-application-resources.md)
- [<span data-ttu-id="13a9d-250">Risorse e codice</span><span class="sxs-lookup"><span data-stu-id="13a9d-250">Resources and Code</span></span>](resources-and-code.md)
- [<span data-ttu-id="13a9d-251">Definire e fare riferimento a una risorsa</span><span class="sxs-lookup"><span data-stu-id="13a9d-251">Define and Reference a Resource</span></span>](how-to-define-and-reference-a-resource.md)
- [<span data-ttu-id="13a9d-252">Cenni preliminari sulla gestione di applicazioni</span><span class="sxs-lookup"><span data-stu-id="13a9d-252">Application Management Overview</span></span>](../app-development/application-management-overview.md)
- [<span data-ttu-id="13a9d-253">Estensione di markup x:Type</span><span class="sxs-lookup"><span data-stu-id="13a9d-253">x:Type Markup Extension</span></span>](../../xaml-services/x-type-markup-extension.md)
- [<span data-ttu-id="13a9d-254">Estensione di markup StaticResource</span><span class="sxs-lookup"><span data-stu-id="13a9d-254">StaticResource Markup Extension</span></span>](staticresource-markup-extension.md)
- [<span data-ttu-id="13a9d-255">Estensione del markup DynamicResource</span><span class="sxs-lookup"><span data-stu-id="13a9d-255">DynamicResource Markup Extension</span></span>](dynamicresource-markup-extension.md)

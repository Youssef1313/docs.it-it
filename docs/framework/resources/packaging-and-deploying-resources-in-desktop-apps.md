---
title: Creazione di pacchetti e distribuzione delle risorse nelle app .NET
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- deploying applications [.NET Framework], resources
- resource files, deploying
- hub-and-spoke resource deployment model
- resource files, packaging
- application resources, packaging
- single resource assembly
- satellite assemblies
- default culture for applications
- names [.NET Framework], resources
- fallback process for resources
- grouping cultures
- application resources, deploying
- application resources, naming conventions
- culture, packaging and deploying resources
- resource files, naming conventions
- packaging application resources
- application resources, fallback processes
- resource files, fallback processes
- localizing resources
- neutral cultures
ms.assetid: b224d7c0-35f8-4e82-a705-dd76795e8d16
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 4092d8694bdb896db1332bd73afae3f62bba36cf
ms.sourcegitcommit: 6f28b709592503d27077b16fff2e2eacca569992
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 08/28/2019
ms.locfileid: "70105919"
---
# <a name="packaging-and-deploying-resources-in-net-apps"></a><span data-ttu-id="128f9-102">Creazione di pacchetti e distribuzione delle risorse nelle app .NET</span><span class="sxs-lookup"><span data-stu-id="128f9-102">Packaging and Deploying Resources in .NET Apps</span></span>

<span data-ttu-id="128f9-103">Per recuperare le risorse localizzate le applicazioni usano .NET Framework Resource Manager, rappresentato dalla classe <xref:System.Resources.ResourceManager>.</span><span class="sxs-lookup"><span data-stu-id="128f9-103">Applications rely on the .NET Framework Resource Manager, represented by the <xref:System.Resources.ResourceManager> class, to retrieve localized resources.</span></span> <span data-ttu-id="128f9-104">Resource Manager presuppone l'uso di un modello hub e spoke per la creazione di pacchetti e la distribuzione delle risorse.</span><span class="sxs-lookup"><span data-stu-id="128f9-104">The Resource Manager assumes that a hub and spoke model is used to package and deploy resources.</span></span> <span data-ttu-id="128f9-105">L'hub è l'assembly principale che contiene il codice eseguibile non localizzabile e le risorse di un singolo set di impostazioni cultura, denominate impostazioni cultura neutre o predefinite.</span><span class="sxs-lookup"><span data-stu-id="128f9-105">The hub is the main assembly that contains the nonlocalizable executable code and the resources for a single culture, called the neutral or default culture.</span></span> <span data-ttu-id="128f9-106">Le impostazioni cultura predefinite sono le impostazioni di fallback per l'applicazione, ovvero le impostazioni che vengono usate quando non si trovano le risorse localizzate.</span><span class="sxs-lookup"><span data-stu-id="128f9-106">The default culture is the fallback culture for the application; it is the culture whose resources are used if localized resources cannot be found.</span></span> <span data-ttu-id="128f9-107">Ogni spoke si connette a un assembly satellite contenente le risorse di determinate impostazioni cultura, ma non contiene alcun codice.</span><span class="sxs-lookup"><span data-stu-id="128f9-107">Each spoke connects to a satellite assembly that contains the resources for a single culture, but does not contain any code.</span></span>

<span data-ttu-id="128f9-108">Questo modello presenta diversi vantaggi:</span><span class="sxs-lookup"><span data-stu-id="128f9-108">There are several advantages to this model:</span></span>

- <span data-ttu-id="128f9-109">È possibile aggiungere in modo incrementale risorse per nuove impostazioni cultura dopo la distribuzione di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="128f9-109">You can incrementally add resources for new cultures after you have deployed an application.</span></span> <span data-ttu-id="128f9-110">Lo sviluppo di risorse specifiche per le impostazioni cultura può richiedere molto tempo. Questo modello consente di rilasciare l'applicazione principale e quindi di distribuire in un secondo momento le risorse specifiche delle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="128f9-110">Because subsequent development of culture-specific resources can require a significant amount of time, this allows you to release your main application first, and deliver culture-specific resources at a later date.</span></span>

- <span data-ttu-id="128f9-111">È possibile aggiornare e modificare gli assembly satellite di un'applicazione senza ricompilare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="128f9-111">You can update and change an application's satellite assemblies without recompiling the application.</span></span>

- <span data-ttu-id="128f9-112">L'applicazione potrà caricare solo gli assembly satellite che contengono le risorse necessarie per impostazioni cultura specifiche.</span><span class="sxs-lookup"><span data-stu-id="128f9-112">An application needs to load only those satellite assemblies that contain the resources needed for a particular culture.</span></span> <span data-ttu-id="128f9-113">In questo modo è possibile ridurre notevolmente l'uso delle risorse di sistema.</span><span class="sxs-lookup"><span data-stu-id="128f9-113">This can significantly reduce the use of system resources.</span></span>

 <span data-ttu-id="128f9-114">Tuttavia il modello presenta anche alcuni svantaggi:</span><span class="sxs-lookup"><span data-stu-id="128f9-114">However, there are also disadvantages to this model:</span></span>

- <span data-ttu-id="128f9-115">È necessario gestire più set di risorse.</span><span class="sxs-lookup"><span data-stu-id="128f9-115">You must manage multiple sets of resources.</span></span>

- <span data-ttu-id="128f9-116">Il costo iniziale del test un'applicazione è più elevato, perché è necessario sottoporre a test diverse configurazioni.</span><span class="sxs-lookup"><span data-stu-id="128f9-116">The initial cost of testing an application increases, because you must test several configurations.</span></span> <span data-ttu-id="128f9-117">Si noti che a lungo termine sarà più semplice ed economico testare un'applicazione centrale con vari satelliti che testare e gestire più versioni internazionali parallele.</span><span class="sxs-lookup"><span data-stu-id="128f9-117">Note that in the long term it will be easier and less expensive to test one core application with several satellites, than to test and maintain several parallel international versions.</span></span>

## <a name="resource-naming-conventions"></a><span data-ttu-id="128f9-118">Convenzioni di denominazione delle risorse</span><span class="sxs-lookup"><span data-stu-id="128f9-118">Resource Naming Conventions</span></span>

<span data-ttu-id="128f9-119">Quando si includono nel pacchetto le risorse dell'applicazione è necessario denominarle in base alle convenzioni previste dal Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="128f9-119">When you package your application's resources, you must name them using the resource naming conventions that the common language runtime expects.</span></span> <span data-ttu-id="128f9-120">Il runtime identifica una risorsa in base al nome delle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="128f9-120">The runtime identifies a resource by its culture name.</span></span> <span data-ttu-id="128f9-121">A ogni set di impostazioni cultura viene assegnato un nome univoco, in genere una combinazione di un nome impostazioni cultura di due lettere minuscole associato a una lingua e (se necessario) un nome impostazioni cultura secondarie di due lettere maiuscole associato a un paese o a una regione.</span><span class="sxs-lookup"><span data-stu-id="128f9-121">Each culture is given a unique name, which is usually a combination of a two-letter, lowercase culture name associated with a language and, if required, a two-letter, uppercase subculture name associated with a country or region.</span></span> <span data-ttu-id="128f9-122">Il nome delle impostazioni cultura secondarie segue il nome delle impostazioni cultura ed è separato da un trattino (-).</span><span class="sxs-lookup"><span data-stu-id="128f9-122">The subculture name follows the culture name, separated by a dash (-).</span></span> <span data-ttu-id="128f9-123">Ad esempio ja-JP corrisponde al giapponese parlato in Giappone, en-US corrisponde all'inglese parlato negli Stati Uniti d'America, de-DE corrisponde al tedesco parlato in Germania, de-AT corrisponde al tedesco parlato in Austria.</span><span class="sxs-lookup"><span data-stu-id="128f9-123">Examples include ja-JP for Japanese as spoken in Japan, en-US for English as spoken in the United States, de-DE for German as spoken in Germany, or de-AT for German as spoken in Austria.</span></span> <span data-ttu-id="128f9-124">Vedere la colonna **Language tag** (Tag di lingua) nell'[elenco di nomi di lingua/area geografica supportati da Windows](https://docs.microsoft.com/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c).</span><span class="sxs-lookup"><span data-stu-id="128f9-124">See the **Language tag** column in the [list of language/region names supported by Windows](https://docs.microsoft.com/openspecs/windows_protocols/ms-lcid/a9eac961-e77d-41a6-90a5-ce1a8b0cdb9c).</span></span> <span data-ttu-id="128f9-125">I nomi delle impostazioni cultura seguono lo standard definito da [BCP 47](https://tools.ietf.org/html/bcp47).</span><span class="sxs-lookup"><span data-stu-id="128f9-125">Culture names follow the standard defined by [BCP 47](https://tools.ietf.org/html/bcp47).</span></span>

> [!NOTE]
> <span data-ttu-id="128f9-126">Per informazioni sulla creazione di file di risorse, vedere [Creazione di file di risorse](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md) e [Creazione di assembly satellite](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="128f9-126">For information about creating resource files, see [Creating Resource Files](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md) and [Creating Satellite Assemblies](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md).</span></span>

<a name="cpconpackagingdeployingresourcesanchor1"></a>

## <a name="the-resource-fallback-process"></a><span data-ttu-id="128f9-127">Processo di fallback per le risorse</span><span class="sxs-lookup"><span data-stu-id="128f9-127">The Resource Fallback Process</span></span>

<span data-ttu-id="128f9-128">Il modello hub e spoke di creazione dei pacchetti e distribuzione delle risorse usa un processo di fallback per trovare le risorse appropriate.</span><span class="sxs-lookup"><span data-stu-id="128f9-128">The hub and spoke model for packaging and deploying resources uses a fallback process to locate appropriate resources.</span></span> <span data-ttu-id="128f9-129">Se in un'applicazione viene richiesta una risorsa localizzata non disponibile, tramite Common Language Runtime viene cercata nella gerarchia delle impostazioni cultura una risorsa di fallback appropriata che corrisponda il più possibile alla richiesta dell'applicazione dell'utente e viene generata un'eccezione solo come ultima soluzione.</span><span class="sxs-lookup"><span data-stu-id="128f9-129">If an application requests a localized resource  that is unavailable, the common language runtime searches the hierarchy of cultures for an appropriate fallback resource that most closely matches the user's application's request, and throws an exception only as a last resort.</span></span> <span data-ttu-id="128f9-130">A ogni livello della gerarchia, quando viene trovata una risorsa appropriata viene usata tale risorsa.</span><span class="sxs-lookup"><span data-stu-id="128f9-130">At each level of the hierarchy, if an appropriate resource is found, the runtime uses it.</span></span> <span data-ttu-id="128f9-131">Se la ricerca ha esito negativo si passa al livello successivo.</span><span class="sxs-lookup"><span data-stu-id="128f9-131">If the resource is not found, the search continues at the next level.</span></span>

<span data-ttu-id="128f9-132">Per migliorare le prestazioni di ricerca, applicare l'attributo <xref:System.Resources.NeutralResourcesLanguageAttribute> all'assembly principale e passare a tale attributo il nome della lingua neutra da usare con l'assembly principale.</span><span class="sxs-lookup"><span data-stu-id="128f9-132">To improve lookup performance, apply the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to your main assembly, and pass it the name of the neutral language that will work with your main assembly.</span></span>

### <a name="net-framework-resource-fallback-process"></a><span data-ttu-id="128f9-133">Processo di fallback per le risorse di .NET Framework</span><span class="sxs-lookup"><span data-stu-id="128f9-133">.NET Framework resource fallback process</span></span>

<span data-ttu-id="128f9-134">Il processo di fallback per le risorse di .NET Framework include i passaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="128f9-134">The .NET Framework resource fallback process involves the following steps:</span></span>

> [!TIP]
> <span data-ttu-id="128f9-135">L'elemento di configurazione [\<relativeBindForResources>](../../../docs/framework/configure-apps/file-schema/runtime/relativebindforresources-element.md) può contribuire a ottimizzare il processo di fallback delle risorse e il processo di probe degli assembly di risorse nel runtime.</span><span class="sxs-lookup"><span data-stu-id="128f9-135">You may be able to use the [\<relativeBindForResources>](../../../docs/framework/configure-apps/file-schema/runtime/relativebindforresources-element.md) configuration element to optimize the resource fallback process and the process by which the runtime probes for resource assemblies.</span></span> <span data-ttu-id="128f9-136">Per altre informazioni vedere la sezione [Ottimizzazione del processo di fallback delle risorse](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md#Optimizing).</span><span class="sxs-lookup"><span data-stu-id="128f9-136">For more information, see the [Optimizing the Resource Fallback Process](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md#Optimizing) section.</span></span>

1. <span data-ttu-id="128f9-137">Il runtime ricerca nella [Global Assembly Cache](../../../docs/framework/app-domains/gac.md) un assembly corrispondente alle impostazioni cultura richieste per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="128f9-137">The runtime first checks the [global assembly cache](../../../docs/framework/app-domains/gac.md) for an assembly that matches the requested culture for your application.</span></span>

     <span data-ttu-id="128f9-138">La Global Assembly Cache può archiviare assembly di risorse condivisi da più applicazioni.</span><span class="sxs-lookup"><span data-stu-id="128f9-138">The global assembly cache can store resource assemblies that are shared by many applications.</span></span> <span data-ttu-id="128f9-139">In tal modo non è necessario includere set di risorse specifici nella struttura di directory di ogni applicazione creata.</span><span class="sxs-lookup"><span data-stu-id="128f9-139">This frees you from having to include specific sets of resources in the directory structure of every application you create.</span></span> <span data-ttu-id="128f9-140">Se il runtime rileva un riferimento all'assembly, cerca nell'assembly la risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-140">If the runtime finds a reference to the assembly, it searches the assembly for the requested resource.</span></span> <span data-ttu-id="128f9-141">Se rileva la voce nell'assembly usa la risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-141">If it finds the entry in the assembly, it uses the requested resource.</span></span> <span data-ttu-id="128f9-142">Se la voce non viene trovata la ricerca continua.</span><span class="sxs-lookup"><span data-stu-id="128f9-142">If it doesn't find the entry, it continues the search.</span></span>

2. <span data-ttu-id="128f9-143">Il runtime cerca quindi nella directory dell'assembly in esecuzione una sottodirectory corrispondente alle impostazioni cultura richieste.</span><span class="sxs-lookup"><span data-stu-id="128f9-143">The runtime next checks the directory of the currently executing assembly for a subdirectory that matches the requested culture.</span></span> <span data-ttu-id="128f9-144">Se trova la sottodirectory, cerca nella sottodirectory un assembly satellite valido per le impostazioni cultura richieste.</span><span class="sxs-lookup"><span data-stu-id="128f9-144">If it finds the subdirectory, it searches that subdirectory for a valid satellite assembly for the requested culture.</span></span> <span data-ttu-id="128f9-145">Il runtime cerca quindi nell'assembly satellite la risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-145">The runtime then searches the satellite assembly for the requested resource.</span></span> <span data-ttu-id="128f9-146">Se trova la risorsa nell'assembly la usa direttamente.</span><span class="sxs-lookup"><span data-stu-id="128f9-146">If it finds the resource in the assembly, it uses it.</span></span> <span data-ttu-id="128f9-147">In caso contrario la ricerca continua.</span><span class="sxs-lookup"><span data-stu-id="128f9-147">If it doesn't find the resource, it continues the search.</span></span>

3. <span data-ttu-id="128f9-148">Il runtime esegue una query in Windows Installer per determinare se l'assembly satellite va installato su richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-148">The runtime next queries the Windows Installer to determine whether the satellite assembly is to be installed on demand.</span></span> <span data-ttu-id="128f9-149">In tal caso il runtime gestisce l'installazione, carica l'assembly e cerca la risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-149">If so, it handles the installation, loads the assembly, and searches it or the requested resource.</span></span> <span data-ttu-id="128f9-150">Se trova la risorsa nell'assembly la usa direttamente.</span><span class="sxs-lookup"><span data-stu-id="128f9-150">If it finds the resource in the assembly, it uses it.</span></span> <span data-ttu-id="128f9-151">In caso contrario la ricerca continua.</span><span class="sxs-lookup"><span data-stu-id="128f9-151">If it doesn't find the resource, it continues the search.</span></span>

4. <span data-ttu-id="128f9-152">Il runtime genera l'evento <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> per indicare che l'assembly satellite non è stato trovato.</span><span class="sxs-lookup"><span data-stu-id="128f9-152">The runtime raises the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event to indicate that it is unable to find the satellite assembly.</span></span> <span data-ttu-id="128f9-153">Se si sceglie di gestire l'evento, il gestore eventi può restituire un riferimento all'assembly satellite le cui risorse verranno usate per la ricerca.</span><span class="sxs-lookup"><span data-stu-id="128f9-153">If you choose to handle the event, your event handler can return a reference to the satellite assembly whose resources will be used for the lookup.</span></span> <span data-ttu-id="128f9-154">In caso contrario il gestore eventi restituisce `null` e la ricerca continua.</span><span class="sxs-lookup"><span data-stu-id="128f9-154">Otherwise, the event handler returns `null` and the search continues.</span></span>

5. <span data-ttu-id="128f9-155">Il runtime torna a eseguire una ricerca nella Global Assembly Cache, ma ora cerca l'assembly padre delle impostazioni cultura richieste.</span><span class="sxs-lookup"><span data-stu-id="128f9-155">The runtime next searches the global assembly cache again, this time for the parent assembly of the requested culture.</span></span> <span data-ttu-id="128f9-156">Se l'assembly padre esiste nella Global Assembly Cache il runtime cerca nell'assembly la risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-156">If the parent assembly exists in the global assembly cache, the runtime searches the assembly for the requested resource.</span></span>

     <span data-ttu-id="128f9-157">Le impostazioni cultura padre sono definite come impostazioni cultura di fallback appropriate.</span><span class="sxs-lookup"><span data-stu-id="128f9-157">The parent culture is defined as the appropriate fallback culture.</span></span> <span data-ttu-id="128f9-158">Gli elementi padre sono candidati ideali per il fallback, perché l'impostazione di una risorsa qualsiasi è preferibile alla generazione di un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="128f9-158">Consider parents as fallback candidates, because providing any resource is preferable to throwing an exception.</span></span> <span data-ttu-id="128f9-159">Questo processo consente anche di tornare a usare le risorse.</span><span class="sxs-lookup"><span data-stu-id="128f9-159">This process also allows you to reuse resources.</span></span> <span data-ttu-id="128f9-160">Una determinata risorsa va inclusa nel livello padre solo se le impostazioni cultura figlio non richiedono la localizzazione della risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-160">You should include a particular resource at the parent level only if the child culture doesn't need to localize the requested resource.</span></span> <span data-ttu-id="128f9-161">Se ad esempio si specificano assembly satellite per `en` (inglese neutro), `en-GB` (inglese del Regno Unito) ed `en-US` (inglese degli Stati Uniti), il satellite `en` contiene la terminologia comune, mentre i satelliti `en-GB` ed `en-US` possono fornire override solo per i termini diversi.</span><span class="sxs-lookup"><span data-stu-id="128f9-161">For example, if you supply satellite assemblies for `en` (neutral English), `en-GB` (English as spoken in the United Kingdom), and `en-US` (English as spoken in the United States), the `en` satellite would contain the common terminology, and the `en-GB` and `en-US` satellites could provide overrides for only those terms that differ.</span></span>

6. <span data-ttu-id="128f9-162">Il runtime cerca quindi nella directory dell'assembly in esecuzione una directory padre.</span><span class="sxs-lookup"><span data-stu-id="128f9-162">The runtime next checks the directory of the currently executing assembly to see if it contains a parent directory.</span></span> <span data-ttu-id="128f9-163">Se esiste una directory padre il runtime cerca in tale directory un assembly satellite valido per le impostazioni cultura padre.</span><span class="sxs-lookup"><span data-stu-id="128f9-163">If a parent directory exists, the runtime searches the directory for a valid satellite assembly for the parent culture.</span></span> <span data-ttu-id="128f9-164">Se il runtime trova l'assembly cerca nell'assembly la risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-164">If it finds the assembly, the runtime searches the assembly for the requested resource.</span></span> <span data-ttu-id="128f9-165">Se trova la risorsa la usa direttamente.</span><span class="sxs-lookup"><span data-stu-id="128f9-165">If it finds the resource, it uses it.</span></span> <span data-ttu-id="128f9-166">In caso contrario la ricerca continua.</span><span class="sxs-lookup"><span data-stu-id="128f9-166">If it doesn't find the resource, it continues the search.</span></span>

7. <span data-ttu-id="128f9-167">Il runtime esegue una query in Windows Installer per determinare se l'assembly satellite padre va installato su richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-167">The runtime next queries the Windows Installer to determine whether the parent satellite assembly is to be installed on demand.</span></span> <span data-ttu-id="128f9-168">In tal caso il runtime gestisce l'installazione, carica l'assembly e cerca la risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-168">If so, it handles the installation, loads the assembly, and searches it or the requested resource.</span></span> <span data-ttu-id="128f9-169">Se trova la risorsa nell'assembly la usa direttamente.</span><span class="sxs-lookup"><span data-stu-id="128f9-169">If it finds the resource in the assembly, it uses it.</span></span> <span data-ttu-id="128f9-170">In caso contrario la ricerca continua.</span><span class="sxs-lookup"><span data-stu-id="128f9-170">If it doesn't find the resource, it continues the search.</span></span>

8. <span data-ttu-id="128f9-171">Il runtime genera l'evento <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> per indicare che non è stata trovata una risorsa di fallback appropriata.</span><span class="sxs-lookup"><span data-stu-id="128f9-171">The runtime raises the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event to indicate that it is unable to find an appropriate fallback resource.</span></span> <span data-ttu-id="128f9-172">Se si sceglie di gestire l'evento, il gestore eventi può restituire un riferimento all'assembly satellite le cui risorse verranno usate per la ricerca.</span><span class="sxs-lookup"><span data-stu-id="128f9-172">If you choose to handle the event, your event handler can return a reference to the satellite assembly whose resources will be used for the lookup.</span></span> <span data-ttu-id="128f9-173">In caso contrario il gestore eventi restituisce `null` e la ricerca continua.</span><span class="sxs-lookup"><span data-stu-id="128f9-173">Otherwise, the event handler returns `null` and the search continues.</span></span>

9. <span data-ttu-id="128f9-174">Il runtime esegue quindi la ricerca negli assembly padre come nei tre passaggi precedenti, su numerosi livelli potenziali.</span><span class="sxs-lookup"><span data-stu-id="128f9-174">The runtime next searches parent assemblies, as in the previous three steps, through many potential levels.</span></span> <span data-ttu-id="128f9-175">Ogni set di impostazioni cultura ha un solo set padre, definito dalla proprietà <xref:System.Globalization.CultureInfo.Parent%2A?displayProperty=nameWithType>, ma un set padre può a sua volta avere un proprio set padre.</span><span class="sxs-lookup"><span data-stu-id="128f9-175">Each culture has only one parent, which is defined by the <xref:System.Globalization.CultureInfo.Parent%2A?displayProperty=nameWithType> property, but a parent might have its own parent.</span></span> <span data-ttu-id="128f9-176">La ricerca di impostazioni cultura padre si interrompe quando la proprietà <xref:System.Globalization.CultureInfo.Parent%2A> di un set di impostazioni cultura restituisce <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>. Ai fini del fallback delle risorse le impostazioni cultura invariabili non sono considerate impostazioni cultura padre o impostazioni cultura che possono avere risorse.</span><span class="sxs-lookup"><span data-stu-id="128f9-176">The search for parent cultures stops when a culture's <xref:System.Globalization.CultureInfo.Parent%2A> property returns <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>; for resource fallback, the invariant culture is not considered a parent culture or a culture that can have resources.</span></span>

10. <span data-ttu-id="128f9-177">Se dopo la ricerca nelle impostazioni cultura specificate in origine e in tutte le impostazioni cultura padre la risorsa non è stata trovata, viene usata la risorsa corrispondente alle impostazioni cultura predefinite (fallback).</span><span class="sxs-lookup"><span data-stu-id="128f9-177">If the culture that was originally specified and all parents have been searched and the resource is still not found, the resource for the default (fallback) culture is used.</span></span> <span data-ttu-id="128f9-178">In genere le risorse delle impostazioni cultura predefinite sono incluse nell'assembly principale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="128f9-178">Typically, the resources for the default culture are included in the main application assembly.</span></span> <span data-ttu-id="128f9-179">Tuttavia è possibile specificare il valore <xref:System.Resources.UltimateResourceFallbackLocation.Satellite> per la proprietà <xref:System.Resources.NeutralResourcesLanguageAttribute.Location%2A> dell'attributo <xref:System.Resources.NeutralResourcesLanguageAttribute> per indicare come posizione finale di fallback per le risorse un assembly satellite anziché l'assembly principale.</span><span class="sxs-lookup"><span data-stu-id="128f9-179">However, you can specify a value of <xref:System.Resources.UltimateResourceFallbackLocation.Satellite> for the <xref:System.Resources.NeutralResourcesLanguageAttribute.Location%2A> property of the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to indicate that the ultimate fallback location for resources is a satellite assembly, rather than the main assembly.</span></span>

    > [!NOTE]
    > <span data-ttu-id="128f9-180">La risorsa predefinita è l'unica risorsa che può essere compilata con l'assembly principale.</span><span class="sxs-lookup"><span data-stu-id="128f9-180">The default resource is the only resource that can be compiled with the main assembly.</span></span> <span data-ttu-id="128f9-181">Se non si specifica un assembly satellite tramite l'attributo <xref:System.Resources.NeutralResourcesLanguageAttribute>, la risorsa predefinita è il fallback finale (padre finale).</span><span class="sxs-lookup"><span data-stu-id="128f9-181">Unless you specify a satellite assembly by using the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute, it is the ultimate fallback (final parent).</span></span> <span data-ttu-id="128f9-182">È pertanto consigliabile includere sempre un set di risorse predefinito nell'assembly principale.</span><span class="sxs-lookup"><span data-stu-id="128f9-182">Therefore, we recommend that you always include a default set of resources in your main assembly.</span></span> <span data-ttu-id="128f9-183">Ciò evita la generazione di eccezioni.</span><span class="sxs-lookup"><span data-stu-id="128f9-183">This helps prevent exceptions from being thrown.</span></span> <span data-ttu-id="128f9-184">Se si include un file di risorse predefinito, si offre un fallback per tutte le risorse e si garantisce che l'utente disponga di almeno una risorsa, anche se questa non è specifica per le impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="128f9-184">By including a default resource, file you provide a fallback for all resources and ensure that at least one resource is always present for the user, even if it is not culturally specific.</span></span>

11. <span data-ttu-id="128f9-185">Infine se il runtime non trova una risorsa per impostazioni cultura predefinite (fallback) viene generata un'eccezione <xref:System.Resources.MissingManifestResourceException> o <xref:System.Resources.MissingSatelliteAssemblyException> per indicare che la risorsa non è stata trovata.</span><span class="sxs-lookup"><span data-stu-id="128f9-185">Finally, if the runtime doesn't find a resource for a default (fallback) culture, a <xref:System.Resources.MissingManifestResourceException> or <xref:System.Resources.MissingSatelliteAssemblyException> exception is thrown to indicate that the resource could not be found.</span></span>

<span data-ttu-id="128f9-186">Si supponga ad esempio che l'applicazione richieda una risorsa localizzata in spagnolo (Messico) (impostazioni cultura `es-MX`).</span><span class="sxs-lookup"><span data-stu-id="128f9-186">For example, suppose the application requests a resource localized for Spanish (Mexico) (the `es-MX` culture).</span></span> <span data-ttu-id="128f9-187">Il runtime cerca nella Global Assembly Cache l'assembly corrispondente a `es-MX`, ma non lo trova.</span><span class="sxs-lookup"><span data-stu-id="128f9-187">The runtime first searches the global assembly cache for the assembly that matches `es-MX`, but doesn't find it.</span></span> <span data-ttu-id="128f9-188">Il runtime cerca quindi nella directory dell'assembly in esecuzione una directory `es-MX`.</span><span class="sxs-lookup"><span data-stu-id="128f9-188">The runtime then searches the directory of the currently executing assembly for an `es-MX` directory.</span></span> <span data-ttu-id="128f9-189">Se la ricerca non ha esito positivo, il runtime cerca nuovamente nella Global Assembly Cache un assembly padre corrispondente alle impostazioni cultura di fallback, in questo esempio `es` (spagnolo).</span><span class="sxs-lookup"><span data-stu-id="128f9-189">Failing that, the runtime searches the global assembly cache again for a parent assembly that reflects the appropriate fallback culture — in this case, `es` (Spanish).</span></span> <span data-ttu-id="128f9-190">Se l'assembly padre non viene trovato, il runtime cerca le impostazioni cultura `es-MX` in tutti i livelli potenziali di assembly padre finché non trova una risorsa corrispondente.</span><span class="sxs-lookup"><span data-stu-id="128f9-190">If the parent assembly is not found, the runtime searches all potential levels of parent assemblies for the `es-MX` culture until it finds a corresponding resource.</span></span> <span data-ttu-id="128f9-191">Se non trova una risorsa, il runtime usa la risorsa delle impostazioni cultura predefinite.</span><span class="sxs-lookup"><span data-stu-id="128f9-191">If a resource isn't found, the runtime uses the resource for the default culture.</span></span>

<a name="Optimizing"></a>

#### <a name="optimizing-the-net-framework-resource-fallback-process"></a><span data-ttu-id="128f9-192">Ottimizzazione del processo di fallback per le risorse di .NET Framework</span><span class="sxs-lookup"><span data-stu-id="128f9-192">Optimizing the .NET Framework Resource Fallback Process</span></span>

<span data-ttu-id="128f9-193">Se si verificano le seguenti condizioni, è possibile ottimizzare il processo con il quale il runtime cerca risorse negli assembly satellite</span><span class="sxs-lookup"><span data-stu-id="128f9-193">Under the following conditions, you can optimize the process by which the runtime searches for resources in satellite assemblies</span></span>

- <span data-ttu-id="128f9-194">Gli assembly satellite vengono distribuiti nello stesso percorso in cui si trova l'assembly di codice.</span><span class="sxs-lookup"><span data-stu-id="128f9-194">Satellite assemblies are deployed in the same location as the code assembly.</span></span> <span data-ttu-id="128f9-195">Se l'assembly di codice è installato nella [Global Assembly Cache](../../../docs/framework/app-domains/gac.md) anche gli assembly satellite vengono installati nella Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="128f9-195">If the code assembly is installed in the [Global Assembly Cache](../../../docs/framework/app-domains/gac.md), satellite assemblies are also installed in the global assembly cache.</span></span> <span data-ttu-id="128f9-196">Se l'assembly di codice è installato in una directory gli assembly satellite vengono installati in cartelle specifiche della directory, corrispondenti alle impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="128f9-196">If the code assembly is installed in a directory, satellite assemblies are installed in culture-specific folders of that directory.</span></span>

- <span data-ttu-id="128f9-197">Gli assembly satellite non vengono installati su richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-197">Satellite assemblies are not installed on demand.</span></span>

- <span data-ttu-id="128f9-198">Il codice dell'applicazione non gestisce l'evento <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="128f9-198">Application code does not handle the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event.</span></span>

<span data-ttu-id="128f9-199">È possibile ottimizzare il probe per gli assembly satellite includendo l'elemento [\<relativeBindForResources>](../../../docs/framework/configure-apps/file-schema/runtime/relativebindforresources-element.md) e impostando il relativo attributo `enabled` su `true` nel file di configurazione dell'applicazione, come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="128f9-199">You optimize the probe for satellite assemblies by including the [\<relativeBindForResources>](../../../docs/framework/configure-apps/file-schema/runtime/relativebindforresources-element.md) element and setting its `enabled` attribute to `true` in the application configuration file, as shown in the following example.</span></span>

```xml
<configuration>
   <runtime>
      <relativeBindForResources enabled="true" />
   </runtime>
</configuration>
```

<span data-ttu-id="128f9-200">Il probe ottimizzato per gli assembly satellite è una funzionalità che richiede il consenso esplicito.</span><span class="sxs-lookup"><span data-stu-id="128f9-200">The optimized probe for satellite assemblies is an opt-in feature.</span></span> <span data-ttu-id="128f9-201">In altri termini il runtime segue le fasi documentate in [Processo di fallback per le risorse](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md#cpconpackagingdeployingresourcesanchor1) salvo se nel file di configurazione dell'applicazione è presente l'elemento [\<relativeBindForResources>](../../../docs/framework/configure-apps/file-schema/runtime/relativebindforresources-element.md) e l'attributo `enabled` di tale elemento è impostato su `true`.</span><span class="sxs-lookup"><span data-stu-id="128f9-201">That is, the runtime follows the steps documented in [The Resource Fallback Process](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md#cpconpackagingdeployingresourcesanchor1) unless the [\<relativeBindForResources>](../../../docs/framework/configure-apps/file-schema/runtime/relativebindforresources-element.md) element is present in the application's configuration file and its `enabled` attribute is set to `true`.</span></span> <span data-ttu-id="128f9-202">In questo caso il processo di probe di un assembly satellite viene modificato come segue:</span><span class="sxs-lookup"><span data-stu-id="128f9-202">If this is the case, the process of probing for a satellite assembly is modified as follows:</span></span>

- <span data-ttu-id="128f9-203">Il runtime usa il percorso dell'assembly del codice padre per il probe dell'assembly satellite.</span><span class="sxs-lookup"><span data-stu-id="128f9-203">The runtime uses the location of the parent code assembly to probe for the satellite assembly.</span></span> <span data-ttu-id="128f9-204">Se l'assembly padre è installato nella Global Assembly Cache il runtime esegue il probe nella cache ma non nella directory dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="128f9-204">If the parent assembly is installed in the global assembly cache, the runtime probes in the cache but not in the application's directory.</span></span> <span data-ttu-id="128f9-205">Se l'assembly padre è installato in una directory dell'applicazione il runtime esegue il probe nella directory dell'applicazione ma non nella Global Assembly Cache.</span><span class="sxs-lookup"><span data-stu-id="128f9-205">If the parent assembly is installed in an application directory, the runtime probes in the application directory but not in the global assembly cache.</span></span>

- <span data-ttu-id="128f9-206">Il runtime non esegue una query in Windows Installer per l'installazione su richiesta di assembly satellite.</span><span class="sxs-lookup"><span data-stu-id="128f9-206">The runtime doesn't query the Windows Installer for on-demand installation of satellite assemblies.</span></span>

- <span data-ttu-id="128f9-207">Se il probe per un assembly di risorse specifico non riesce, il runtime non genera l'evento <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="128f9-207">If the probe for a particular resource assembly fails, the runtime does not raise the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event.</span></span>

### <a name="net-core-resource-fallback-process"></a><span data-ttu-id="128f9-208">Processo di fallback per le risorse di .NET Core</span><span class="sxs-lookup"><span data-stu-id="128f9-208">.NET Core resource fallback process</span></span>

<span data-ttu-id="128f9-209">Il processo di fallback per le risorse di .NET Core include i passaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="128f9-209">The .NET Core resource fallback process involves the following steps:</span></span>

1. <span data-ttu-id="128f9-210">Il runtime prova a caricare un assembly satellite per le impostazioni cultura richieste.</span><span class="sxs-lookup"><span data-stu-id="128f9-210">The runtime attempts to load a satellite assembly for the requested culture.</span></span>
     - <span data-ttu-id="128f9-211">Cerca quindi nella directory dell'assembly in esecuzione una sottodirectory corrispondente alle impostazioni cultura richieste.</span><span class="sxs-lookup"><span data-stu-id="128f9-211">Checks the directory of the currently executing assembly for a subdirectory that matches the requested culture.</span></span> <span data-ttu-id="128f9-212">Se trova la sottodirectory, cerca nella sottodirectory un assembly satellite valido per le impostazioni cultura richieste e lo carica.</span><span class="sxs-lookup"><span data-stu-id="128f9-212">If it finds the subdirectory, it searches that subdirectory for a valid satellite assembly for the requested culture and loads it.</span></span>

       > [!NOTE]
       > <span data-ttu-id="128f9-213">Nei sistemi operativi con file system che fanno distinzione tra maiuscole e minuscole, ovvero Linux e macOS, la ricerca di sottodirectory con il nome delle impostazioni cultura fa distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="128f9-213">On operating systems with case-sensitive file systems (that is, Linux and macOS), the culture name subdirectory search is case-sensitive.</span></span> <span data-ttu-id="128f9-214">L'uso di maiuscole e minuscole nel nome della sottodirectory deve corrispondere esattamente a quello di <xref:System.Globalization.CultureInfo.Name?displayProperty=nameWithType>, ad esempio `es` o `es-MX`.</span><span class="sxs-lookup"><span data-stu-id="128f9-214">The subdirectory name must exactly match the case of the <xref:System.Globalization.CultureInfo.Name?displayProperty=nameWithType> (for example, `es` or `es-MX`).</span></span>

       > [!NOTE]
       > <span data-ttu-id="128f9-215">Se il programmatore ha derivato un contesto di caricamento dell'assembly personalizzato da <xref:System.Runtime.Loader.AssemblyLoadContext>, la situazione è più complicata.</span><span class="sxs-lookup"><span data-stu-id="128f9-215">If the programmer has derived a custom assembly load context from <xref:System.Runtime.Loader.AssemblyLoadContext>, the situation is complicated.</span></span> <span data-ttu-id="128f9-216">Se l'assembly in esecuzione è stato caricato nel contesto personalizzato, il runtime carica l'assembly satellite nel contesto personalizzato.</span><span class="sxs-lookup"><span data-stu-id="128f9-216">If the executing assembly was loaded into the custom context, the runtime loads the satellite assembly into the custom context.</span></span> <span data-ttu-id="128f9-217">I dettagli esulano dall'ambito di questo documento.</span><span class="sxs-lookup"><span data-stu-id="128f9-217">The details are out of scope for this document.</span></span> <span data-ttu-id="128f9-218">Vedere <xref:System.Runtime.Loader.AssemblyLoadContext>.</span><span class="sxs-lookup"><span data-stu-id="128f9-218">See  <xref:System.Runtime.Loader.AssemblyLoadContext>.</span></span>

     - <span data-ttu-id="128f9-219">Se non viene trovato un assembly satellite, <xref:System.Runtime.Loader.AssemblyLoadContext> genera l'evento <xref:System.Runtime.Loader.AssemblyLoadContext.Resolving?displayProperty=nameWithType> per indicare che non riesce a trovare l'assembly.</span><span class="sxs-lookup"><span data-stu-id="128f9-219">If a satellite assemble has not been found, the <xref:System.Runtime.Loader.AssemblyLoadContext> raises the <xref:System.Runtime.Loader.AssemblyLoadContext.Resolving?displayProperty=nameWithType> event to indicate that it is unable to find the satellite assembly.</span></span> <span data-ttu-id="128f9-220">Se si sceglie di gestire l'evento, il gestore eventi può caricare e restituire un riferimento all'assembly satellite.</span><span class="sxs-lookup"><span data-stu-id="128f9-220">If you choose to handle the event, your event handler can load and return a reference to the satellite assembly.</span></span>
     - <span data-ttu-id="128f9-221">Se l'assembly satellite non viene ancora trovato, AssemblyLoadContext determina l'attivazione di un evento <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> da parte di AppDomain per indicare che non riesce a trovare l'assembly.</span><span class="sxs-lookup"><span data-stu-id="128f9-221">If a satellite assembly still has not been found, the AssemblyLoadContext causes the AppDomain to trigger an <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event to indicate that it is unable to find the satellite assembly.</span></span> <span data-ttu-id="128f9-222">Se si sceglie di gestire l'evento, il gestore eventi può caricare e restituire un riferimento all'assembly satellite.</span><span class="sxs-lookup"><span data-stu-id="128f9-222">If you choose to handle the event, your event handler can load and return a reference to the satellite assembly.</span></span>

2. <span data-ttu-id="128f9-223">Se non viene trovato un assembly satellite, il runtime cerca la risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-223">If a satellite assembly is found, the runtime searches it for the requested resource.</span></span> <span data-ttu-id="128f9-224">Se trova la risorsa nell'assembly la usa direttamente.</span><span class="sxs-lookup"><span data-stu-id="128f9-224">If it finds the resource in the assembly, it uses it.</span></span> <span data-ttu-id="128f9-225">In caso contrario la ricerca continua.</span><span class="sxs-lookup"><span data-stu-id="128f9-225">If it doesn't find the resource, it continues the search.</span></span>

     > [!NOTE]
     > <span data-ttu-id="128f9-226">Per trovare una risorsa all'interno dell'assembly satellite, il runtime cerca il file di risorse richiesto da <xref:System.Resources.ResourceManager> per la proprietà <xref:System.Globalization.CultureInfo.Name?displayProperty=nameWithType> corrente.</span><span class="sxs-lookup"><span data-stu-id="128f9-226">To find a resource within the satellite assembly, the runtime searches for the resource file requested by the <xref:System.Resources.ResourceManager> for the current <xref:System.Globalization.CultureInfo.Name?displayProperty=nameWithType>.</span></span> <span data-ttu-id="128f9-227">All'interno del file di risorse cerca il nome della risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-227">Within the resource file it searches for the requested resource name.</span></span> <span data-ttu-id="128f9-228">Se uno dei due non viene trovato, la risorsa viene considerata come non trovata.</span><span class="sxs-lookup"><span data-stu-id="128f9-228">If either is not found, the resource is treated as not found.</span></span>

3. <span data-ttu-id="128f9-229">Il runtime cerca quindi gli assembly di impostazioni cultura padre su molti livelli potenziali, ripetendo ogni ora i passaggi 1 e 2.</span><span class="sxs-lookup"><span data-stu-id="128f9-229">The runtime next searches the parent culture assemblies through many potential levels, each time repeating steps 1 & 2.</span></span>

     <span data-ttu-id="128f9-230">Le impostazioni cultura padre sono definite come impostazioni cultura di fallback appropriate.</span><span class="sxs-lookup"><span data-stu-id="128f9-230">The parent culture is defined as an appropriate fallback culture.</span></span> <span data-ttu-id="128f9-231">Gli elementi padre sono candidati ideali per il fallback, perché l'impostazione di una risorsa qualsiasi è preferibile alla generazione di un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="128f9-231">Consider parents as fallback candidates, because providing any resource is preferable to throwing an exception.</span></span> <span data-ttu-id="128f9-232">Questo processo consente anche di tornare a usare le risorse.</span><span class="sxs-lookup"><span data-stu-id="128f9-232">This process also allows you to reuse resources.</span></span> <span data-ttu-id="128f9-233">Una determinata risorsa va inclusa nel livello padre solo se le impostazioni cultura figlio non richiedono la localizzazione della risorsa richiesta.</span><span class="sxs-lookup"><span data-stu-id="128f9-233">You should include a particular resource at the parent level only if the child culture doesn't need to localize the requested resource.</span></span> <span data-ttu-id="128f9-234">Se ad esempio si specificano assembly satellite per `en` (inglese neutro), `en-GB` (inglese del Regno Unito) ed `en-US` (inglese degli Stati Uniti), il satellite `en` contiene la terminologia comune, mentre i satelliti `en-GB` ed `en-US` forniscono override solo per i termini diversi.</span><span class="sxs-lookup"><span data-stu-id="128f9-234">For example, if you supply satellite assemblies for `en` (neutral English), `en-GB` (English as spoken in the United Kingdom), and `en-US` (English as spoken in the United States), the `en` satellite contains the common terminology, and the `en-GB` and `en-US` satellites provides overrides for only those terms that differ.</span></span>

     <span data-ttu-id="128f9-235">Ogni set di impostazioni cultura ha un solo set padre, definito dalla proprietà <xref:System.Globalization.CultureInfo.Parent%2A?displayProperty=nameWithType>, ma un set padre può a sua volta avere un proprio set padre.</span><span class="sxs-lookup"><span data-stu-id="128f9-235">Each culture has only one parent, which is defined by the <xref:System.Globalization.CultureInfo.Parent%2A?displayProperty=nameWithType> property, but a parent might have its own parent.</span></span> <span data-ttu-id="128f9-236">La ricerca di impostazioni cultura padre si arresta quando la proprietà <xref:System.Globalization.CultureInfo.Parent%2A> di un set di impostazioni cultura restituisce <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="128f9-236">The search for parent cultures stops when a culture's <xref:System.Globalization.CultureInfo.Parent%2A> property returns <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="128f9-237">Ai fini del fallback delle risorse, le impostazioni cultura inglese non dipendenti da paese/area geografica non sono considerate impostazioni cultura padre o impostazioni cultura che possono avere risorse.</span><span class="sxs-lookup"><span data-stu-id="128f9-237">For resource fallback, the invariant culture is not considered a parent culture or a culture that can have resources.</span></span>

4. <span data-ttu-id="128f9-238">Se dopo la ricerca nelle impostazioni cultura specificate in origine e in tutte le impostazioni cultura padre la risorsa non è stata trovata, viene usata la risorsa corrispondente alle impostazioni cultura predefinite (fallback).</span><span class="sxs-lookup"><span data-stu-id="128f9-238">If the culture that was originally specified and all parents have been searched and the resource is still not found, the resource for the default (fallback) culture is used.</span></span> <span data-ttu-id="128f9-239">In genere le risorse delle impostazioni cultura predefinite sono incluse nell'assembly principale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="128f9-239">Typically, the resources for the default culture are included in the main application assembly.</span></span> <span data-ttu-id="128f9-240">È tuttavia possibile specificare il valore <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty.nameWithType> per la proprietà <xref:System.Resources.NeutralResourcesLanguageAttribute.Location%2A> per indicare che la posizione finale di fallback per le risorse è un assembly satellite anziché l'assembly principale.</span><span class="sxs-lookup"><span data-stu-id="128f9-240">However, you can specify a value of <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty.nameWithType> for the <xref:System.Resources.NeutralResourcesLanguageAttribute.Location%2A> property to indicate that the ultimate fallback location for resources is a satellite assembly rather than the main assembly.</span></span>

    > [!NOTE]
    > <span data-ttu-id="128f9-241">La risorsa predefinita è l'unica risorsa che può essere compilata con l'assembly principale.</span><span class="sxs-lookup"><span data-stu-id="128f9-241">The default resource is the only resource that can be compiled with the main assembly.</span></span> <span data-ttu-id="128f9-242">Se non si specifica un assembly satellite tramite l'attributo <xref:System.Resources.NeutralResourcesLanguageAttribute>, la risorsa predefinita è il fallback finale (padre finale).</span><span class="sxs-lookup"><span data-stu-id="128f9-242">Unless you specify a satellite assembly by using the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute, it is the ultimate fallback (final parent).</span></span> <span data-ttu-id="128f9-243">È pertanto consigliabile includere sempre un set di risorse predefinito nell'assembly principale.</span><span class="sxs-lookup"><span data-stu-id="128f9-243">Therefore, we recommend that you always include a default set of resources in your main assembly.</span></span> <span data-ttu-id="128f9-244">Ciò evita la generazione di eccezioni.</span><span class="sxs-lookup"><span data-stu-id="128f9-244">This helps prevent exceptions from being thrown.</span></span> <span data-ttu-id="128f9-245">Se si include un file di risorse predefinito, si offre un fallback per tutte le risorse e si garantisce che l'utente disponga di almeno una risorsa, anche se questa non è specifica per le impostazioni cultura.</span><span class="sxs-lookup"><span data-stu-id="128f9-245">By including a default resource file, you provide a fallback for all resources and ensure that at least one resource is always present for the user, even if it is not culturally specific.</span></span>

5. <span data-ttu-id="128f9-246">Se infine il runtime non trova un file di risorse per impostazioni cultura predefinite (fallback), viene generata un'eccezione <xref:System.Resources.MissingManifestResourceException> o <xref:System.Resources.MissingSatelliteAssemblyException> per indicare che la risorsa non è stata trovata.</span><span class="sxs-lookup"><span data-stu-id="128f9-246">Finally, if the runtime doesn't find a resource file for a default (fallback) culture, a <xref:System.Resources.MissingManifestResourceException> or <xref:System.Resources.MissingSatelliteAssemblyException> exception is thrown to indicate that the resource could not be found.</span></span> <span data-ttu-id="128f9-247">Se il file di risorse viene trovato ma la risorsa richiesta non è presente, la richiesta restituisce `null`.</span><span class="sxs-lookup"><span data-stu-id="128f9-247">If the resource file is found but the requested resource is not present the request returns `null`.</span></span>

### <a name="ultimate-fallback-to-satellite-assembly"></a><span data-ttu-id="128f9-248">Fallback finale a un assembly satellite</span><span class="sxs-lookup"><span data-stu-id="128f9-248">Ultimate Fallback to Satellite Assembly</span></span>

<span data-ttu-id="128f9-249">Se si vuole è possibile rimuovere risorse dall'assembly principale e specificare che il runtime caricherà le risorse di fallback finale da un assembly satellite corrispondente a impostazioni cultura specifiche.</span><span class="sxs-lookup"><span data-stu-id="128f9-249">You can optionally remove resources from the main assembly and specify that the runtime should load the ultimate fallback resources from a satellite assembly that corresponds to a specific culture.</span></span> <span data-ttu-id="128f9-250">Per controllare il processo di fallback si usa il costruttore <xref:System.Resources.NeutralResourcesLanguageAttribute.%23ctor%28System.String%2CSystem.Resources.UltimateResourceFallbackLocation%29?displayProperty=nameWithType> e si specifica un valore per il parametro <xref:System.Resources.UltimateResourceFallbackLocation> che indica se Resource Manager estrarrà le risorse di fallback dall'assembly principale o da un assembly satellite.</span><span class="sxs-lookup"><span data-stu-id="128f9-250">To control the fallback process, you use the <xref:System.Resources.NeutralResourcesLanguageAttribute.%23ctor%28System.String%2CSystem.Resources.UltimateResourceFallbackLocation%29?displayProperty=nameWithType> constructor and supply a value for the <xref:System.Resources.UltimateResourceFallbackLocation> parameter that specifies whether Resource Manager should extract the fallback resources from the main assembly or from a satellite assembly.</span></span>

<span data-ttu-id="128f9-251">Nell'esempio di .NET Framework seguente viene usato l'attributo <xref:System.Resources.NeutralResourcesLanguageAttribute> per archiviare le risorse di fallback di un'applicazione in un assembly satellite per la lingua francese (`fr`).</span><span class="sxs-lookup"><span data-stu-id="128f9-251">The following .NET Framework example uses the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to store an application's fallback resources in a satellite assembly for the French (`fr`) language.</span></span> <span data-ttu-id="128f9-252">L'esempio include due file di testo di risorse che definiscono un'unica risorsa stringa denominata `Greeting`.</span><span class="sxs-lookup"><span data-stu-id="128f9-252">The example has two text-based resource files that define a single string resource named `Greeting`.</span></span> <span data-ttu-id="128f9-253">Il primo file, resources.fr.txt, contiene una risorsa per la lingua francese.</span><span class="sxs-lookup"><span data-stu-id="128f9-253">The first, resources.fr.txt, contains a French language resource.</span></span>

```
Greeting=Bon jour!
```

<span data-ttu-id="128f9-254">Il secondo file, resources.ru.txt, contiene una risorsa per la lingua russa.</span><span class="sxs-lookup"><span data-stu-id="128f9-254">The second, resources,ru.txt, contains a Russian language resource.</span></span>

```
Greeting=Добрый день
```

<span data-ttu-id="128f9-255">Questi due file vengono compilati in file resources eseguendo il [generatore di file di risorse (Resgen.exe)](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) dalla riga di comando.</span><span class="sxs-lookup"><span data-stu-id="128f9-255">These two files are compiled to .resources files by running the [resource file generator (Resgen.exe)](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) from the command line.</span></span> <span data-ttu-id="128f9-256">Per la risorsa di lingua francese il comando è:</span><span class="sxs-lookup"><span data-stu-id="128f9-256">For the French language resource, the command is:</span></span>

<span data-ttu-id="128f9-257">**resgen.exe resources.fr.txt**</span><span class="sxs-lookup"><span data-stu-id="128f9-257">**resgen.exe resources.fr.txt**</span></span>

<span data-ttu-id="128f9-258">Per la risorsa di lingua russa il comando è:</span><span class="sxs-lookup"><span data-stu-id="128f9-258">For the Russian language resource, the command is:</span></span>

<span data-ttu-id="128f9-259">**resgen.exe resources.ru.txt**</span><span class="sxs-lookup"><span data-stu-id="128f9-259">**resgen.exe resources.ru.txt**</span></span>

<span data-ttu-id="128f9-260">È possibile incorporare i file resources in librerie di collegamento dinamico (DLL) eseguendo [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md) dalla riga di comando con la seguente sintassi per la risorsa di lingua francese:</span><span class="sxs-lookup"><span data-stu-id="128f9-260">The .resources files are embedded into dynamic link libraries by running [assembly linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md) from the command line for the French language resource as follows:</span></span>

<span data-ttu-id="128f9-261">**al /t:lib /embed:resources.fr.resources /culture:fr /out:fr\Example1.resources.dll**</span><span class="sxs-lookup"><span data-stu-id="128f9-261">**al /t:lib /embed:resources.fr.resources /culture:fr /out:fr\Example1.resources.dll**</span></span>

<span data-ttu-id="128f9-262">e con la seguente sintassi per la risorsa di lingua russa:</span><span class="sxs-lookup"><span data-stu-id="128f9-262">and for the Russian language resource as follows:</span></span>

<span data-ttu-id="128f9-263">**al /t:lib /embed:resources.ru.resources /culture:ru /out:ru\Example1.resources.dll**</span><span class="sxs-lookup"><span data-stu-id="128f9-263">**al /t:lib /embed:resources.ru.resources /culture:ru /out:ru\Example1.resources.dll**</span></span>

<span data-ttu-id="128f9-264">Il codice sorgente dell'applicazione si trova in un file con nome Example1.cs o Example1.vb.</span><span class="sxs-lookup"><span data-stu-id="128f9-264">The application source code resides in a file named Example1.cs or Example1.vb.</span></span> <span data-ttu-id="128f9-265">Include l'attributo <xref:System.Resources.NeutralResourcesLanguageAttribute> per indicare che la risorsa di applicazione predefinita si trova nella sottodirectory fr.</span><span class="sxs-lookup"><span data-stu-id="128f9-265">It includes the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to indicate that the default application resource is in the fr subdirectory.</span></span> <span data-ttu-id="128f9-266">Crea un'istanza di Resource Manager, recupera il valore della risorsa `Greeting` e lo visualizza nella console.</span><span class="sxs-lookup"><span data-stu-id="128f9-266">It instantiates the Resource Manager, retrieves the value of the `Greeting` resource, and displays it to the console.</span></span>

[!code-csharp[Conceptual.Resources.Packaging#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.packaging/cs/example1.cs#1)]
[!code-vb[Conceptual.Resources.Packaging#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.packaging/vb/example1.vb#1)]

<span data-ttu-id="128f9-267">È quindi possibile compilare il codice sorgente C# dalla riga di comando come segue:</span><span class="sxs-lookup"><span data-stu-id="128f9-267">You can then compile C# source code from the command line as follows:</span></span>

```console
csc Example1.cs
```

<span data-ttu-id="128f9-268">Il comando per il compilatore Visual Basic è molto simile:</span><span class="sxs-lookup"><span data-stu-id="128f9-268">The command for the Visual Basic compiler is very similar:</span></span>

```console
vbc Example1.vb
```

<span data-ttu-id="128f9-269">Poiché nell'assembly principale non sono incorporate risorse, non è necessario compilare con l'opzione `/resource`.</span><span class="sxs-lookup"><span data-stu-id="128f9-269">Because there are no resources embedded in the main assembly, you do not have to compile by using the `/resource` switch.</span></span>

<span data-ttu-id="128f9-270">Quando si esegue l'esempio da un sistema la cui lingua è diversa dal russo viene visualizzato il seguente output:</span><span class="sxs-lookup"><span data-stu-id="128f9-270">When you run the example from a system whose language is anything other than Russian, it displays the following output:</span></span>

```
Bon jour!
```

## <a name="suggested-packaging-alternative"></a><span data-ttu-id="128f9-271">Proposta alternativa per la creazione dei pacchetti</span><span class="sxs-lookup"><span data-stu-id="128f9-271">Suggested Packaging Alternative</span></span>

<span data-ttu-id="128f9-272">Vincoli di tempo o di budget potrebbero rendere difficile la creazione di un set di risorse per ogni subset di impostazioni cultura supportato dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="128f9-272">Time or budget constraints might prevent you from creating a set of resources for every subculture that your application supports.</span></span> <span data-ttu-id="128f9-273">In alternativa è possibile creare un solo assembly satellite per impostazioni cultura padre usabili da tutte le impostazioni cultura secondarie correlate.</span><span class="sxs-lookup"><span data-stu-id="128f9-273">Instead, you can create a single satellite assembly for a parent culture that all related subcultures can use.</span></span> <span data-ttu-id="128f9-274">Ad esempio è possibile offrire un singolo assembly satellite inglese (en) che viene recuperato da utenti che richiedono risorse di regioni specifiche di lingua inglese e un singolo assembly satellite tedesco (de) per gli utenti che richiedono risorse di regioni specifiche di lingua tedesca.</span><span class="sxs-lookup"><span data-stu-id="128f9-274">For example, you can provide a single English satellite assembly (en) that is retrieved by users who request region-specific English resources, and a single German satellite assembly (de) for users who request region-specific German resources.</span></span> <span data-ttu-id="128f9-275">Le richieste per il tedesco parlato in Germania (de-DE), in Austria (de-AT) e in Svizzera (de-CH) avranno come fallback l'assembly satellite tedesco (de).</span><span class="sxs-lookup"><span data-stu-id="128f9-275">For example, requests for German as spoken in Germany (de-DE), Austria (de-AT), and Switzerland (de-CH) would fall back to the German satellite assembly (de).</span></span> <span data-ttu-id="128f9-276">Le risorse predefinite sono il fallback finale e come tali sono quelle richieste dalla maggior parte degli utenti dell'applicazione, perciò vanno scelte con attenzione.</span><span class="sxs-lookup"><span data-stu-id="128f9-276">The default resources are the final fallback and therefore should be the resources that will be requested by the majority of your application's users, so choose these resources carefully.</span></span> <span data-ttu-id="128f9-277">Questo approccio consente di distribuire risorse meno specifiche a livello di impostazioni cultura, ma in grado di ridurre notevolmente i costi di localizzazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="128f9-277">This approach deploys resources that are less culturally specific, but can significantly reduce your application's localization costs.</span></span>

## <a name="see-also"></a><span data-ttu-id="128f9-278">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="128f9-278">See also</span></span>

- [<span data-ttu-id="128f9-279">Risorse nelle applicazioni desktop</span><span class="sxs-lookup"><span data-stu-id="128f9-279">Resources in Desktop Apps</span></span>](../../../docs/framework/resources/index.md)
- [<span data-ttu-id="128f9-280">Global Assembly Cache</span><span class="sxs-lookup"><span data-stu-id="128f9-280">Global Assembly Cache</span></span>](../../../docs/framework/app-domains/gac.md)
- [<span data-ttu-id="128f9-281">Creazione dei file di risorsa</span><span class="sxs-lookup"><span data-stu-id="128f9-281">Creating Resource Files</span></span>](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md)
- [<span data-ttu-id="128f9-282">Creazione di assembly satellite</span><span class="sxs-lookup"><span data-stu-id="128f9-282">Creating Satellite Assemblies</span></span>](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md)

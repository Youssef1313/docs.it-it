---
title: Ridimensionamento di applicazioni in contenitori e serverless
description: Ridimensionamento di applicazioni native del cloud con il servizio Azure Kubernetes per soddisfare le richieste degli utenti aumentando le risorse di singoli computer o aumentando il numero di macchine virtuali in un cluster di applicazioni.
ms.date: 09/23/2019
ms.openlocfilehash: 2d0537fb3ed56beb4eccbf9b8c34a5d87793413b
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/23/2019
ms.locfileid: "71184799"
---
# <a name="scaling-containers-and-serverless-applications"></a><span data-ttu-id="aa146-103">Ridimensionamento di applicazioni in contenitori e serverless</span><span class="sxs-lookup"><span data-stu-id="aa146-103">Scaling containers and serverless applications</span></span>

<span data-ttu-id="aa146-104">È possibile ridimensionare un'applicazione in due modi tipici: scalabilità verticale e orizzontale. Il primo si riferisce all'aggiunta di funzionalità a un host, mentre quest'ultimo si riferisce all'aggiunta al numero totale di host.</span><span class="sxs-lookup"><span data-stu-id="aa146-104">There are two typical ways to scale an application: scaling up and scaling out. The former refers to adding capabilities to one host, while the latter refers to adding to the total number of hosts.</span></span> <span data-ttu-id="aa146-105">Un'analogia comune da usare per pensare a questo concetto è come ottenere se stessi e alcuni amici in città.</span><span class="sxs-lookup"><span data-stu-id="aa146-105">A common analogy to use to think about this is how to get yourself and some friends across town.</span></span> <span data-ttu-id="aa146-106">Se si tratta solo di un amico, è possibile passare all'auto da corsa a due sedi.</span><span class="sxs-lookup"><span data-stu-id="aa146-106">If it's just one friend, you could hop into your two-seat race car.</span></span> <span data-ttu-id="aa146-107">Tuttavia, se è costituito da tre o quattro, potrebbe essere necessario eseguire uno dei SUV o un minivan, aumentando la capacità.</span><span class="sxs-lookup"><span data-stu-id="aa146-107">But if it's three or four, you might need to take one of your SUVs or a minivan, scaling up to increase capacity.</span></span> <span data-ttu-id="aa146-108">Quando il numero totale passa a una decina o più, tuttavia, probabilmente è necessario prendere più veicoli (a meno che qualcuno non guidi un bus), che illustra il concetto di scalabilità orizzontale aggiungendo più istanze (in questo caso, più veicoli).</span><span class="sxs-lookup"><span data-stu-id="aa146-108">When your total number jumps up to a dozen or more, though, you probably need to take multiple vehicles (unless someone drives a bus), which demonstrates the concept of scaling out by adding more instances (in this case, more vehicles).</span></span> <span data-ttu-id="aa146-109">Ecco come si applicano alle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="aa146-109">Let's see how this applies to our applications.</span></span>

## <a name="the-simple-solution-scaling-up"></a><span data-ttu-id="aa146-110">Soluzione semplice: scalabilità verticale</span><span class="sxs-lookup"><span data-stu-id="aa146-110">The simple solution: scaling up</span></span>

<span data-ttu-id="aa146-111">Il processo di aggiornamento dei server esistenti per fornire loro più risorse (CPU, memoria, velocità di I/O del disco, velocità di I/O della rete) è noto come *scalabilità verticale*.</span><span class="sxs-lookup"><span data-stu-id="aa146-111">The process of upgrading existing servers to give them more resources (CPU, memory, disk I/O speed, network I/O speed) is known as *scaling up*.</span></span> <span data-ttu-id="aa146-112">Nelle applicazioni native del cloud, la scalabilità verticale non si riferisce in genere all'acquisto e all'installazione di hardware effettivo sui computer fisici, così come la scelta di un piano più idoneo da un elenco di opzioni disponibili.</span><span class="sxs-lookup"><span data-stu-id="aa146-112">In cloud-native applications, scaling up doesn't typically refer to purchasing and installing actual hardware on physical machines so much as choosing a more capable plan from a list of options available.</span></span> <span data-ttu-id="aa146-113">Le app native del cloud vengono in genere aumentate modificando le dimensioni della macchina virtuale (VM) usate per ospitare i singoli nodi nel pool di nodi Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="aa146-113">Cloud-native apps typically scale up by modifying the virtual machine (VM) size used to host the individual nodes in their Kubernetes node pool.</span></span> <span data-ttu-id="aa146-114">I concetti relativi a Kubernetes come nodi, cluster e pod sono descritti più avanti nella [sezione successiva](leverage-containers-orchestrators.md).</span><span class="sxs-lookup"><span data-stu-id="aa146-114">Kubernetes concepts like nodes, clusters, and pods are described further in [the next section](leverage-containers-orchestrators.md).</span></span> <span data-ttu-id="aa146-115">Azure supporta un'ampia gamma di dimensioni di VM che eseguono [Windows](https://docs.microsoft.com/azure/virtual-machines/windows/sizes?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) e [Linux](https://docs.microsoft.com/azure/virtual-machines/linux/sizes).</span><span class="sxs-lookup"><span data-stu-id="aa146-115">Azure supports a wide variety of VM sizes running both [Windows](https://docs.microsoft.com/azure/virtual-machines/windows/sizes?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and [Linux](https://docs.microsoft.com/azure/virtual-machines/linux/sizes).</span></span> <span data-ttu-id="aa146-116">Per ridimensionare verticalmente l'applicazione, creare un nuovo pool di nodi con dimensioni di macchina virtuale del nodo maggiori e quindi migrare i carichi di lavoro nel nuovo pool.</span><span class="sxs-lookup"><span data-stu-id="aa146-116">To vertically scale your application, create a new node pool with a larger node VM size and then migrate workloads to the new pool.</span></span> <span data-ttu-id="aa146-117">Questa operazione richiede [più pool di nodi per il cluster AKS](https://docs.microsoft.com/azure/aks/use-multiple-node-pools), una funzionalità attualmente in anteprima.</span><span class="sxs-lookup"><span data-stu-id="aa146-117">This requires [multiple node pools for your AKS cluster](https://docs.microsoft.com/azure/aks/use-multiple-node-pools), a feature that is currently in preview.</span></span> <span data-ttu-id="aa146-118">Per le app senza server è necessario scegliere un [piano Premium](https://docs.microsoft.com/azure/azure-functions/functions-scale) e le dimensioni delle istanze Premium oppure scegliendo un altro piano di servizio App dedicato.</span><span class="sxs-lookup"><span data-stu-id="aa146-118">Serverless apps scale up by choosing a [premium plan](https://docs.microsoft.com/azure/azure-functions/functions-scale) and premium instance sizes or by choosing a different dedicated app service plan.</span></span>

## <a name="scaling-out-cloud-native-apps"></a><span data-ttu-id="aa146-119">Scalabilità orizzontale delle app native del cloud</span><span class="sxs-lookup"><span data-stu-id="aa146-119">Scaling out cloud-native apps</span></span>

<span data-ttu-id="aa146-120">Le app native del cloud supportano la scalabilità orizzontale aggiungendo nodi o Pod aggiuntivi alle richieste di servizio.</span><span class="sxs-lookup"><span data-stu-id="aa146-120">Cloud-native apps support scaling out by adding additional nodes or pods to service requests.</span></span> <span data-ttu-id="aa146-121">Questa operazione può essere eseguita manualmente modificando le impostazioni di configurazione per l'app, ad esempio il [ridimensionamento di un pool di nodi](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually), o tramite la *scalabilità*automatica.</span><span class="sxs-lookup"><span data-stu-id="aa146-121">This can be accomplished manually by adjusting configuration settings for the app (for example, [scaling a node pool](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)), or through *autoscaling*.</span></span> <span data-ttu-id="aa146-122">La scalabilità automatica regola le risorse usate da un'app per rispondere alla richiesta, in modo analogo a come un termostato risponde alla temperatura chiamando per un riscaldamento o un raffreddamento aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="aa146-122">Autoscaling adjusts the resources used by an app in order to respond to demand, similar to how a thermostat responds to temperature by calling for additional heating or cooling.</span></span> <span data-ttu-id="aa146-123">Quando si usa la scalabilità automatica, la scalabilità manuale è disabilitata.</span><span class="sxs-lookup"><span data-stu-id="aa146-123">When using autoscaling, manual scaling is disabled.</span></span>

<span data-ttu-id="aa146-124">I cluster AKS possono essere ridimensionati in uno dei due modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="aa146-124">AKS clusters can scale in one of two ways:</span></span>

- <span data-ttu-id="aa146-125">Il servizio di [scalabilità](https://docs.microsoft.com/azure/aks/cluster-autoscaler) automatica del cluster controlla i pod che non possono essere pianificati nei nodi a causa di vincoli di risorse.</span><span class="sxs-lookup"><span data-stu-id="aa146-125">The [cluster autoscaler](https://docs.microsoft.com/azure/aks/cluster-autoscaler) watches for pods that can't be scheduled on nodes because of resource constraints.</span></span> <span data-ttu-id="aa146-126">Aggiunge altri nodi come richiesto.</span><span class="sxs-lookup"><span data-stu-id="aa146-126">It adds additional nodes as required.</span></span>
- <span data-ttu-id="aa146-127">Il servizio di **scalabilità automatica di Pod orizzontale** usa il server delle metriche in un cluster Kubernetes per monitorare le richieste di risorse dei pod.</span><span class="sxs-lookup"><span data-stu-id="aa146-127">The **horizontal pod autoscaler** uses the Metrics Server in a Kubernetes cluster to monitor the resource demands of pods.</span></span> <span data-ttu-id="aa146-128">Se un servizio necessita di più risorse, il ridimensionamento automatico aumenta il numero di Pod.</span><span class="sxs-lookup"><span data-stu-id="aa146-128">If a service needs more resources, the autoscaler increases the number of pods.</span></span>

<span data-ttu-id="aa146-129">La figura 3-13 Mostra la relazione tra questi due servizi di scalabilità.</span><span class="sxs-lookup"><span data-stu-id="aa146-129">Figure 3-13 shows the relationship between these two scaling services.</span></span>

![Scalabilità orizzontale di un piano di servizio app.](./media/aks-cluster-autoscaler.png)

<span data-ttu-id="aa146-131">**Figura 3-13**.</span><span class="sxs-lookup"><span data-stu-id="aa146-131">**Figure 3-13**.</span></span> <span data-ttu-id="aa146-132">Scalabilità orizzontale di un piano di servizio app.</span><span class="sxs-lookup"><span data-stu-id="aa146-132">Scaling out an App Service plan.</span></span>

<span data-ttu-id="aa146-133">Questi servizi possono anche ridurre il numero di pod o nodi in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="aa146-133">These services can also reduce the number of pods or nodes as needed.</span></span> <span data-ttu-id="aa146-134">Questi due servizi possono interagire insieme e spesso vengono distribuiti insieme in un cluster.</span><span class="sxs-lookup"><span data-stu-id="aa146-134">These two services can work together and are often deployed together in a cluster.</span></span> <span data-ttu-id="aa146-135">In combinazione, il ridimensionamento automatico del Pod orizzontale si concentra sull'esecuzione del numero di Pod necessari per soddisfare le richieste dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="aa146-135">When combined, the horizontal pod autoscaler is focused on running the number of pods required to meet application demand.</span></span> <span data-ttu-id="aa146-136">Il ridimensionamento automatico del cluster si concentra sull'esecuzione del numero di nodi necessari per supportare i pod pianificati.</span><span class="sxs-lookup"><span data-stu-id="aa146-136">The cluster autoscaler is focused on running the number of nodes required to support the scheduled pods.</span></span>

### <a name="scaling-azure-functions"></a><span data-ttu-id="aa146-137">Ridimensionamento di funzioni di Azure</span><span class="sxs-lookup"><span data-stu-id="aa146-137">Scaling Azure Functions</span></span>

<span data-ttu-id="aa146-138">Funzioni di Azure supporta automaticamente il ridimensionamento. Il piano a consumo predefinito aggiunge e rimuove le risorse in modo dinamico in base al numero di eventi di trigger in arrivo.</span><span class="sxs-lookup"><span data-stu-id="aa146-138">Azure Functions automatically supports scaling out. The default consumption plan adds (and removes) resources dynamically based on the number of triggering events coming in.</span></span> <span data-ttu-id="aa146-139">Vengono addebitate solo le risorse di calcolo usate quando le funzioni sono in esecuzione in base al numero di esecuzioni, al tempo di esecuzione e alla memoria usata.</span><span class="sxs-lookup"><span data-stu-id="aa146-139">You're only charged for compute resources being used when your functions are running based on the number of executions, execution time, and memory used.</span></span> <span data-ttu-id="aa146-140">Usando il piano Premium, si ottengono queste stesse funzionalità, ma è anche possibile controllare le dimensioni dell'istanza usate, avere istanze già attivate (per evitare ritardi di avvio a freddo) e configurare VM dedicate su cui eseguire le funzioni.</span><span class="sxs-lookup"><span data-stu-id="aa146-140">Using the premium plan, you get these same features but you can also control the instance sizes that are used, have instances already warmed up (to avoid cold start delays), and configure dedicated VMs on which to run your functions.</span></span> <span data-ttu-id="aa146-141">Sebbene la configurazione predefinita fornisca una soluzione economica e scalabile per la maggior parte delle app, l'opzione Premium consente agli sviluppatori di flessibilità per i requisiti di funzioni di Azure personalizzate.</span><span class="sxs-lookup"><span data-stu-id="aa146-141">While the default configuration should provide an economical and scalable solution for most apps, the premium option allows developers flexibility for custom Azure Functions requirements.</span></span>

## <a name="references"></a><span data-ttu-id="aa146-142">Riferimenti</span><span class="sxs-lookup"><span data-stu-id="aa146-142">References</span></span>

- [<span data-ttu-id="aa146-143">Più pool di nodi AKS</span><span class="sxs-lookup"><span data-stu-id="aa146-143">AKS Multiple Node Pools</span></span>](https://docs.microsoft.com/azure/aks/use-multiple-node-pools)
- [<span data-ttu-id="aa146-144">Scalabilità automatica del cluster AKS</span><span class="sxs-lookup"><span data-stu-id="aa146-144">AKS Cluster Autoscaler</span></span>](https://docs.microsoft.com/azure/aks/cluster-autoscaler)
- [<span data-ttu-id="aa146-145">Esercitazione: ridimensionare le applicazioni in AKS</span><span class="sxs-lookup"><span data-stu-id="aa146-145">Tutorial: Scale applications in AKS</span></span>](https://docs.microsoft.com/azure/aks/tutorial-kubernetes-scale)
- [<span data-ttu-id="aa146-146">Scalabilità e hosting di funzioni di Azure</span><span class="sxs-lookup"><span data-stu-id="aa146-146">Azure Functions scale and hosting</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-scale)

>[!div class="step-by-step"]
><span data-ttu-id="aa146-147">[Precedente](deploy-containers-azure.md)
>[Successivo](other-deployment-options.md)</span><span class="sxs-lookup"><span data-stu-id="aa146-147">[Previous](deploy-containers-azure.md)
[Next](other-deployment-options.md)</span></span>

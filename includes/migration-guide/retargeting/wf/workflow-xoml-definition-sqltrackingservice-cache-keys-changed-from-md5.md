---
ms.openlocfilehash: 47aa67096f8dcd250521d9c34dde97cb2eb368d7
ms.sourcegitcommit: d55e14eb63588830c0ba1ea95a24ce6c57ef8c8c
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 07/11/2019
ms.locfileid: "67803543"
---
### <a name="workflow-xoml-definition-and-sqltrackingservice-cache-keys-changed-from-md5-to-sha256"></a><span data-ttu-id="e0398-101">La definizione XOML del flusso di lavoro e le chiavi della cache di SqlTrackingService sono state modificate da MD5 a SHA256</span><span class="sxs-lookup"><span data-stu-id="e0398-101">Workflow XOML definition and SqlTrackingService cache keys changed from MD5 to SHA256</span></span>

|   |   |
|---|---|
|<span data-ttu-id="e0398-102">Dettagli</span><span class="sxs-lookup"><span data-stu-id="e0398-102">Details</span></span>|<span data-ttu-id="e0398-103">Nel runtime di Workflow viene archiviata una cache di definizioni del flusso di lavoro definite in XOML.</span><span class="sxs-lookup"><span data-stu-id="e0398-103">The Workflow Runtime in keeps a cache of workflow definitions defined in XOML.</span></span> <span data-ttu-id="e0398-104">Anche in SqlTrackingService viene archiviata una cache con chiavi specificate da stringhe.</span><span class="sxs-lookup"><span data-stu-id="e0398-104">The SqlTrackingService also keeps a cache that is keyed by strings.</span></span> <span data-ttu-id="e0398-105">Queste cache vengono codificate con chiavi in base ai valori che includono un valore hash di checksum.</span><span class="sxs-lookup"><span data-stu-id="e0398-105">These caches are keyed by values that include checksum hash value.</span></span> <span data-ttu-id="e0398-106">In .NET Framework 4.7.2 e versioni precedenti l'hash del checksum usava l'algoritmo MD5 che causava problemi nei sistemi abilitati per FIPS.</span><span class="sxs-lookup"><span data-stu-id="e0398-106">In the .NET Framework 4.7.2 and earlier versions, this checksum hashing used the MD5 algorithm, which caused issues on FIPS-enabled systems.</span></span> <span data-ttu-id="e0398-107">A partire da .NET Framework 4.8, l'algoritmo usato è SHA256.Non dovrebbero esserci problemi di compatibilità con questa modifica poiché i valori vengono ricalcolati ogni volta che vengono avviati il runtime di Workflow e SqlTrackingService.</span><span class="sxs-lookup"><span data-stu-id="e0398-107">Starting with the .NET Framework 4.8, the algorithm used is SHA256.There shouldn't be an compatability issue with this change because the values are recalculated each time the Workflow Runtime and SqlTrackingService is started.</span></span> <span data-ttu-id="e0398-108">Tuttavia, sono state specificate modalità non standard per consentire ai clienti di ripristinare l'uso dell'algoritmo hash legacy, in caso di necessità.</span><span class="sxs-lookup"><span data-stu-id="e0398-108">However, we have provided quirks to allow customers to revert back to usage of the legacy hashing algorithm, if necessary.</span></span>|
|<span data-ttu-id="e0398-109">Suggerimento</span><span class="sxs-lookup"><span data-stu-id="e0398-109">Suggestion</span></span>|<span data-ttu-id="e0398-110">Se questa modifica crea problemi durante l'esecuzione dei flussi di lavoro, provare a impostare una o entrambe le opzioni <code>AppContext</code>:</span><span class="sxs-lookup"><span data-stu-id="e0398-110">If this change presents a problem when executing workflows, try setting one or both of the <code>AppContext</code> switches:</span></span><ul><li><span data-ttu-id="e0398-111">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey&quot; su true.</span><span class="sxs-lookup"><span data-stu-id="e0398-111">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey&quot; to true.</span></span></li><li><span data-ttu-id="e0398-112">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKey&quot; su true.</span><span class="sxs-lookup"><span data-stu-id="e0398-112">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKey&quot; to true.</span></span></li></ul><span data-ttu-id="e0398-113">In codice:</span><span class="sxs-lookup"><span data-stu-id="e0398-113">In code:</span></span><pre><code class="lang-csharp">System.AppContext.SetSwitch(&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey&quot;, true);&#13;&#10;System.AppContext.SetSwitch(&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKey&quot;, true);&#13;&#10;</code></pre><span data-ttu-id="e0398-114">O nel file di configurazione (deve essere il file di configurazione per l'applicazione con cui si sta creando l'oggetto <xref:System.Workflow.Runtime.WorkflowRuntime>):</span><span class="sxs-lookup"><span data-stu-id="e0398-114">Or in the configuration file (this needs to be in the config file for the application that is creating the <xref:System.Workflow.Runtime.WorkflowRuntime> object):</span></span><pre><code class="lang-xml">&lt;configuration&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey=true&quot; /&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKeytrue&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="e0398-115">Ambito</span><span class="sxs-lookup"><span data-stu-id="e0398-115">Scope</span></span>|<span data-ttu-id="e0398-116">Secondario</span><span class="sxs-lookup"><span data-stu-id="e0398-116">Minor</span></span>|
|<span data-ttu-id="e0398-117">Versione</span><span class="sxs-lookup"><span data-stu-id="e0398-117">Version</span></span>|<span data-ttu-id="e0398-118">4.8</span><span class="sxs-lookup"><span data-stu-id="e0398-118">4.8</span></span>|
|<span data-ttu-id="e0398-119">Tipo</span><span class="sxs-lookup"><span data-stu-id="e0398-119">Type</span></span>|<span data-ttu-id="e0398-120">Ridestinazione</span><span class="sxs-lookup"><span data-stu-id="e0398-120">Retargeting</span></span>|

